(self.webpackChunkmfe_USERS_CRUD=self.webpackChunkmfe_USERS_CRUD||[]).push([[1],{9001:(v,E,t)=>{t.r(E),t.d(E,{AuthService:()=>m,CoreServicesComponent:()=>c,CoreServicesService:()=>l,OrganizationService:()=>y,ProductCategory:()=>D,RoleManagementService:()=>P,RoleService:()=>h,SalesDataService:()=>A,SalesStatus:()=>_,SystemRole:()=>S,TeamService:()=>M,UserRole:()=>a,UserService:()=>O});var o=t(4332);let l=(()=>{class s{constructor(){}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var f=t(467),r=t(3425),u=t(4230);let m=(()=>{class s{constructor(e){this.http=e,this.id="auth of pokemon",this.ISSUER_BASE_URL="https://topfix-wrczmn.us1.zitadel.cloud",this.CLIENT_ID="336777344075263315",this.REDIRECT_URI="https://opensourcekd.github.io/pokemon/#/auth-callback",this.SCOPE="openid profile email",this.TOKEN_KEY="zitadel_token",this.USER_INFO_KEY="zitadel_user_info",this.userSubject=new r.BehaviorSubject(this.getUserInfoFromStorage()),this.user$=this.userSubject.asObservable(),console.log("In constructor of auth service in pokemon")}login(e){e&&console.log(`[AuthService] Logged in: ${e}`),this.redirectToZitadelLogin()}redirectToZitadelLogin(){const e=new URL(`${this.ISSUER_BASE_URL}/oauth/v2/authorize`),n=this.generateRandomState(),i=this.generateCodeVerifier();sessionStorage.setItem("oauth_state",n),sessionStorage.setItem("code_verifier",i),e.searchParams.append("client_id",this.CLIENT_ID),e.searchParams.append("redirect_uri",this.REDIRECT_URI),e.searchParams.append("response_type","code"),e.searchParams.append("scope",this.SCOPE),e.searchParams.append("state",n),window.location.href=e.toString()}handleCallback(e,n){var i=this;return(0,f.A)(function*(){const p=sessionStorage.getItem("oauth_state");if(n!==p)return console.error("State mismatch - possible CSRF attack"),!1;try{const g=yield i.exchangeCodeForToken(e);i.setToken(g.access_token);const T=i.decodeIdToken(g.id_token);return i.setUserInfo(T),sessionStorage.removeItem("oauth_state"),sessionStorage.removeItem("code_verifier"),!0}catch(g){return console.error("Error exchanging code for token:",g),!1}})()}exchangeCodeForToken(e){var n=this;return(0,f.A)(function*(){const i=`${n.ISSUER_BASE_URL}/oauth/v2/token`,p=new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:n.REDIRECT_URI,client_id:n.CLIENT_ID}),g=yield fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:p.toString()});if(!g.ok)throw new Error(`Token exchange failed: ${g.statusText}`);return g.json()})()}decodeIdToken(e){try{const n=e.split(".")[1],i=JSON.parse(atob(n));return{sub:i.sub,name:i.name,email:i.email}}catch(n){return console.error("Error decoding ID token:",n),{sub:""}}}logout(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_INFO_KEY),this.userSubject.next(null)}getToken(){return localStorage.getItem(this.TOKEN_KEY)}setToken(e){localStorage.setItem(this.TOKEN_KEY,e)}isAuthenticated(){return!!this.getToken()}getUser(){return this.userSubject.value}getUserInfoFromStorage(){const e=localStorage.getItem(this.USER_INFO_KEY);return e?JSON.parse(e):null}setUserInfo(e){localStorage.setItem(this.USER_INFO_KEY,JSON.stringify(e)),this.userSubject.next(e)}generateRandomState(){const e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}generateCodeVerifier(){const e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}static{this.\u0275fac=function(n){return new(n||s)(o.\u0275\u0275inject(u.HttpClient))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),c=(()=>{class s{static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:s,selectors:[["org-core-services"]],standalone:!0,features:[o.\u0275\u0275StandaloneFeature],decls:2,vars:0,template:function(n,i){1&n&&(o.\u0275\u0275elementStart(0,"p"),o.\u0275\u0275text(1," core-services works! "),o.\u0275\u0275elementEnd())}})}}return s})();var a=function(s){return s.SUPER_ADMIN="super-admin",s.ORG_ADMIN="org-admin",s.TEAM_LEAD="team-lead",s.SALES_EXECUTIVE="sales-executive",s}(a||{});let h=(()=>{class s{constructor(e){this.currentUserSubject=new r.BehaviorSubject(this.getDummyUser()),this.currentUser$=this.currentUserSubject.asObservable(),this.dataService=e}getCurrentUser(){return this.currentUserSubject.value}setCurrentUser(e){this.currentUserSubject.next(e)}hasRole(e){return this.getCurrentUser()?.role===e}hasAnyRole(e){const n=this.getCurrentUser();return!!n&&e.includes(n.role)}isAdmin(){return this.hasAnyRole([a.SUPER_ADMIN,a.ORG_ADMIN])}isTeamLeadOrHigher(){return this.hasAnyRole([a.SUPER_ADMIN,a.ORG_ADMIN,a.TEAM_LEAD])}getAllUsers(){return[{id:"user-1",name:"John Admin",email:"john.admin@company.com",role:a.SUPER_ADMIN},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",role:a.ORG_ADMIN},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",role:a.TEAM_LEAD,teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:a.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",role:a.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",role:a.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}]}getViewableUsers(){const e=this.getCurrentUser();if(!e)return[];const n=this.getAllUsers();return this.isTeamLeadOrHigher()?n.filter(i=>i.role===a.SALES_EXECUTIVE||i.id===e.id):n.filter(i=>i.id===e.id)}getDummyUser(){return{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:a.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}}static{this.\u0275fac=function(n){return new(n||s)(o.\u0275\u0275inject("DataService",8))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var d=t(3103),_=function(s){return s.COMPLETED="completed",s.PENDING="pending",s.CANCELLED="cancelled",s}(_||{}),D=function(s){return s.ELECTRONICS="Electronics",s.SOFTWARE="Software",s.SERVICES="Services",s.HARDWARE="Hardware",s}(D||{});let A=(()=>{class s{constructor(e){this.dummySalesData=this.generateDummyData(),this.dataService=e}getSalesHistory(e,n,i){if(this.dataService)return this.dataService.getSalesHistory(e,n,i);let p=this.dummySalesData.filter(g=>g.salesExecutiveId===e);return n&&(p=p.filter(g=>g.date>=n)),i&&(p=p.filter(g=>g.date<=i)),(0,r.of)(p).pipe((0,d.c)(300))}getSalesSummary(e){if(this.dataService)return this.dataService.getSalesSummary(e);const n=this.dummySalesData.filter(p=>p.salesExecutiveId===e),i={totalSales:n.filter(p=>p.status===_.COMPLETED).reduce((p,g)=>p+g.amount,0),totalCommission:n.filter(p=>p.status===_.COMPLETED).reduce((p,g)=>p+g.commission,0),completedCount:n.filter(p=>p.status===_.COMPLETED).length,pendingCount:n.filter(p=>p.status===_.PENDING).length,cancelledCount:n.filter(p=>p.status===_.CANCELLED).length};return(0,r.of)(i).pipe((0,d.c)(300))}getAllSales(){return this.dataService?this.dataService.getAllSales():(0,r.of)(this.dummySalesData).pipe((0,d.c)(300))}generateDummyData(){const e=[{name:"Enterprise Software License",category:D.SOFTWARE,basePrice:5e4},{name:"Cloud Storage Solution",category:D.SERVICES,basePrice:25e3},{name:"Server Hardware",category:D.HARDWARE,basePrice:35e3},{name:"IoT Device Package",category:D.ELECTRONICS,basePrice:15e3},{name:"Consulting Services",category:D.SERVICES,basePrice:2e4},{name:"Mobile App Development",category:D.SOFTWARE,basePrice:45e3},{name:"Security Suite",category:D.SOFTWARE,basePrice:3e4},{name:"Network Infrastructure",category:D.HARDWARE,basePrice:6e4}],n=["Acme Corporation","Tech Innovations Inc","Global Solutions Ltd","Digital Dynamics","Future Systems","Smart Technologies","Enterprise Solutions","Cloud Masters"],i=["North","South","East","West","Central"],p=[{id:"user-4",name:"Alice Sales"},{id:"user-5",name:"Bob Sales"},{id:"user-6",name:"Carol Sales"}],g=[_.COMPLETED,_.COMPLETED,_.COMPLETED,_.PENDING,_.CANCELLED],T=[];let b=1;for(let C=0;C<50;C++){const R=p[C%p.length],U=e[Math.floor(Math.random()*e.length)],x=n[Math.floor(Math.random()*n.length)],B=i[Math.floor(Math.random()*i.length)],K=g[Math.floor(Math.random()*g.length)],w=U.basePrice+(1e4*Math.random()-5e3),W=.05*w,L=new Date;L.setDate(L.getDate()-Math.floor(180*Math.random())),T.push({id:"sale-"+b++,salesExecutiveId:R.id,salesExecutiveName:R.name,productName:U.name,productCategory:U.category,amount:Math.round(w),commission:Math.round(W),status:K,date:L,clientName:x,region:B})}return T.sort((C,R)=>R.date.getTime()-C.date.getTime())}static{this.\u0275fac=function(n){return new(n||s)(o.\u0275\u0275inject("DataService",8))}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var S=function(s){return s.SUPER_ADMIN="super-admin",s.ORG_ADMIN="org-admin",s.TEAM_LEAD="team-lead",s.MEMBER="member",s}(S||{});let y=(()=>{class s{constructor(){this.organizations=[{id:"org-1",name:"Acme Corporation",description:"Leading technology solutions provider",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01"),isActive:!0,settings:{timezone:"America/New_York",currency:"USD",locale:"en-US"}},{id:"org-2",name:"Global Enterprises",description:"International business solutions",createdAt:new Date("2024-02-01"),updatedAt:new Date("2024-02-01"),isActive:!0,settings:{timezone:"Europe/London",currency:"GBP",locale:"en-GB"}}],this.organizationsSubject=new r.BehaviorSubject(this.organizations),this.organizations$=this.organizationsSubject.asObservable()}getAll(){return(0,r.of)(this.organizations).pipe((0,d.c)(300))}getById(e){const n=this.organizations.find(i=>i.id===e);return(0,r.of)(n).pipe((0,d.c)(300))}create(e){const n={...e,id:`org-${Date.now()}`,createdAt:new Date,updatedAt:new Date};return this.organizations.push(n),this.organizationsSubject.next(this.organizations),(0,r.of)(n).pipe((0,d.c)(300))}update(e,n){const i=this.organizations.findIndex(p=>p.id===e);return-1!==i?(this.organizations[i]={...this.organizations[i],...n,updatedAt:new Date},this.organizationsSubject.next(this.organizations),(0,r.of)(this.organizations[i]).pipe((0,d.c)(300))):(0,r.of)(null).pipe((0,d.c)(300))}delete(e){const n=this.organizations.findIndex(i=>i.id===e);return-1!==n?(this.organizations[n].isActive=!1,this.organizations[n].updatedAt=new Date,this.organizationsSubject.next(this.organizations),(0,r.of)(!0).pipe((0,d.c)(300))):(0,r.of)(!1).pipe((0,d.c)(300))}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),M=(()=>{class s{constructor(){this.teams=[{id:"team-1",name:"Engineering Team",description:"Software development team",organizationId:"org-1",leadId:"user-3",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),isActive:!0},{id:"team-2",name:"Sales Team",description:"Customer acquisition and sales",organizationId:"org-1",leadId:"user-5",createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-20"),isActive:!0},{id:"team-3",name:"Support Team",description:"Customer support and success",organizationId:"org-2",leadId:"user-7",createdAt:new Date("2024-02-10"),updatedAt:new Date("2024-02-10"),isActive:!0}],this.teamsSubject=new r.BehaviorSubject(this.teams),this.teams$=this.teamsSubject.asObservable()}getAll(){return(0,r.of)(this.teams).pipe((0,d.c)(300))}getByOrganization(e){const n=this.teams.filter(i=>i.organizationId===e);return(0,r.of)(n).pipe((0,d.c)(300))}getById(e){const n=this.teams.find(i=>i.id===e);return(0,r.of)(n).pipe((0,d.c)(300))}create(e){const n={...e,id:`team-${Date.now()}`,createdAt:new Date,updatedAt:new Date};return this.teams.push(n),this.teamsSubject.next(this.teams),(0,r.of)(n).pipe((0,d.c)(300))}update(e,n){const i=this.teams.findIndex(p=>p.id===e);return-1!==i?(this.teams[i]={...this.teams[i],...n,updatedAt:new Date},this.teamsSubject.next(this.teams),(0,r.of)(this.teams[i]).pipe((0,d.c)(300))):(0,r.of)(null).pipe((0,d.c)(300))}delete(e){const n=this.teams.findIndex(i=>i.id===e);return-1!==n?(this.teams[n].isActive=!1,this.teams[n].updatedAt=new Date,this.teamsSubject.next(this.teams),(0,r.of)(!0).pipe((0,d.c)(300))):(0,r.of)(!1).pipe((0,d.c)(300))}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),O=(()=>{class s{constructor(){this.users=[{id:"user-1",name:"John Admin",email:"john.admin@acme.com",organizationId:"org-1",teamId:"team-1",roleId:"role-1",isActive:!0,createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-05"),zitadelUserId:"zitadel-user-1"},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@acme.com",organizationId:"org-1",teamId:"team-1",roleId:"role-2",isActive:!0,createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-10"),zitadelUserId:"zitadel-user-2"},{id:"user-3",name:"Mike Lead",email:"mike.lead@acme.com",organizationId:"org-1",teamId:"team-1",roleId:"role-3",isActive:!0,createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-12"),zitadelUserId:"zitadel-user-3"},{id:"user-4",name:"Alice Developer",email:"alice.dev@acme.com",organizationId:"org-1",teamId:"team-1",roleId:"role-4",isActive:!0,createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),zitadelUserId:"zitadel-user-4"},{id:"user-5",name:"Bob Sales",email:"bob.sales@acme.com",organizationId:"org-1",teamId:"team-2",roleId:"role-3",isActive:!0,createdAt:new Date("2024-01-18"),updatedAt:new Date("2024-01-18"),zitadelUserId:"zitadel-user-5"},{id:"user-6",name:"Carol Sales Rep",email:"carol.sales@acme.com",organizationId:"org-1",teamId:"team-2",roleId:"role-4",isActive:!0,createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-20"),zitadelUserId:"zitadel-user-6"},{id:"user-7",name:"Dave Support Lead",email:"dave.support@global.com",organizationId:"org-2",teamId:"team-3",roleId:"role-3",isActive:!0,createdAt:new Date("2024-02-10"),updatedAt:new Date("2024-02-10"),zitadelUserId:"zitadel-user-7"},{id:"user-8",name:"Emma Support",email:"emma.support@global.com",organizationId:"org-2",teamId:"team-3",roleId:"role-4",isActive:!0,createdAt:new Date("2024-02-12"),updatedAt:new Date("2024-02-12"),zitadelUserId:"zitadel-user-8"}],this.usersSubject=new r.BehaviorSubject(this.users),this.users$=this.usersSubject.asObservable()}getAll(){return(0,r.of)(this.users).pipe((0,d.c)(300))}getByOrganization(e){const n=this.users.filter(i=>i.organizationId===e);return(0,r.of)(n).pipe((0,d.c)(300))}getByTeam(e){const n=this.users.filter(i=>i.teamId===e);return(0,r.of)(n).pipe((0,d.c)(300))}getById(e){const n=this.users.find(i=>i.id===e);return(0,r.of)(n).pipe((0,d.c)(300))}create(e){const n={...e,id:`user-${Date.now()}`,createdAt:new Date,updatedAt:new Date};return this.users.push(n),this.usersSubject.next(this.users),(0,r.of)(n).pipe((0,d.c)(300))}update(e,n){const i=this.users.findIndex(p=>p.id===e);return-1!==i?(this.users[i]={...this.users[i],...n,updatedAt:new Date},this.usersSubject.next(this.users),(0,r.of)(this.users[i]).pipe((0,d.c)(300))):(0,r.of)(null).pipe((0,d.c)(300))}delete(e){const n=this.users.findIndex(i=>i.id===e);return-1!==n?(this.users[n].isActive=!1,this.users[n].updatedAt=new Date,this.usersSubject.next(this.users),(0,r.of)(!0).pipe((0,d.c)(300))):(0,r.of)(!1).pipe((0,d.c)(300))}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),P=(()=>{class s{constructor(){this.roles=[{id:"role-1",name:"Super Admin",description:"Full system access",permissions:["*"],isSystemRole:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"role-2",name:"Organization Admin",description:"Full access within organization",permissions:["org:*","team:*","user:*"],isSystemRole:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"role-3",name:"Team Lead",description:"Manage team and team members",permissions:["team:read","team:update","user:read","user:update"],isSystemRole:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")},{id:"role-4",name:"Member",description:"Basic member access",permissions:["user:read"],isSystemRole:!0,createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01")}],this.rolesSubject=new r.BehaviorSubject(this.roles),this.roles$=this.rolesSubject.asObservable()}getAll(){return(0,r.of)(this.roles).pipe((0,d.c)(300))}getById(e){const n=this.roles.find(i=>i.id===e);return(0,r.of)(n).pipe((0,d.c)(300))}getSystemRoles(){const e=this.roles.filter(n=>n.isSystemRole);return(0,r.of)(e).pipe((0,d.c)(300))}getCustomRoles(){const e=this.roles.filter(n=>!n.isSystemRole);return(0,r.of)(e).pipe((0,d.c)(300))}create(e){const n={...e,id:`role-${Date.now()}`,createdAt:new Date,updatedAt:new Date};return this.roles.push(n),this.rolesSubject.next(this.roles),(0,r.of)(n).pipe((0,d.c)(300))}update(e,n){const i=this.roles.findIndex(p=>p.id===e);return-1===i||this.roles[i].isSystemRole?(0,r.of)(null).pipe((0,d.c)(300)):(this.roles[i]={...this.roles[i],...n,updatedAt:new Date},this.rolesSubject.next(this.roles),(0,r.of)(this.roles[i]).pipe((0,d.c)(300)))}delete(e){const n=this.roles.findIndex(i=>i.id===e);return-1===n||this.roles[n].isSystemRole?(0,r.of)(!1).pipe((0,d.c)(300)):(this.roles.splice(n,1),this.rolesSubject.next(this.roles),(0,r.of)(!0).pipe((0,d.c)(300)))}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275prov=o.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})()},8399:(v,E,t)=>{t.d(E,{_:()=>l});var o=t(6129);class l{constructor(r,u=l.now){this.schedulerActionCtor=r,this.now=u}schedule(r,u=0,m){return new this.schedulerActionCtor(this,r).schedule(m,u)}}l.now=o.U.now},2688:(v,E,t)=>{t.d(E,{x:()=>r});var o=t(9131),l=t(9326),f=t(9724);function r(...u){return(0,o.K)()((0,f.H)(u,(0,l.lI)(u)))}},983:(v,E,t)=>{t.d(E,{I:()=>f,w:()=>l});var o=t(1985);const l=new o.c(u=>u.complete());function f(u){return u?function r(u){return new o.c(m=>u.schedule(()=>m.complete()))}(u):l}},9724:(v,E,t)=>{t.d(E,{H:()=>f});var o=t(5894),l=t(8750);function f(r,u){return u?(0,o.c)(r,u):(0,l.Tg)(r)}},1807:(v,E,t)=>{t.d(E,{O:()=>u});var o=t(1985),l=t(3236),f=t(9470),r=t(8211);function u(m=0,c,a=l.b){let h=-1;return null!=c&&((0,f.m)(c)?a=c:h=c),new o.c(d=>{let _=(0,r.v)(m)?+m-a.now():m;_<0&&(_=0);let D=0;return a.schedule(function(){d.closed||(d.next(D++),0<=h?this.schedule(void 0,h):d.complete())},_)})}},9131:(v,E,t)=>{t.d(E,{K:()=>l});var o=t(6365);function l(){return(0,o.U)(1)}},3103:(v,E,t)=>{t.d(E,{c:()=>r});var o=t(3236),l=t(3183),f=t(1807);function r(u,m=o.E){const c=(0,f.O)(u,m);return(0,l.o)(()=>c)}},3183:(v,E,t)=>{t.d(E,{o:()=>c});var o=t(2688),l=t(6697),f=t(3557),r=t(3703),u=t(3028),m=t(8750);function c(a,h){return h?d=>(0,o.x)(h.pipe((0,l.s)(1),(0,f.w)()),d.pipe(c(a))):(0,u.Z)((d,_)=>(0,m.Tg)(a(d,_)).pipe((0,l.s)(1),(0,r.u)(d)))}},3557:(v,E,t)=>{t.d(E,{w:()=>r});var o=t(9974),l=t(4360),f=t(5343);function r(){return(0,o.N)((u,m)=>{u.subscribe((0,l._)(m,f.l))})}},3703:(v,E,t)=>{t.d(E,{u:()=>l});var o=t(6354);function l(f){return(0,o.T)(()=>f)}},6365:(v,E,t)=>{t.d(E,{U:()=>f});var o=t(3028),l=t(3669);function f(r=1/0){return(0,o.Z)(l.D,r)}},5412:(v,E,t)=>{t.d(E,{h:()=>r});var o=t(8750),l=t(5225),f=t(4360);function r(u,m,c,a,h,d,_,D){const A=[];let S=0,y=0,M=!1;const O=()=>{M&&!A.length&&!S&&m.complete()},P=I=>S<a?s(I):A.push(I),s=I=>{d&&m.next(I),S++;let e=!1;(0,o.Tg)(c(I,y++)).subscribe((0,f._)(m,n=>{h?.(n),d?P(n):m.next(n)},()=>{e=!0},void 0,()=>{if(e)try{for(S--;A.length&&S<a;){const n=A.shift();_?(0,l.N)(m,_,()=>s(n)):s(n)}O()}catch(n){m.error(n)}}))};return u.subscribe((0,f._)(m,P,()=>{M=!0,O()})),()=>{D?.()}}},3028:(v,E,t)=>{t.d(E,{Z:()=>m});var o=t(6354),l=t(8750),f=t(9974),r=t(5412),u=t(8071);function m(c,a,h=1/0){return(0,u.T)(a)?m((d,_)=>(0,o.T)((D,A)=>a(d,D,_,A))((0,l.Tg)(c(d,_))),h):("number"==typeof a&&(h=a),(0,f.N)((d,_)=>(0,r.h)(d,_,c,h)))}},941:(v,E,t)=>{t.d(E,{Q:()=>r});var o=t(5225),l=t(9974),f=t(4360);function r(u,m=0){return(0,l.N)((c,a)=>{c.subscribe((0,f._)(a,h=>(0,o.N)(a,u,()=>a.next(h),m),()=>(0,o.N)(a,u,()=>a.complete(),m),h=>(0,o.N)(a,u,()=>a.error(h),m)))})}},6745:(v,E,t)=>{t.d(E,{_:()=>l});var o=t(9974);function l(f,r=0){return(0,o.N)((u,m)=>{m.add(f.schedule(()=>u.subscribe(m),r))})}},6697:(v,E,t)=>{t.d(E,{s:()=>r});var o=t(983),l=t(9974),f=t(4360);function r(u){return u<=0?()=>o.w:(0,l.N)((m,c)=>{let a=0;m.subscribe((0,f._)(c,h=>{++a<=u&&(c.next(h),u<=a&&c.complete())}))})}},7119:(v,E,t)=>{t.d(E,{S:()=>u});var o=t(1985),l=t(4761),f=t(8071),r=t(5225);function u(m,c){return new o.c(a=>{let h;return(0,r.N)(a,c,()=>{h=m[l.l](),(0,r.N)(a,c,()=>{let d,_;try{({value:d,done:_}=h.next())}catch(D){return void a.error(D)}_?a.complete():a.next(d)},0,!0)}),()=>(0,f.T)(h?.return)&&h.return()})}},5894:(v,E,t)=>{t.d(E,{c:()=>s});var o=t(8750),l=t(941),f=t(6745),m=t(1985),a=t(7119),h=t(5225);function d(I,e){if(!I)throw new Error("Iterable cannot be null");return new m.c(n=>{(0,h.N)(n,e,()=>{const i=I[Symbol.asyncIterator]();(0,h.N)(n,e,()=>{i.next().then(p=>{p.done?n.complete():n.next(p.value)})},0,!0)})})}var _=t(5055),D=t(9858),A=t(7441),S=t(5397),y=t(7953),M=t(591),O=t(5196);function s(I,e){if(null!=I){if((0,_.l)(I))return function r(I,e){return(0,o.Tg)(I).pipe((0,f._)(e),(0,l.Q)(e))}(I,e);if((0,A.X)(I))return function c(I,e){return new m.c(n=>{let i=0;return e.schedule(function(){i===I.length?n.complete():(n.next(I[i++]),n.closed||this.schedule())})})}(I,e);if((0,D.y)(I))return function u(I,e){return(0,o.Tg)(I).pipe((0,f._)(e),(0,l.Q)(e))}(I,e);if((0,y.T)(I))return d(I,e);if((0,S.x)(I))return(0,a.S)(I,e);if((0,O.U)(I))return function P(I,e){return d((0,O.C)(I),e)}(I,e)}throw(0,M.L)(I)}},6780:(v,E,t)=>{t.d(E,{R:()=>u});var o=t(3961);class l extends o.yU{constructor(c,a){super()}schedule(c,a=0){return this}}const f={setInterval(m,c,...a){const{delegate:h}=f;return h?.setInterval?h.setInterval(m,c,...a):setInterval(m,c,...a)},clearInterval(m){const{delegate:c}=f;return(c?.clearInterval||clearInterval)(m)},delegate:void 0};var r=t(7908);class u extends l{constructor(c,a){super(c,a),this.scheduler=c,this.work=a,this.pending=!1}schedule(c,a=0){var h;if(this.closed)return this;this.state=c;const d=this.id,_=this.scheduler;return null!=d&&(this.id=this.recycleAsyncId(_,d,a)),this.pending=!0,this.delay=a,this.id=null!==(h=this.id)&&void 0!==h?h:this.requestAsyncId(_,this.id,a),this}requestAsyncId(c,a,h=0){return f.setInterval(c.flush.bind(c,this),h)}recycleAsyncId(c,a,h=0){if(null!=h&&this.delay===h&&!1===this.pending)return a;null!=a&&f.clearInterval(a)}execute(c,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const h=this._execute(c,a);if(h)return h;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(c,a){let d,h=!1;try{this.work(c)}catch(_){h=!0,d=_||new Error("Scheduled action threw falsy error")}if(h)return this.unsubscribe(),d}unsubscribe(){if(!this.closed){const{id:c,scheduler:a}=this,{actions:h}=a;this.work=this.state=this.scheduler=null,this.pending=!1,(0,r.o)(h,this),null!=c&&(this.id=this.recycleAsyncId(a,c,null)),this.delay=null,super.unsubscribe()}}}},707:(v,E,t)=>{t.d(E,{q:()=>l});var o=t(8399);class l extends o._{constructor(r,u=o._.now){super(r,u),this.actions=[],this._active=!1}flush(r){const{actions:u}=this;if(this._active)return void u.push(r);let m;this._active=!0;do{if(m=r.execute(r.state,r.delay))break}while(r=u.shift());if(this._active=!1,m){for(;r=u.shift();)r.unsubscribe();throw m}}}},3236:(v,E,t)=>{t.d(E,{E:()=>f,b:()=>r});var o=t(6780);const f=new(t(707).q)(o.R),r=f},6129:(v,E,t)=>{t.d(E,{U:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},9326:(v,E,t)=>{t.d(E,{R0:()=>m,lI:()=>u,ms:()=>r});var o=t(8071),l=t(9470);function f(c){return c[c.length-1]}function r(c){return(0,o.T)(f(c))?c.pop():void 0}function u(c){return(0,l.m)(f(c))?c.pop():void 0}function m(c,a){return"number"==typeof f(c)?c.pop():a}},5225:(v,E,t)=>{function o(l,f,r,u=0,m=!1){const c=f.schedule(function(){r(),m?l.add(this.schedule(null,u)):this.unsubscribe()},u);if(l.add(c),!m)return c}t.d(E,{N:()=>o})},8211:(v,E,t)=>{function o(l){return l instanceof Date&&!isNaN(l)}t.d(E,{v:()=>o})},9470:(v,E,t)=>{t.d(E,{m:()=>l});var o=t(8071);function l(f){return f&&(0,o.T)(f.schedule)}},467:(v,E,t)=>{function o(f,r,u,m,c,a,h){try{var d=f[a](h),_=d.value}catch(D){return void u(D)}d.done?r(_):Promise.resolve(_).then(m,c)}function l(f){return function(){var r=this,u=arguments;return new Promise(function(m,c){var a=f.apply(r,u);function h(_){o(a,m,c,h,d,"next",_)}function d(_){o(a,m,c,h,d,"throw",_)}h(void 0)})}}t.d(E,{A:()=>l})}}]);