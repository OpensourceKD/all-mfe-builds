(self.webpackChunkmfe_CRUD_RULES=self.webpackChunkmfe_CRUD_RULES||[]).push([[540],{4488:(D,d,e)=>{e.d(d,{D:()=>o,l:()=>r});var o=function(a){return a.PERCENTAGE="percentage",a.FIXED="fixed",a.TIERED="tiered",a.TEAM_BASED="team_based",a}(o||{}),r=function(a){return a.ACTIVE="active",a.INACTIVE="inactive",a.DRAFT="draft",a.ARCHIVED="archived",a}(r||{})},9540:(D,d,e)=>{e.r(d),e.d(d,{RulesDataService:()=>p});var o=e(4412),r=e(7673),a=e(3103),s=e(4488),c=e(4332);let p=(()=>{class y{constructor(){this.rulesSubject=new o.t(this.getInitialDummyRules()),this.rules$=this.rulesSubject.asObservable(),console.log("[RulesDataService] Initialized with dummy data")}getRules(){return(0,r.of)(this.rulesSubject.value).pipe((0,a.c)(300))}getRuleById(f){const u=this.rulesSubject.value.find(E=>E.id===f);return(0,r.of)(u).pipe((0,a.c)(200))}createRule(f){const u={id:this.generateId(),...f,createdBy:"current-user",createdAt:new Date,updatedAt:new Date};return this.rulesSubject.next([...this.rulesSubject.value,u]),(0,r.of)(u).pipe((0,a.c)(300))}updateRule(f,u){const E=this.rulesSubject.value,w=E.findIndex(W=>W.id===f);if(-1===w)return(0,r.of)(void 0).pipe((0,a.c)(200));const P={...E[w],...u,updatedAt:new Date},S=[...E];return S[w]=P,this.rulesSubject.next(S),(0,r.of)(P).pipe((0,a.c)(300))}deleteRule(f){const u=this.rulesSubject.value,E=u.filter(w=>w.id!==f);return E.length===u.length?(0,r.of)(!1).pipe((0,a.c)(200)):(this.rulesSubject.next(E),(0,r.of)(!0).pipe((0,a.c)(300)))}generateId(){return`rule-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}getInitialDummyRules(){const u=new Date((new Date).getTime()+31536e6);return[{id:"rule-001",name:"Basic Sales Commission",description:"Standard 5% commission on all sales",type:s.D.PERCENTAGE,status:s.l.ACTIVE,createdBy:"admin",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01"),percentageValue:5,applicableRoles:["sales-executive"],applicableBrands:["Brand A","Brand B"],validFrom:new Date("2024-01-01"),validTo:u,isShared:!0,canDelegate:!1},{id:"rule-002",name:"High Performer Bonus",description:"Fixed bonus for sales executives exceeding quarterly targets",type:s.D.FIXED,status:s.l.ACTIVE,createdBy:"team-lead",createdAt:new Date("2024-02-15"),updatedAt:new Date("2024-02-15"),fixedValue:1e4,applicableRoles:["sales-executive"],applicableBrands:["Brand A"],validFrom:new Date("2024-03-01"),validTo:new Date("2024-12-31"),isShared:!0,canDelegate:!0},{id:"rule-003",name:"Tiered Volume Incentive",description:"Progressive incentive based on sales volume tiers",type:s.D.TIERED,status:s.l.ACTIVE,createdBy:"admin",createdAt:new Date("2024-03-01"),updatedAt:new Date("2024-03-01"),tiers:[{id:"tier-1",minAmount:0,maxAmount:5e4,incentivePercentage:3},{id:"tier-2",minAmount:50001,maxAmount:1e5,incentivePercentage:5},{id:"tier-3",minAmount:100001,maxAmount:999999999,incentivePercentage:8}],applicableRoles:["sales-executive","team-lead"],applicableBrands:["Brand A","Brand B","Brand C"],validFrom:new Date("2024-04-01"),validTo:u,isShared:!0,canDelegate:!1},{id:"rule-004",name:"Team Achievement Bonus",description:"Shared bonus when team achieves collective target",type:s.D.TEAM_BASED,status:s.l.ACTIVE,createdBy:"admin",createdAt:new Date("2024-04-01"),updatedAt:new Date("2024-04-10"),fixedValue:5e4,applicableRoles:["sales-executive","team-lead"],applicableBrands:["Brand A","Brand B"],validFrom:new Date("2024-05-01"),validTo:new Date("2024-11-30"),isShared:!0,canDelegate:!0},{id:"rule-005",name:"New Product Launch Incentive",description:"Special incentive for promoting new product line",type:s.D.PERCENTAGE,status:s.l.DRAFT,createdBy:"team-lead",createdAt:new Date("2024-05-01"),updatedAt:new Date("2024-05-15"),percentageValue:10,applicableRoles:["sales-executive"],applicableBrands:["Brand C"],validFrom:new Date("2024-06-01"),validTo:new Date("2024-08-31"),isShared:!1,canDelegate:!1}]}static{this.\u0275fac=function(u){return new(u||y)}}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},4412:(D,d,e)=>{e.d(d,{t:()=>r});var o=e(1413);class r extends o.B{constructor(s){super(),this._value=s}get value(){return this.getValue()}_subscribe(s){const c=super._subscribe(s);return!c.closed&&s.next(this._value),c}getValue(){const{hasError:s,thrownError:c,_value:v}=this;if(s)throw c;return this._throwIfClosed(),v}next(s){super.next(this._value=s)}}},1985:(D,d,e)=>{e.d(d,{c:()=>y});var o=e(7707),r=e(8359),a=e(3494),s=e(1203),c=e(1026),v=e(8071),p=e(9786);let y=(()=>{class E{constructor(P){P&&(this._subscribe=P)}lift(P){const S=new E;return S.source=this,S.operator=P,S}subscribe(P,S,W){const R=function u(E){return E&&E instanceof o.vU||function f(E){return E&&(0,v.T)(E.next)&&(0,v.T)(E.error)&&(0,v.T)(E.complete)}(E)&&(0,r.Uv)(E)}(P)?P:new o.Ms(P,S,W);return(0,p.Y)(()=>{const{operator:L,source:F}=this;R.add(L?L.call(R,F):F?this._subscribe(R):this._trySubscribe(R))}),R}_trySubscribe(P){try{return this._subscribe(P)}catch(S){P.error(S)}}forEach(P,S){return new(S=b(S))((W,R)=>{const L=new o.Ms({next:F=>{try{P(F)}catch(H){R(H),L.unsubscribe()}},error:R,complete:W});this.subscribe(L)})}_subscribe(P){var S;return null===(S=this.source)||void 0===S?void 0:S.subscribe(P)}[a.s](){return this}pipe(...P){return(0,s.m)(P)(this)}toPromise(P){return new(P=b(P))((S,W)=>{let R;this.subscribe(L=>R=L,L=>W(L),()=>S(R))})}}return E.create=w=>new E(w),E})();function b(E){var w;return null!==(w=E??c.$.Promise)&&void 0!==w?w:Promise}},8399:(D,d,e)=>{e.d(d,{_:()=>r});var o=e(6129);class r{constructor(s,c=r.now){this.schedulerActionCtor=s,this.now=c}schedule(s,c=0,v){return new this.schedulerActionCtor(this,s).schedule(v,c)}}r.now=o.U.now},1413:(D,d,e)=>{e.d(d,{B:()=>p});var o=e(1985),r=e(8359);const s=(0,e(1853).L)(b=>function(){b(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var c=e(7908),v=e(9786);let p=(()=>{class b extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(u){const E=new y(this,this);return E.operator=u,E}_throwIfClosed(){if(this.closed)throw new s}next(u){(0,v.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const E of this.currentObservers)E.next(u)}})}error(u){(0,v.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=u;const{observers:E}=this;for(;E.length;)E.shift().error(u)}})}complete(){(0,v.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:u}=this;for(;u.length;)u.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var u;return(null===(u=this.observers)||void 0===u?void 0:u.length)>0}_trySubscribe(u){return this._throwIfClosed(),super._trySubscribe(u)}_subscribe(u){return this._throwIfClosed(),this._checkFinalizedStatuses(u),this._innerSubscribe(u)}_innerSubscribe(u){const{hasError:E,isStopped:w,observers:P}=this;return E||w?r.Kn:(this.currentObservers=null,P.push(u),new r.yU(()=>{this.currentObservers=null,(0,c.o)(P,u)}))}_checkFinalizedStatuses(u){const{hasError:E,thrownError:w,isStopped:P}=this;E?u.error(w):P&&u.complete()}asObservable(){const u=new o.c;return u.source=this,u}}return b.create=(f,u)=>new y(f,u),b})();class y extends p{constructor(f,u){super(),this.destination=f,this.source=u}next(f){var u,E;null===(E=null===(u=this.destination)||void 0===u?void 0:u.next)||void 0===E||E.call(u,f)}error(f){var u,E;null===(E=null===(u=this.destination)||void 0===u?void 0:u.error)||void 0===E||E.call(u,f)}complete(){var f,u;null===(u=null===(f=this.destination)||void 0===f?void 0:f.complete)||void 0===u||u.call(f)}_subscribe(f){var u,E;return null!==(E=null===(u=this.source)||void 0===u?void 0:u.subscribe(f))&&void 0!==E?E:r.Kn}}},7707:(D,d,e)=>{e.d(d,{Ms:()=>W,vU:()=>E});var o=e(8071),r=e(8359),a=e(1026),s=e(5334),c=e(5343);const v=b("C",void 0,void 0);function b(O,m,I){return{kind:O,value:m,error:I}}var f=e(9270),u=e(9786);class E extends r.yU{constructor(m){super(),this.isStopped=!1,m?(this.destination=m,(0,r.Uv)(m)&&m.add(this)):this.destination=H}static create(m,I,U){return new W(m,I,U)}next(m){this.isStopped?F(function y(O){return b("N",O,void 0)}(m),this):this._next(m)}error(m){this.isStopped?F(function p(O){return b("E",void 0,O)}(m),this):(this.isStopped=!0,this._error(m))}complete(){this.isStopped?F(v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(m){this.destination.next(m)}_error(m){try{this.destination.error(m)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const w=Function.prototype.bind;function P(O,m){return w.call(O,m)}class S{constructor(m){this.partialObserver=m}next(m){const{partialObserver:I}=this;if(I.next)try{I.next(m)}catch(U){R(U)}}error(m){const{partialObserver:I}=this;if(I.error)try{I.error(m)}catch(U){R(U)}else R(m)}complete(){const{partialObserver:m}=this;if(m.complete)try{m.complete()}catch(I){R(I)}}}class W extends E{constructor(m,I,U){let T;if(super(),(0,o.T)(m)||!m)T={next:m??void 0,error:I??void 0,complete:U??void 0};else{let A;this&&a.$.useDeprecatedNextContext?(A=Object.create(m),A.unsubscribe=()=>this.unsubscribe(),T={next:m.next&&P(m.next,A),error:m.error&&P(m.error,A),complete:m.complete&&P(m.complete,A)}):T=m}this.destination=new S(T)}}function R(O){a.$.useDeprecatedSynchronousErrorHandling?(0,u.l)(O):(0,s.m)(O)}function F(O,m){const{onStoppedNotification:I}=a.$;I&&f.f.setTimeout(()=>I(O,m))}const H={closed:!0,next:c.l,error:function L(O){throw O},complete:c.l}},8359:(D,d,e)=>{e.d(d,{Kn:()=>v,yU:()=>c,Uv:()=>p});var o=e(8071);const a=(0,e(1853).L)(b=>function(u){b(this),this.message=u?`${u.length} errors occurred during unsubscription:\n${u.map((E,w)=>`${w+1}) ${E.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=u});var s=e(7908);class c{constructor(f){this.initialTeardown=f,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let f;if(!this.closed){this.closed=!0;const{_parentage:u}=this;if(u)if(this._parentage=null,Array.isArray(u))for(const P of u)P.remove(this);else u.remove(this);const{initialTeardown:E}=this;if((0,o.T)(E))try{E()}catch(P){f=P instanceof a?P.errors:[P]}const{_finalizers:w}=this;if(w){this._finalizers=null;for(const P of w)try{y(P)}catch(S){f=f??[],S instanceof a?f=[...f,...S.errors]:f.push(S)}}if(f)throw new a(f)}}add(f){var u;if(f&&f!==this)if(this.closed)y(f);else{if(f instanceof c){if(f.closed||f._hasParent(this))return;f._addParent(this)}(this._finalizers=null!==(u=this._finalizers)&&void 0!==u?u:[]).push(f)}}_hasParent(f){const{_parentage:u}=this;return u===f||Array.isArray(u)&&u.includes(f)}_addParent(f){const{_parentage:u}=this;this._parentage=Array.isArray(u)?(u.push(f),u):u?[u,f]:f}_removeParent(f){const{_parentage:u}=this;u===f?this._parentage=null:Array.isArray(u)&&(0,s.o)(u,f)}remove(f){const{_finalizers:u}=this;u&&(0,s.o)(u,f),f instanceof c&&f._removeParent(this)}}c.EMPTY=(()=>{const b=new c;return b.closed=!0,b})();const v=c.EMPTY;function p(b){return b instanceof c||b&&"closed"in b&&(0,o.T)(b.remove)&&(0,o.T)(b.add)&&(0,o.T)(b.unsubscribe)}function y(b){(0,o.T)(b)?b():b.unsubscribe()}},1026:(D,d,e)=>{e.d(d,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(D,d,e)=>{e.d(d,{x:()=>c});var o=e(6365),a=e(9326),s=e(6648);function c(...v){return function r(){return(0,o.U)(1)}()((0,s.H)(v,(0,a.lI)(v)))}},983:(D,d,e)=>{e.d(d,{w:()=>r});const r=new(e(1985).c)(c=>c.complete())},6648:(D,d,e)=>{e.d(d,{H:()=>U});var o=e(8750),r=e(5225),a=e(9974),s=e(4360);function c(T,A=0){return(0,a.N)((B,x)=>{B.subscribe((0,s._)(x,Y=>(0,r.N)(x,T,()=>x.next(Y),A),()=>(0,r.N)(x,T,()=>x.complete(),A),Y=>(0,r.N)(x,T,()=>x.error(Y),A)))})}function v(T,A=0){return(0,a.N)((B,x)=>{x.add(T.schedule(()=>B.subscribe(x),A))})}var b=e(1985),u=e(4761),E=e(8071);function P(T,A){if(!T)throw new Error("Iterable cannot be null");return new b.c(B=>{(0,r.N)(B,A,()=>{const x=T[Symbol.asyncIterator]();(0,r.N)(B,A,()=>{x.next().then(Y=>{Y.done?B.complete():B.next(Y.value)})},0,!0)})})}var S=e(5055),W=e(9858),R=e(7441),L=e(5397),F=e(7953),H=e(591),O=e(5196);function U(T,A){return A?function I(T,A){if(null!=T){if((0,S.l)(T))return function p(T,A){return(0,o.Tg)(T).pipe(v(A),c(A))}(T,A);if((0,R.X)(T))return function f(T,A){return new b.c(B=>{let x=0;return A.schedule(function(){x===T.length?B.complete():(B.next(T[x++]),B.closed||this.schedule())})})}(T,A);if((0,W.y)(T))return function y(T,A){return(0,o.Tg)(T).pipe(v(A),c(A))}(T,A);if((0,F.T)(T))return P(T,A);if((0,L.x)(T))return function w(T,A){return new b.c(B=>{let x;return(0,r.N)(B,A,()=>{x=T[u.l](),(0,r.N)(B,A,()=>{let Y,Q;try{({value:Y,done:Q}=x.next())}catch(J){return void B.error(J)}Q?B.complete():B.next(Y)},0,!0)}),()=>(0,E.T)(x?.return)&&x.return()})}(T,A);if((0,O.U)(T))return function m(T,A){return P((0,O.C)(T),A)}(T,A)}throw(0,H.L)(T)}(T,A):(0,o.Tg)(T)}},8750:(D,d,e)=>{e.d(d,{Tg:()=>w});var o=e(1635),r=e(7441),a=e(9858),s=e(1985),c=e(5055),v=e(7953),p=e(591),y=e(5397),b=e(5196),f=e(8071),u=e(5334),E=e(3494);function w(O){if(O instanceof s.c)return O;if(null!=O){if((0,c.l)(O))return function P(O){return new s.c(m=>{const I=O[E.s]();if((0,f.T)(I.subscribe))return I.subscribe(m);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(O);if((0,r.X)(O))return function S(O){return new s.c(m=>{for(let I=0;I<O.length&&!m.closed;I++)m.next(O[I]);m.complete()})}(O);if((0,a.y)(O))return function W(O){return new s.c(m=>{O.then(I=>{m.closed||(m.next(I),m.complete())},I=>m.error(I)).then(null,u.m)})}(O);if((0,v.T)(O))return L(O);if((0,y.x)(O))return function R(O){return new s.c(m=>{for(const I of O)if(m.next(I),m.closed)return;m.complete()})}(O);if((0,b.U)(O))return function F(O){return L((0,b.C)(O))}(O)}throw(0,p.L)(O)}function L(O){return new s.c(m=>{(function H(O,m){var I,U,T,A;return(0,o.sH)(this,void 0,void 0,function*(){try{for(I=(0,o.xN)(O);!(U=yield I.next()).done;)if(m.next(U.value),m.closed)return}catch(B){T={error:B}}finally{try{U&&!U.done&&(A=I.return)&&(yield A.call(I))}finally{if(T)throw T.error}}m.complete()})})(O,m).catch(I=>m.error(I))})}},7673:(D,d,e)=>{e.d(d,{of:()=>a});var o=e(9326),r=e(6648);function a(...s){const c=(0,o.lI)(s);return(0,r.H)(s,c)}},1807:(D,d,e)=>{e.d(d,{O:()=>c});var o=e(1985),r=e(3236),a=e(9470),s=e(8211);function c(v=0,p,y=r.b){let b=-1;return null!=p&&((0,a.m)(p)?y=p:b=p),new o.c(f=>{let u=(0,s.v)(v)?+v-y.now():v;u<0&&(u=0);let E=0;return y.schedule(function(){f.closed||(f.next(E++),0<=b?this.schedule(void 0,b):f.complete())},u)})}},4360:(D,d,e)=>{e.d(d,{_:()=>r});var o=e(7707);function r(s,c,v,p,y){return new a(s,c,v,p,y)}class a extends o.vU{constructor(c,v,p,y,b,f){super(c),this.onFinalize=b,this.shouldUnsubscribe=f,this._next=v?function(u){try{v(u)}catch(E){c.error(E)}}:super._next,this._error=y?function(u){try{y(u)}catch(E){c.error(E)}finally{this.unsubscribe()}}:super._error,this._complete=p?function(){try{p()}catch(u){c.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var c;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:v}=this;super.unsubscribe(),!v&&(null===(c=this.onFinalize)||void 0===c||c.call(this))}}}},3103:(D,d,e)=>{e.d(d,{c:()=>s});var o=e(3236),r=e(3183),a=e(1807);function s(c,v=o.E){const p=(0,a.O)(c,v);return(0,r.o)(()=>p)}},3183:(D,d,e)=>{e.d(d,{o:()=>p});var o=e(8793),r=e(6697),a=e(3557),s=e(3703),c=e(1397),v=e(8750);function p(y,b){return b?f=>(0,o.x)(b.pipe((0,r.s)(1),(0,a.w)()),f.pipe(p(y))):(0,c.Z)((f,u)=>(0,v.Tg)(y(f,u)).pipe((0,r.s)(1),(0,s.u)(f)))}},3557:(D,d,e)=>{e.d(d,{w:()=>s});var o=e(9974),r=e(4360),a=e(5343);function s(){return(0,o.N)((c,v)=>{c.subscribe((0,r._)(v,a.l))})}},6354:(D,d,e)=>{e.d(d,{T:()=>a});var o=e(9974),r=e(4360);function a(s,c){return(0,o.N)((v,p)=>{let y=0;v.subscribe((0,r._)(p,b=>{p.next(s.call(c,b,y++))}))})}},3703:(D,d,e)=>{e.d(d,{u:()=>r});var o=e(6354);function r(a){return(0,o.T)(()=>a)}},6365:(D,d,e)=>{e.d(d,{U:()=>a});var o=e(1397),r=e(3669);function a(s=1/0){return(0,o.Z)(r.D,s)}},1397:(D,d,e)=>{e.d(d,{Z:()=>y});var o=e(6354),r=e(8750),a=e(9974),s=e(5225),c=e(4360),p=e(8071);function y(b,f,u=1/0){return(0,p.T)(f)?y((E,w)=>(0,o.T)((P,S)=>f(E,P,w,S))((0,r.Tg)(b(E,w))),u):("number"==typeof f&&(u=f),(0,a.N)((E,w)=>function v(b,f,u,E,w,P,S,W){const R=[];let L=0,F=0,H=!1;const O=()=>{H&&!R.length&&!L&&f.complete()},m=U=>L<E?I(U):R.push(U),I=U=>{P&&f.next(U),L++;let T=!1;(0,r.Tg)(u(U,F++)).subscribe((0,c._)(f,A=>{w?.(A),P?m(A):f.next(A)},()=>{T=!0},void 0,()=>{if(T)try{for(L--;R.length&&L<E;){const A=R.shift();S?(0,s.N)(f,S,()=>I(A)):I(A)}O()}catch(A){f.error(A)}}))};return b.subscribe((0,c._)(f,m,()=>{H=!0,O()})),()=>{W?.()}}(E,w,b,u)))}},6697:(D,d,e)=>{e.d(d,{s:()=>s});var o=e(983),r=e(9974),a=e(4360);function s(c){return c<=0?()=>o.w:(0,r.N)((v,p)=>{let y=0;v.subscribe((0,a._)(p,b=>{++y<=c&&(p.next(b),c<=y&&p.complete())}))})}},3260:(D,d,e)=>{e.d(d,{r:()=>r});var o=e(8359);class r extends o.yU{constructor(s,c){super()}schedule(s,c=0){return this}}},7302:(D,d,e)=>{e.d(d,{R:()=>s});var o=e(3260),r=e(8198),a=e(7908);class s extends o.r{constructor(v,p){super(v,p),this.scheduler=v,this.work=p,this.pending=!1}schedule(v,p=0){var y;if(this.closed)return this;this.state=v;const b=this.id,f=this.scheduler;return null!=b&&(this.id=this.recycleAsyncId(f,b,p)),this.pending=!0,this.delay=p,this.id=null!==(y=this.id)&&void 0!==y?y:this.requestAsyncId(f,this.id,p),this}requestAsyncId(v,p,y=0){return r.f.setInterval(v.flush.bind(v,this),y)}recycleAsyncId(v,p,y=0){if(null!=y&&this.delay===y&&!1===this.pending)return p;null!=p&&r.f.clearInterval(p)}execute(v,p){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const y=this._execute(v,p);if(y)return y;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(v,p){let b,y=!1;try{this.work(v)}catch(f){y=!0,b=f||new Error("Scheduled action threw falsy error")}if(y)return this.unsubscribe(),b}unsubscribe(){if(!this.closed){const{id:v,scheduler:p}=this,{actions:y}=p;this.work=this.state=this.scheduler=null,this.pending=!1,(0,a.o)(y,this),null!=v&&(this.id=this.recycleAsyncId(p,v,null)),this.delay=null,super.unsubscribe()}}}},707:(D,d,e)=>{e.d(d,{q:()=>r});var o=e(8399);class r extends o._{constructor(s,c=o._.now){super(s,c),this.actions=[],this._active=!1}flush(s){const{actions:c}=this;if(this._active)return void c.push(s);let v;this._active=!0;do{if(v=s.execute(s.state,s.delay))break}while(s=c.shift());if(this._active=!1,v){for(;s=c.shift();)s.unsubscribe();throw v}}}},3236:(D,d,e)=>{e.d(d,{E:()=>a,b:()=>s});var o=e(7302);const a=new(e(707).q)(o.R),s=a},6129:(D,d,e)=>{e.d(d,{U:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},8198:(D,d,e)=>{e.d(d,{f:()=>o});const o={setInterval(r,a,...s){const{delegate:c}=o;return c?.setInterval?c.setInterval(r,a,...s):setInterval(r,a,...s)},clearInterval(r){const{delegate:a}=o;return(a?.clearInterval||clearInterval)(r)},delegate:void 0}},9270:(D,d,e)=>{e.d(d,{f:()=>o});const o={setTimeout(r,a,...s){const{delegate:c}=o;return c?.setTimeout?c.setTimeout(r,a,...s):setTimeout(r,a,...s)},clearTimeout(r){const{delegate:a}=o;return(a?.clearTimeout||clearTimeout)(r)},delegate:void 0}},4761:(D,d,e)=>{e.d(d,{l:()=>r});const r=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(D,d,e)=>{e.d(d,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(D,d,e)=>{e.d(d,{lI:()=>c,ms:()=>s});var o=e(8071),r=e(9470);function a(p){return p[p.length-1]}function s(p){return(0,o.T)(a(p))?p.pop():void 0}function c(p){return(0,r.m)(a(p))?p.pop():void 0}},7908:(D,d,e)=>{function o(r,a){if(r){const s=r.indexOf(a);0<=s&&r.splice(s,1)}}e.d(d,{o:()=>o})},1853:(D,d,e)=>{function o(r){const s=r(c=>{Error.call(c),c.stack=(new Error).stack});return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s}e.d(d,{L:()=>o})},9786:(D,d,e)=>{e.d(d,{Y:()=>a,l:()=>s});var o=e(1026);let r=null;function a(c){if(o.$.useDeprecatedSynchronousErrorHandling){const v=!r;if(v&&(r={errorThrown:!1,error:null}),c(),v){const{errorThrown:p,error:y}=r;if(r=null,p)throw y}}else c()}function s(c){o.$.useDeprecatedSynchronousErrorHandling&&r&&(r.errorThrown=!0,r.error=c)}},5225:(D,d,e)=>{function o(r,a,s,c=0,v=!1){const p=a.schedule(function(){s(),v?r.add(this.schedule(null,c)):this.unsubscribe()},c);if(r.add(p),!v)return p}e.d(d,{N:()=>o})},3669:(D,d,e)=>{function o(r){return r}e.d(d,{D:()=>o})},7441:(D,d,e)=>{e.d(d,{X:()=>o});const o=r=>r&&"number"==typeof r.length&&"function"!=typeof r},7953:(D,d,e)=>{e.d(d,{T:()=>r});var o=e(8071);function r(a){return Symbol.asyncIterator&&(0,o.T)(a?.[Symbol.asyncIterator])}},8211:(D,d,e)=>{function o(r){return r instanceof Date&&!isNaN(r)}e.d(d,{v:()=>o})},8071:(D,d,e)=>{function o(r){return"function"==typeof r}e.d(d,{T:()=>o})},5055:(D,d,e)=>{e.d(d,{l:()=>a});var o=e(3494),r=e(8071);function a(s){return(0,r.T)(s[o.s])}},5397:(D,d,e)=>{e.d(d,{x:()=>a});var o=e(4761),r=e(8071);function a(s){return(0,r.T)(s?.[o.l])}},9858:(D,d,e)=>{e.d(d,{y:()=>r});var o=e(8071);function r(a){return(0,o.T)(a?.then)}},5196:(D,d,e)=>{e.d(d,{C:()=>a,U:()=>s});var o=e(1635),r=e(8071);function a(c){return(0,o.AQ)(this,arguments,function*(){const p=c.getReader();try{for(;;){const{value:y,done:b}=yield(0,o.N3)(p.read());if(b)return yield(0,o.N3)(void 0);yield yield(0,o.N3)(y)}}finally{p.releaseLock()}})}function s(c){return(0,r.T)(c?.getReader)}},9470:(D,d,e)=>{e.d(d,{m:()=>r});var o=e(8071);function r(a){return a&&(0,o.T)(a.schedule)}},9974:(D,d,e)=>{e.d(d,{N:()=>a,S:()=>r});var o=e(8071);function r(s){return(0,o.T)(s?.lift)}function a(s){return c=>{if(r(c))return c.lift(function(v){try{return s(v,this)}catch(p){this.error(p)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(D,d,e)=>{function o(){}e.d(d,{l:()=>o})},1203:(D,d,e)=>{e.d(d,{F:()=>r,m:()=>a});var o=e(3669);function r(...s){return a(s)}function a(s){return 0===s.length?o.D:1===s.length?s[0]:function(v){return s.reduce((p,y)=>y(p),v)}}},5334:(D,d,e)=>{e.d(d,{m:()=>a});var o=e(1026),r=e(9270);function a(s){r.f.setTimeout(()=>{const{onUnhandledError:c}=o.$;if(!c)throw s;c(s)})}},591:(D,d,e)=>{function o(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}e.d(d,{L:()=>o})},1635:(D,d,e)=>{function E(t,n,i,l){return new(i||(i=Promise))(function(_,M){function C(j){try{g(l.next(j))}catch(N){M(N)}}function $(j){try{g(l.throw(j))}catch(N){M(N)}}function g(j){j.done?_(j.value):function h(_){return _ instanceof i?_:new i(function(M){M(_)})}(j.value).then(C,$)}g((l=l.apply(t,n||[])).next())})}function O(t){return this instanceof O?(this.v=t,this):new O(t)}function m(t,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var h,l=i.apply(t,n||[]),_=[];return h=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),C("next"),C("throw"),C("return",function M(K){return function(V){return Promise.resolve(V).then(K,N)}}),h[Symbol.asyncIterator]=function(){return this},h;function C(K,V){l[K]&&(h[K]=function(z){return new Promise(function(G,X){_.push([K,z,G,X])>1||$(K,z)})},V&&(h[K]=V(h[K])))}function $(K,V){try{!function g(K){K.value instanceof O?Promise.resolve(K.value.v).then(j,N):Z(_[0][2],K)}(l[K](V))}catch(z){Z(_[0][3],z)}}function j(K){$("next",K)}function N(K){$("throw",K)}function Z(K,V){K(V),_.shift(),_.length&&$(_[0][0],_[0][1])}}function U(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function W(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],l=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&l>=t.length&&(t=void 0),{value:t&&t[l++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(_){i[_]=t[_]&&function(M){return new Promise(function(C,$){!function h(_,M,C,$){Promise.resolve($).then(function(g){_({value:g,done:C})},M)}(C,$,(M=t[_](M)).done,M.value)})}}}e.d(d,{AQ:()=>m,N3:()=>O,sH:()=>E,xN:()=>U}),"function"==typeof SuppressedError&&SuppressedError}}]);