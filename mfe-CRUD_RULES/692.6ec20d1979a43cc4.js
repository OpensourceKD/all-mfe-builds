(self.webpackChunkmfe_CRUD_RULES=self.webpackChunkmfe_CRUD_RULES||[]).push([[692],{7692:(F,b,n)=>{var f=n(345),r=n(4294),M=n(4230),_=n(4482),g=n(8972),P=function(m){return m.PERCENTAGE="percentage",m.FIXED="fixed",m.TIERED="tiered",m.TEAM_BASED="team_based",m}(P||{}),T=function(m){return m.ACTIVE="active",m.INACTIVE="inactive",m.DRAFT="draft",m.ARCHIVED="archived",m}(T||{}),e=n(4332),N=n(4412),E=n(7673),p=n(8359);class S extends p.yU{constructor(D,l){super()}schedule(D,l=0){return this}}const H={setInterval(m,D,...l){const{delegate:C}=H;return C?.setInterval?C.setInterval(m,D,...l):setInterval(m,D,...l)},clearInterval(m){const{delegate:D}=H;return(D?.clearInterval||clearInterval)(m)},delegate:void 0};var I=n(7908);const Z={now:()=>(Z.delegate||Date).now(),delegate:void 0};class K{constructor(D,l=K.now){this.schedulerActionCtor=D,this.now=l}schedule(D,l=0,C){return new this.schedulerActionCtor(this,D).schedule(C,l)}}K.now=Z.now;const ee=new class $ extends K{constructor(D,l=K.now){super(D,l),this.actions=[],this._active=!1}flush(D){const{actions:l}=this;if(this._active)return void l.push(D);let C;this._active=!0;do{if(C=D.execute(D.state,D.delay))break}while(D=l.shift());if(this._active=!1,C){for(;D=l.shift();)D.unsubscribe();throw C}}}(class V extends S{constructor(D,l){super(D,l),this.scheduler=D,this.work=l,this.pending=!1}schedule(D,l=0){var C;if(this.closed)return this;this.state=D;const A=this.id,q=this.scheduler;return null!=A&&(this.id=this.recycleAsyncId(q,A,l)),this.pending=!0,this.delay=l,this.id=null!==(C=this.id)&&void 0!==C?C:this.requestAsyncId(q,this.id,l),this}requestAsyncId(D,l,C=0){return H.setInterval(D.flush.bind(D,this),C)}recycleAsyncId(D,l,C=0){if(null!=C&&this.delay===C&&!1===this.pending)return l;null!=l&&H.clearInterval(l)}execute(D,l){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const C=this._execute(D,l);if(C)return C;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(D,l){let A,C=!1;try{this.work(D)}catch(q){C=!0,A=q||new Error("Scheduled action threw falsy error")}if(C)return this.unsubscribe(),A}unsubscribe(){if(!this.closed){const{id:D,scheduler:l}=this,{actions:C}=l;this.work=this.state=this.scheduler=null,this.pending=!1,(0,I.o)(C,this),null!=D&&(this.id=this.recycleAsyncId(l,D,null)),this.delay=null,super.unsubscribe()}}}),ie=ee;var w=n(8793),O=n(6697),B=n(9974),G=n(4360),x=n(5343),W=n(3703),Y=n(1397),ae=n(8750);function pe(m,D){return D?l=>(0,w.x)(D.pipe((0,O.s)(1),function L(){return(0,B.N)((m,D)=>{m.subscribe((0,G._)(D,x.l))})}()),l.pipe(pe(m))):(0,Y.Z)((l,C)=>(0,ae.Tg)(m(l,C)).pipe((0,O.s)(1),(0,W.u)(l)))}var ge=n(1985),_e=n(9470);function de(m,D=ee){const l=function be(m=0,D,l=ie){let C=-1;return null!=D&&((0,_e.m)(D)?l=D:C=D),new ge.c(A=>{let q=function Me(m){return m instanceof Date&&!isNaN(m)}(m)?+m-l.now():m;q<0&&(q=0);let me=0;return l.schedule(function(){A.closed||(A.next(me++),0<=C?this.schedule(void 0,C):A.complete())},q)})}(m,D);return pe(()=>l)}let Ce=(()=>{class m{constructor(){this.rulesSubject=new N.t(this.getInitialDummyRules()),this.rules$=this.rulesSubject.asObservable(),console.log("[RulesDataService] Initialized with dummy data")}getRules(){return(0,E.of)(this.rulesSubject.value).pipe(de(300))}getRuleById(l){const C=this.rulesSubject.value.find(A=>A.id===l);return(0,E.of)(C).pipe(de(200))}createRule(l){const C={id:this.generateId(),...l,createdBy:"current-user",createdAt:new Date,updatedAt:new Date};return this.rulesSubject.next([...this.rulesSubject.value,C]),(0,E.of)(C).pipe(de(300))}updateRule(l,C){const A=this.rulesSubject.value,q=A.findIndex(we=>we.id===l);if(-1===q)return(0,E.of)(void 0).pipe(de(200));const me={...A[q],...C,updatedAt:new Date},Te=[...A];return Te[q]=me,this.rulesSubject.next(Te),(0,E.of)(me).pipe(de(300))}deleteRule(l){const C=this.rulesSubject.value,A=C.filter(q=>q.id!==l);return A.length===C.length?(0,E.of)(!1).pipe(de(200)):(this.rulesSubject.next(A),(0,E.of)(!0).pipe(de(300)))}generateId(){return`rule-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}getInitialDummyRules(){const C=new Date((new Date).getTime()+31536e6);return[{id:"rule-001",name:"Basic Sales Commission",description:"Standard 5% commission on all sales",type:P.PERCENTAGE,status:T.ACTIVE,createdBy:"admin",createdAt:new Date("2024-01-01"),updatedAt:new Date("2024-01-01"),percentageValue:5,applicableRoles:["sales-executive"],applicableBrands:["Brand A","Brand B"],validFrom:new Date("2024-01-01"),validTo:C,isShared:!0,canDelegate:!1},{id:"rule-002",name:"High Performer Bonus",description:"Fixed bonus for sales executives exceeding quarterly targets",type:P.FIXED,status:T.ACTIVE,createdBy:"team-lead",createdAt:new Date("2024-02-15"),updatedAt:new Date("2024-02-15"),fixedValue:1e4,applicableRoles:["sales-executive"],applicableBrands:["Brand A"],validFrom:new Date("2024-03-01"),validTo:new Date("2024-12-31"),isShared:!0,canDelegate:!0},{id:"rule-003",name:"Tiered Volume Incentive",description:"Progressive incentive based on sales volume tiers",type:P.TIERED,status:T.ACTIVE,createdBy:"admin",createdAt:new Date("2024-03-01"),updatedAt:new Date("2024-03-01"),tiers:[{id:"tier-1",minAmount:0,maxAmount:5e4,incentivePercentage:3},{id:"tier-2",minAmount:50001,maxAmount:1e5,incentivePercentage:5},{id:"tier-3",minAmount:100001,maxAmount:999999999,incentivePercentage:8}],applicableRoles:["sales-executive","team-lead"],applicableBrands:["Brand A","Brand B","Brand C"],validFrom:new Date("2024-04-01"),validTo:C,isShared:!0,canDelegate:!1},{id:"rule-004",name:"Team Achievement Bonus",description:"Shared bonus when team achieves collective target",type:P.TEAM_BASED,status:T.ACTIVE,createdBy:"admin",createdAt:new Date("2024-04-01"),updatedAt:new Date("2024-04-10"),fixedValue:5e4,applicableRoles:["sales-executive","team-lead"],applicableBrands:["Brand A","Brand B"],validFrom:new Date("2024-05-01"),validTo:new Date("2024-11-30"),isShared:!0,canDelegate:!0},{id:"rule-005",name:"New Product Launch Incentive",description:"Special incentive for promoting new product line",type:P.PERCENTAGE,status:T.DRAFT,createdBy:"team-lead",createdAt:new Date("2024-05-01"),updatedAt:new Date("2024-05-15"),percentageValue:10,applicableRoles:["sales-executive"],applicableBrands:["Brand C"],validFrom:new Date("2024-06-01"),validTo:new Date("2024-08-31"),isShared:!1,canDelegate:!1}]}static{this.\u0275fac=function(C){return new(C||m)}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();var oe=function(m){return m.SUPER_ADMIN="super-admin",m.ORG_ADMIN="org-admin",m.TEAM_LEAD="team-lead",m.SALES_EXECUTIVE="sales-executive",m}(oe||{});let i=(()=>{class m{constructor(){this.currentRoleSubject=new N.t(oe.SALES_EXECUTIVE),this.currentRole$=this.currentRoleSubject.asObservable(),console.log("[RbacService] Initialized"),this.initializeRole()}initializeRole(){const l=localStorage.getItem("user_role");l&&Object.values(oe).includes(l)?this.currentRoleSubject.next(l):this.currentRoleSubject.next(oe.ORG_ADMIN)}setRole(l){this.currentRoleSubject.next(l),localStorage.setItem("user_role",l)}getCurrentRole(){return this.currentRoleSubject.value}canManageRules(l=this.getCurrentRole()){return this.hasMinimumRole(l,oe.TEAM_LEAD)}canViewRules(l=this.getCurrentRole()){return!0}hasMinimumRole(l,C){const A={[oe.SUPER_ADMIN]:4,[oe.ORG_ADMIN]:3,[oe.TEAM_LEAD]:2,[oe.SALES_EXECUTIVE]:1};return A[l]>=A[C]}getAllRoles(){return Object.values(oe)}getRoleDisplayName(l){return{[oe.SUPER_ADMIN]:"Super Admin",[oe.ORG_ADMIN]:"Organization Admin",[oe.TEAM_LEAD]:"Team Lead",[oe.SALES_EXECUTIVE]:"Sales Executive"}[l]}static{this.\u0275fac=function(C){return new(C||m)}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();function a(m,D){if(1&m){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(l);const A=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(A.createRule())}),e.\u0275\u0275text(1," + Create New Rule "),e.\u0275\u0275elementEnd()}}function u(m,D){1&m&&(e.\u0275\u0275elementStart(0,"div",12)(1,"p"),e.\u0275\u0275text(2,"Loading rules..."),e.\u0275\u0275elementEnd()())}function c(m,D){if(1&m){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",11),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(l);const A=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(A.createRule())}),e.\u0275\u0275text(1," Create Your First Rule "),e.\u0275\u0275elementEnd()}}function y(m,D){if(1&m&&(e.\u0275\u0275elementStart(0,"div",13)(1,"p"),e.\u0275\u0275text(2,"No rules found."),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,c,2,0,"button",2),e.\u0275\u0275elementEnd()),2&m){const l=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",l.canManageRules)}}function v(m,D){if(1&m&&(e.\u0275\u0275elementStart(0,"div",22)(1,"span",23),e.\u0275\u0275text(2,"Percentage:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"span",24),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&m){const l=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",l.percentageValue,"%")}}function U(m,D){if(1&m&&(e.\u0275\u0275elementStart(0,"div",22)(1,"span",23),e.\u0275\u0275text(2,"Fixed Amount:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"span",24),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"number"),e.\u0275\u0275elementEnd()()),2&m){const l=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("\u20b9",e.\u0275\u0275pipeBind1(5,1,l.fixedValue),"")}}function k(m,D){if(1&m&&(e.\u0275\u0275elementStart(0,"div",22)(1,"span",23),e.\u0275\u0275text(2,"Valid To:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"span",24),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"date"),e.\u0275\u0275elementEnd()()),2&m){const l=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(5,1,l.validTo,"mediumDate"))}}function ne(m,D){1&m&&(e.\u0275\u0275elementStart(0,"span",29),e.\u0275\u0275text(1,"Shared"),e.\u0275\u0275elementEnd())}function j(m,D){1&m&&(e.\u0275\u0275elementStart(0,"span",29),e.\u0275\u0275text(1,"Delegatable"),e.\u0275\u0275elementEnd())}function Q(m,D){if(1&m){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",30)(1,"button",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(l);const A=e.\u0275\u0275nextContext().$implicit,q=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(q.editRule(A.id))}),e.\u0275\u0275text(2,"Edit"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",32),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(l);const A=e.\u0275\u0275nextContext().$implicit,q=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(q.deleteRule(A))}),e.\u0275\u0275text(4,"Delete"),e.\u0275\u0275elementEnd()()}}function te(m,D){if(1&m&&(e.\u0275\u0275elementStart(0,"div",16)(1,"div",17)(2,"h3"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",18),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",19)(7,"p",20),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",21)(10,"div",22)(11,"span",23),e.\u0275\u0275text(12,"Type:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"span",24),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(15,v,5,1,"div",25)(16,U,6,3,"div",25),e.\u0275\u0275elementStart(17,"div",22)(18,"span",23),e.\u0275\u0275text(19,"Valid From:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"span",24),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"date"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(23,k,6,4,"div",25),e.\u0275\u0275elementStart(24,"div",22)(25,"span",23),e.\u0275\u0275text(26,"Created By:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"span",24),e.\u0275\u0275text(28),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(29,"div",26),e.\u0275\u0275template(30,ne,2,0,"span",27)(31,j,2,0,"span",27),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(32,Q,5,0,"div",28),e.\u0275\u0275elementEnd()),2&m){const l=D.$implicit,C=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(l.name),e.\u0275\u0275advance(),e.\u0275\u0275classMap(C.getStatusClass(l.status)),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",l.status," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(l.description),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(C.getRuleTypeDisplay(l.type)),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",l.percentageValue),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",l.fixedValue),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(22,14,l.validFrom,"mediumDate")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",l.validTo),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(l.createdBy),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",l.isShared),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",l.canDelegate),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",C.canManageRules)}}function he(m,D){if(1&m&&(e.\u0275\u0275elementStart(0,"div",14),e.\u0275\u0275template(1,te,33,17,"div",15),e.\u0275\u0275elementEnd()),2&m){const l=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",l.filteredRules)}}const le={providers:[(0,r.provideRouter)([{path:"",redirectTo:"rules",pathMatch:"full"},{path:"rules",component:(()=>{class m{constructor(l,C,A){this.rulesDataService=l,this.rbacService=C,this.router=A,this.rules=[],this.filteredRules=[],this.canManageRules=!1,this.loading=!1,this.selectedStatus="all",this.RuleStatus=T,this.RuleType=P}ngOnInit(){this.canManageRules=this.rbacService.canManageRules(),this.loadRules()}loadRules(){this.loading=!0,this.rulesDataService.getRules().subscribe({next:l=>{this.rules=l,this.filterRules(),this.loading=!1},error:l=>{console.error("Error loading rules:",l),this.loading=!1}})}filterRules(){this.filteredRules="all"===this.selectedStatus?[...this.rules]:this.rules.filter(l=>l.status===this.selectedStatus)}onStatusFilterChange(l){this.selectedStatus=l,this.filterRules()}createRule(){this.router.navigate(["/rules/create"])}editRule(l){this.router.navigate(["/rules/edit",l])}deleteRule(l){confirm(`Are you sure you want to delete the rule "${l.name}"?`)&&this.rulesDataService.deleteRule(l.id).subscribe({next:C=>{C&&this.loadRules()},error:C=>{console.error("Error deleting rule:",C)}})}getStatusClass(l){return{[T.ACTIVE]:"status-active",[T.INACTIVE]:"status-inactive",[T.DRAFT]:"status-draft",[T.ARCHIVED]:"status-archived"}[l]}getRuleTypeDisplay(l){return{[P.PERCENTAGE]:"Percentage",[P.FIXED]:"Fixed Amount",[P.TIERED]:"Tiered",[P.TEAM_BASED]:"Team Based"}[l]}static{this.\u0275fac=function(C){return new(C||m)(e.\u0275\u0275directiveInject(Ce),e.\u0275\u0275directiveInject(i),e.\u0275\u0275directiveInject(r.Router))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:m,selectors:[["app-rules-list"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:22,vars:9,consts:[[1,"rules-list-container"],[1,"header"],["class","btn-primary",3,"click",4,"ngIf"],[1,"filters"],["for","status-filter"],["id","status-filter",3,"ngModelChange","change","ngModel"],["value","all"],[3,"value"],["class","loading",4,"ngIf"],["class","no-rules",4,"ngIf"],["class","rules-grid",4,"ngIf"],[1,"btn-primary",3,"click"],[1,"loading"],[1,"no-rules"],[1,"rules-grid"],["class","rule-card",4,"ngFor","ngForOf"],[1,"rule-card"],[1,"rule-header"],[1,"status-badge"],[1,"rule-body"],[1,"description"],[1,"rule-details"],[1,"detail-item"],[1,"label"],[1,"value"],["class","detail-item",4,"ngIf"],[1,"rule-tags"],["class","tag",4,"ngIf"],["class","rule-actions",4,"ngIf"],[1,"tag"],[1,"rule-actions"],[1,"btn-edit",3,"click"],[1,"btn-delete",3,"click"]],template:function(C,A){1&C&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h1"),e.\u0275\u0275text(3,"Incentive Rules Management"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,a,2,0,"button",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",3)(6,"label",4),e.\u0275\u0275text(7,"Filter by Status:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"select",5),e.\u0275\u0275twoWayListener("ngModelChange",function(me){return e.\u0275\u0275twoWayBindingSet(A.selectedStatus,me)||(A.selectedStatus=me),me}),e.\u0275\u0275listener("change",function(){return A.filterRules()}),e.\u0275\u0275elementStart(9,"option",6),e.\u0275\u0275text(10,"All"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"option",7),e.\u0275\u0275text(12,"Active"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"option",7),e.\u0275\u0275text(14,"Inactive"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"option",7),e.\u0275\u0275text(16,"Draft"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"option",7),e.\u0275\u0275text(18,"Archived"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(19,u,3,0,"div",8)(20,y,4,1,"div",9)(21,he,2,1,"div",10),e.\u0275\u0275elementEnd()),2&C&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",A.canManageRules),e.\u0275\u0275advance(4),e.\u0275\u0275twoWayProperty("ngModel",A.selectedStatus),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",A.RuleStatus.ACTIVE),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",A.RuleStatus.INACTIVE),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",A.RuleStatus.DRAFT),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",A.RuleStatus.ARCHIVED),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",A.loading),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!A.loading&&0===A.filteredRules.length),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!A.loading&&A.filteredRules.length>0))},dependencies:[_.CommonModule,_.NgForOf,_.NgIf,_.DecimalPipe,_.DatePipe,g.FormsModule,g.NgSelectOption,g.\u0275NgSelectMultipleOption,g.SelectControlValueAccessor,g.NgControlStatus,g.NgModel],styles:[".rules-list-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.rules-list-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.rules-list-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:600;color:var(--text-primary, #1a1a1a)}.rules-list-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{margin-bottom:1.5rem;display:flex;align-items:center;gap:1rem}.rules-list-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:var(--text-secondary, #666)}.rules-list-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid var(--border-color, #ddd);border-radius:4px;font-size:1rem;background-color:#fff;cursor:pointer}.rules-list-container[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color, #007bff)}.rules-list-container[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .rules-list-container[_ngcontent-%COMP%]   .no-rules[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:var(--text-secondary, #666)}.rules-list-container[_ngcontent-%COMP%]   .rules-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--border-color, #e0e0e0);border-radius:8px;padding:1.5rem;transition:box-shadow .2s ease}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:var(--text-primary, #1a1a1a);flex:1}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:uppercase;margin-left:.5rem;white-space:nowrap}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-header[_ngcontent-%COMP%]   .status-badge.status-active[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-header[_ngcontent-%COMP%]   .status-badge.status-inactive[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-header[_ngcontent-%COMP%]   .status-badge.status-draft[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-header[_ngcontent-%COMP%]   .status-badge.status-archived[_ngcontent-%COMP%]{background-color:#e2e3e5;color:#383d41}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:var(--text-secondary, #666);margin-bottom:1rem;line-height:1.5}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-body[_ngcontent-%COMP%]   .rule-details[_ngcontent-%COMP%]{display:grid;gap:.5rem;margin-bottom:1rem}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-body[_ngcontent-%COMP%]   .rule-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.9rem}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-body[_ngcontent-%COMP%]   .rule-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--text-secondary, #666);font-weight:500}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-body[_ngcontent-%COMP%]   .rule-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--text-primary, #1a1a1a);font-weight:600}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-body[_ngcontent-%COMP%]   .rule-tags[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-body[_ngcontent-%COMP%]   .rule-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{padding:.25rem .5rem;background-color:#e7f3ff;color:#06c;border-radius:4px;font-size:.75rem;font-weight:500}.rules-list-container[_ngcontent-%COMP%]   .rule-card[_ngcontent-%COMP%]   .rule-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem;padding-top:1rem;border-top:1px solid var(--border-color, #e0e0e0)}.rules-list-container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background-color:var(--primary-color, #007bff);color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;transition:background-color .2s ease}.rules-list-container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary-hover, #0056b3)}.rules-list-container[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active{transform:translateY(1px)}.rules-list-container[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]{flex:1;padding:.5rem 1rem;background-color:#28a745;color:#fff;border:none;border-radius:4px;font-size:.9rem;cursor:pointer;transition:background-color .2s ease}.rules-list-container[_ngcontent-%COMP%]   .btn-edit[_ngcontent-%COMP%]:hover{background-color:#218838}.rules-list-container[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]{flex:1;padding:.5rem 1rem;background-color:#dc3545;color:#fff;border:none;border-radius:4px;font-size:.9rem;cursor:pointer;transition:background-color .2s ease}.rules-list-container[_ngcontent-%COMP%]   .btn-delete[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})}}return m})()}],(0,r.withHashLocation)()),(0,M.provideHttpClient)()]};var ue=n(8662);function fe(m,D){if(1&m){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",7)(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(l);const A=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(A.logout())}),e.\u0275\u0275text(4,"Logout"),e.\u0275\u0275elementEnd()()}if(2&m){const l=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("Welcome, ",(null==l.userInfo?null:l.userInfo.name)||(null==l.userInfo?null:l.userInfo.email)||"User","")}}function Se(m,D){if(1&m){const l=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(l);const A=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(A.login())}),e.\u0275\u0275text(2,"Login"),e.\u0275\u0275elementEnd()()}}(0,f.B8)((()=>{class m{constructor(l){this.auth=l,this.title="mfe-CRUD_RULES",this.isAuthenticated=!1,this.userInfo=null,console.log("In mfe-CRUD_RULES constructor",this.auth.id)}ngOnInit(){console.log("IN ngOnInit of mfe-CRUD_RULES"),this.isAuthenticated=this.auth.isAuthenticated(),this.userInfo=this.auth.getUser(),this.auth.user$.subscribe(l=>{this.userInfo=l,this.isAuthenticated=!!l})}login(){this.auth.login()}logout(){this.auth.logout()}static{this.\u0275fac=function(C){return new(C||m)(e.\u0275\u0275directiveInject(ue.AuthService))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:m,selectors:[["app-root"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:12,vars:3,consts:[[1,"app-container"],[1,"app-header"],[1,"header-content"],["class","user-info",4,"ngIf"],[4,"ngIf"],[1,"app-main"],[1,"app-footer"],[1,"user-info"],[1,"btn-logout",3,"click"],[1,"btn-login",3,"click"]],template:function(C,A){1&C&&(e.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,fe,5,1,"div",3)(6,Se,3,0,"div",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"main",5),e.\u0275\u0275element(8,"router-outlet"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"footer",6)(10,"p"),e.\u0275\u0275text(11,"Incentive Management System - Admin & Team Lead Portal"),e.\u0275\u0275elementEnd()()()),2&C&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(A.title),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",A.isAuthenticated),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!A.isAuthenticated))},dependencies:[r.RouterOutlet,_.CommonModule,_.NgIf],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background-color:#f5f5f5}.app-container[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 2px 4px #0000001a;padding:1rem 2rem}.app-container[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}.app-container[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#1a1a1a}.app-container[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.app-container[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#666}.app-container[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%], .app-container[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;font-size:.9rem;cursor:pointer;transition:background-color .2s ease}.app-container[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.app-container[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]:hover{background-color:#0056b3}.app-container[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.app-container[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{background-color:#5a6268}.app-container[_ngcontent-%COMP%]   .app-main[_ngcontent-%COMP%]{flex:1;width:100%}.app-container[_ngcontent-%COMP%]   .app-footer[_ngcontent-%COMP%]{background-color:#fff;padding:1rem 2rem;text-align:center;color:#666;font-size:.9rem;border-top:1px solid #e0e0e0}.app-container[_ngcontent-%COMP%]   .app-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})}}return m})(),le).catch(m=>console.error(m))},4412:(F,b,n)=>{n.d(b,{t:()=>r});var f=n(1413);class r extends f.B{constructor(_){super(),this._value=_}get value(){return this.getValue()}_subscribe(_){const g=super._subscribe(_);return!g.closed&&_.next(this._value),g}getValue(){const{hasError:_,thrownError:g,_value:P}=this;if(_)throw g;return this._throwIfClosed(),P}next(_){super.next(this._value=_)}}},1985:(F,b,n)=>{n.d(b,{c:()=>e});var f=n(7707),r=n(8359),M=n(3494),_=n(1203),g=n(1026),P=n(8071),T=n(9786);let e=(()=>{class S{constructor(I){I&&(this._subscribe=I)}lift(I){const V=new S;return V.source=this,V.operator=I,V}subscribe(I,V,Z){const K=function p(S){return S&&S instanceof f.vU||function E(S){return S&&(0,P.T)(S.next)&&(0,P.T)(S.error)&&(0,P.T)(S.complete)}(S)&&(0,r.Uv)(S)}(I)?I:new f.Ms(I,V,Z);return(0,T.Y)(()=>{const{operator:$,source:ee}=this;K.add($?$.call(K,ee):ee?this._subscribe(K):this._trySubscribe(K))}),K}_trySubscribe(I){try{return this._subscribe(I)}catch(V){I.error(V)}}forEach(I,V){return new(V=N(V))((Z,K)=>{const $=new f.Ms({next:ee=>{try{I(ee)}catch(ie){K(ie),$.unsubscribe()}},error:K,complete:Z});this.subscribe($)})}_subscribe(I){var V;return null===(V=this.source)||void 0===V?void 0:V.subscribe(I)}[M.s](){return this}pipe(...I){return(0,_.m)(I)(this)}toPromise(I){return new(I=N(I))((V,Z)=>{let K;this.subscribe($=>K=$,$=>Z($),()=>V(K))})}}return S.create=H=>new S(H),S})();function N(S){var H;return null!==(H=S??g.$.Promise)&&void 0!==H?H:Promise}},1413:(F,b,n)=>{n.d(b,{B:()=>T});var f=n(1985),r=n(8359);const _=(0,n(1853).L)(N=>function(){N(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var g=n(7908),P=n(9786);let T=(()=>{class N extends f.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(p){const S=new e(this,this);return S.operator=p,S}_throwIfClosed(){if(this.closed)throw new _}next(p){(0,P.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const S of this.currentObservers)S.next(p)}})}error(p){(0,P.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=p;const{observers:S}=this;for(;S.length;)S.shift().error(p)}})}complete(){(0,P.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:p}=this;for(;p.length;)p.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var p;return(null===(p=this.observers)||void 0===p?void 0:p.length)>0}_trySubscribe(p){return this._throwIfClosed(),super._trySubscribe(p)}_subscribe(p){return this._throwIfClosed(),this._checkFinalizedStatuses(p),this._innerSubscribe(p)}_innerSubscribe(p){const{hasError:S,isStopped:H,observers:I}=this;return S||H?r.Kn:(this.currentObservers=null,I.push(p),new r.yU(()=>{this.currentObservers=null,(0,g.o)(I,p)}))}_checkFinalizedStatuses(p){const{hasError:S,thrownError:H,isStopped:I}=this;S?p.error(H):I&&p.complete()}asObservable(){const p=new f.c;return p.source=this,p}}return N.create=(E,p)=>new e(E,p),N})();class e extends T{constructor(E,p){super(),this.destination=E,this.source=p}next(E){var p,S;null===(S=null===(p=this.destination)||void 0===p?void 0:p.next)||void 0===S||S.call(p,E)}error(E){var p,S;null===(S=null===(p=this.destination)||void 0===p?void 0:p.error)||void 0===S||S.call(p,E)}complete(){var E,p;null===(p=null===(E=this.destination)||void 0===E?void 0:E.complete)||void 0===p||p.call(E)}_subscribe(E){var p,S;return null!==(S=null===(p=this.source)||void 0===p?void 0:p.subscribe(E))&&void 0!==S?S:r.Kn}}},7707:(F,b,n)=>{n.d(b,{Ms:()=>Z,vU:()=>S});var f=n(8071),r=n(8359),M=n(1026),_=n(5334),g=n(5343);const P=N("C",void 0,void 0);function N(w,O,B){return{kind:w,value:O,error:B}}var E=n(9270),p=n(9786);class S extends r.yU{constructor(O){super(),this.isStopped=!1,O?(this.destination=O,(0,r.Uv)(O)&&O.add(this)):this.destination=ie}static create(O,B,G){return new Z(O,B,G)}next(O){this.isStopped?ee(function e(w){return N("N",w,void 0)}(O),this):this._next(O)}error(O){this.isStopped?ee(function T(w){return N("E",void 0,w)}(O),this):(this.isStopped=!0,this._error(O))}complete(){this.isStopped?ee(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(O){this.destination.next(O)}_error(O){try{this.destination.error(O)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const H=Function.prototype.bind;function I(w,O){return H.call(w,O)}class V{constructor(O){this.partialObserver=O}next(O){const{partialObserver:B}=this;if(B.next)try{B.next(O)}catch(G){K(G)}}error(O){const{partialObserver:B}=this;if(B.error)try{B.error(O)}catch(G){K(G)}else K(O)}complete(){const{partialObserver:O}=this;if(O.complete)try{O.complete()}catch(B){K(B)}}}class Z extends S{constructor(O,B,G){let x;if(super(),(0,f.T)(O)||!O)x={next:O??void 0,error:B??void 0,complete:G??void 0};else{let L;this&&M.$.useDeprecatedNextContext?(L=Object.create(O),L.unsubscribe=()=>this.unsubscribe(),x={next:O.next&&I(O.next,L),error:O.error&&I(O.error,L),complete:O.complete&&I(O.complete,L)}):x=O}this.destination=new V(x)}}function K(w){M.$.useDeprecatedSynchronousErrorHandling?(0,p.l)(w):(0,_.m)(w)}function ee(w,O){const{onStoppedNotification:B}=M.$;B&&E.f.setTimeout(()=>B(w,O))}const ie={closed:!0,next:g.l,error:function $(w){throw w},complete:g.l}},8359:(F,b,n)=>{n.d(b,{Kn:()=>P,yU:()=>g,Uv:()=>T});var f=n(8071);const M=(0,n(1853).L)(N=>function(p){N(this),this.message=p?`${p.length} errors occurred during unsubscription:\n${p.map((S,H)=>`${H+1}) ${S.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=p});var _=n(7908);class g{constructor(E){this.initialTeardown=E,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let E;if(!this.closed){this.closed=!0;const{_parentage:p}=this;if(p)if(this._parentage=null,Array.isArray(p))for(const I of p)I.remove(this);else p.remove(this);const{initialTeardown:S}=this;if((0,f.T)(S))try{S()}catch(I){E=I instanceof M?I.errors:[I]}const{_finalizers:H}=this;if(H){this._finalizers=null;for(const I of H)try{e(I)}catch(V){E=E??[],V instanceof M?E=[...E,...V.errors]:E.push(V)}}if(E)throw new M(E)}}add(E){var p;if(E&&E!==this)if(this.closed)e(E);else{if(E instanceof g){if(E.closed||E._hasParent(this))return;E._addParent(this)}(this._finalizers=null!==(p=this._finalizers)&&void 0!==p?p:[]).push(E)}}_hasParent(E){const{_parentage:p}=this;return p===E||Array.isArray(p)&&p.includes(E)}_addParent(E){const{_parentage:p}=this;this._parentage=Array.isArray(p)?(p.push(E),p):p?[p,E]:E}_removeParent(E){const{_parentage:p}=this;p===E?this._parentage=null:Array.isArray(p)&&(0,_.o)(p,E)}remove(E){const{_finalizers:p}=this;p&&(0,_.o)(p,E),E instanceof g&&E._removeParent(this)}}g.EMPTY=(()=>{const N=new g;return N.closed=!0,N})();const P=g.EMPTY;function T(N){return N instanceof g||N&&"closed"in N&&(0,f.T)(N.remove)&&(0,f.T)(N.add)&&(0,f.T)(N.unsubscribe)}function e(N){(0,f.T)(N)?N():N.unsubscribe()}},1026:(F,b,n)=>{n.d(b,{$:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(F,b,n)=>{n.d(b,{x:()=>g});var f=n(6365),M=n(9326),_=n(6648);function g(...P){return function r(){return(0,f.U)(1)}()((0,_.H)(P,(0,M.lI)(P)))}},983:(F,b,n)=>{n.d(b,{w:()=>r});const r=new(n(1985).c)(g=>g.complete())},6648:(F,b,n)=>{n.d(b,{H:()=>G});var f=n(8750),r=n(5225),M=n(9974),_=n(4360);function g(x,L=0){return(0,M.N)((W,Y)=>{W.subscribe((0,_._)(Y,ae=>(0,r.N)(Y,x,()=>Y.next(ae),L),()=>(0,r.N)(Y,x,()=>Y.complete(),L),ae=>(0,r.N)(Y,x,()=>Y.error(ae),L)))})}function P(x,L=0){return(0,M.N)((W,Y)=>{Y.add(x.schedule(()=>W.subscribe(Y),L))})}var N=n(1985),p=n(4761),S=n(8071);function I(x,L){if(!x)throw new Error("Iterable cannot be null");return new N.c(W=>{(0,r.N)(W,L,()=>{const Y=x[Symbol.asyncIterator]();(0,r.N)(W,L,()=>{Y.next().then(ae=>{ae.done?W.complete():W.next(ae.value)})},0,!0)})})}var V=n(5055),Z=n(9858),K=n(7441),$=n(5397),ee=n(7953),ie=n(591),w=n(5196);function G(x,L){return L?function B(x,L){if(null!=x){if((0,V.l)(x))return function T(x,L){return(0,f.Tg)(x).pipe(P(L),g(L))}(x,L);if((0,K.X)(x))return function E(x,L){return new N.c(W=>{let Y=0;return L.schedule(function(){Y===x.length?W.complete():(W.next(x[Y++]),W.closed||this.schedule())})})}(x,L);if((0,Z.y)(x))return function e(x,L){return(0,f.Tg)(x).pipe(P(L),g(L))}(x,L);if((0,ee.T)(x))return I(x,L);if((0,$.x)(x))return function H(x,L){return new N.c(W=>{let Y;return(0,r.N)(W,L,()=>{Y=x[p.l](),(0,r.N)(W,L,()=>{let ae,pe;try{({value:ae,done:pe}=Y.next())}catch(ge){return void W.error(ge)}pe?W.complete():W.next(ae)},0,!0)}),()=>(0,S.T)(Y?.return)&&Y.return()})}(x,L);if((0,w.U)(x))return function O(x,L){return I((0,w.C)(x),L)}(x,L)}throw(0,ie.L)(x)}(x,L):(0,f.Tg)(x)}},8750:(F,b,n)=>{n.d(b,{Tg:()=>H});var f=n(1635),r=n(7441),M=n(9858),_=n(1985),g=n(5055),P=n(7953),T=n(591),e=n(5397),N=n(5196),E=n(8071),p=n(5334),S=n(3494);function H(w){if(w instanceof _.c)return w;if(null!=w){if((0,g.l)(w))return function I(w){return new _.c(O=>{const B=w[S.s]();if((0,E.T)(B.subscribe))return B.subscribe(O);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(w);if((0,r.X)(w))return function V(w){return new _.c(O=>{for(let B=0;B<w.length&&!O.closed;B++)O.next(w[B]);O.complete()})}(w);if((0,M.y)(w))return function Z(w){return new _.c(O=>{w.then(B=>{O.closed||(O.next(B),O.complete())},B=>O.error(B)).then(null,p.m)})}(w);if((0,P.T)(w))return $(w);if((0,e.x)(w))return function K(w){return new _.c(O=>{for(const B of w)if(O.next(B),O.closed)return;O.complete()})}(w);if((0,N.U)(w))return function ee(w){return $((0,N.C)(w))}(w)}throw(0,T.L)(w)}function $(w){return new _.c(O=>{(function ie(w,O){var B,G,x,L;return(0,f.sH)(this,void 0,void 0,function*(){try{for(B=(0,f.xN)(w);!(G=yield B.next()).done;)if(O.next(G.value),O.closed)return}catch(W){x={error:W}}finally{try{G&&!G.done&&(L=B.return)&&(yield L.call(B))}finally{if(x)throw x.error}}O.complete()})})(w,O).catch(B=>O.error(B))})}},7673:(F,b,n)=>{n.d(b,{of:()=>M});var f=n(9326),r=n(6648);function M(..._){const g=(0,f.lI)(_);return(0,r.H)(_,g)}},4360:(F,b,n)=>{n.d(b,{_:()=>r});var f=n(7707);function r(_,g,P,T,e){return new M(_,g,P,T,e)}class M extends f.vU{constructor(g,P,T,e,N,E){super(g),this.onFinalize=N,this.shouldUnsubscribe=E,this._next=P?function(p){try{P(p)}catch(S){g.error(S)}}:super._next,this._error=e?function(p){try{e(p)}catch(S){g.error(S)}finally{this.unsubscribe()}}:super._error,this._complete=T?function(){try{T()}catch(p){g.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var g;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:P}=this;super.unsubscribe(),!P&&(null===(g=this.onFinalize)||void 0===g||g.call(this))}}}},6354:(F,b,n)=>{n.d(b,{T:()=>M});var f=n(9974),r=n(4360);function M(_,g){return(0,f.N)((P,T)=>{let e=0;P.subscribe((0,r._)(T,N=>{T.next(_.call(g,N,e++))}))})}},3703:(F,b,n)=>{n.d(b,{u:()=>r});var f=n(6354);function r(M){return(0,f.T)(()=>M)}},6365:(F,b,n)=>{n.d(b,{U:()=>M});var f=n(1397),r=n(3669);function M(_=1/0){return(0,f.Z)(r.D,_)}},1397:(F,b,n)=>{n.d(b,{Z:()=>e});var f=n(6354),r=n(8750),M=n(9974),_=n(5225),g=n(4360),T=n(8071);function e(N,E,p=1/0){return(0,T.T)(E)?e((S,H)=>(0,f.T)((I,V)=>E(S,I,H,V))((0,r.Tg)(N(S,H))),p):("number"==typeof E&&(p=E),(0,M.N)((S,H)=>function P(N,E,p,S,H,I,V,Z){const K=[];let $=0,ee=0,ie=!1;const w=()=>{ie&&!K.length&&!$&&E.complete()},O=G=>$<S?B(G):K.push(G),B=G=>{I&&E.next(G),$++;let x=!1;(0,r.Tg)(p(G,ee++)).subscribe((0,g._)(E,L=>{H?.(L),I?O(L):E.next(L)},()=>{x=!0},void 0,()=>{if(x)try{for($--;K.length&&$<S;){const L=K.shift();V?(0,_.N)(E,V,()=>B(L)):B(L)}w()}catch(L){E.error(L)}}))};return N.subscribe((0,g._)(E,O,()=>{ie=!0,w()})),()=>{Z?.()}}(S,H,N,p)))}},6697:(F,b,n)=>{n.d(b,{s:()=>_});var f=n(983),r=n(9974),M=n(4360);function _(g){return g<=0?()=>f.w:(0,r.N)((P,T)=>{let e=0;P.subscribe((0,M._)(T,N=>{++e<=g&&(T.next(N),g<=e&&T.complete())}))})}},9270:(F,b,n)=>{n.d(b,{f:()=>f});const f={setTimeout(r,M,..._){const{delegate:g}=f;return g?.setTimeout?g.setTimeout(r,M,..._):setTimeout(r,M,..._)},clearTimeout(r){const{delegate:M}=f;return(M?.clearTimeout||clearTimeout)(r)},delegate:void 0}},4761:(F,b,n)=>{n.d(b,{l:()=>r});const r=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(F,b,n)=>{n.d(b,{s:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(F,b,n)=>{n.d(b,{lI:()=>g,ms:()=>_});var f=n(8071),r=n(9470);function M(T){return T[T.length-1]}function _(T){return(0,f.T)(M(T))?T.pop():void 0}function g(T){return(0,r.m)(M(T))?T.pop():void 0}},7908:(F,b,n)=>{function f(r,M){if(r){const _=r.indexOf(M);0<=_&&r.splice(_,1)}}n.d(b,{o:()=>f})},1853:(F,b,n)=>{function f(r){const _=r(g=>{Error.call(g),g.stack=(new Error).stack});return _.prototype=Object.create(Error.prototype),_.prototype.constructor=_,_}n.d(b,{L:()=>f})},9786:(F,b,n)=>{n.d(b,{Y:()=>M,l:()=>_});var f=n(1026);let r=null;function M(g){if(f.$.useDeprecatedSynchronousErrorHandling){const P=!r;if(P&&(r={errorThrown:!1,error:null}),g(),P){const{errorThrown:T,error:e}=r;if(r=null,T)throw e}}else g()}function _(g){f.$.useDeprecatedSynchronousErrorHandling&&r&&(r.errorThrown=!0,r.error=g)}},5225:(F,b,n)=>{function f(r,M,_,g=0,P=!1){const T=M.schedule(function(){_(),P?r.add(this.schedule(null,g)):this.unsubscribe()},g);if(r.add(T),!P)return T}n.d(b,{N:()=>f})},3669:(F,b,n)=>{function f(r){return r}n.d(b,{D:()=>f})},7441:(F,b,n)=>{n.d(b,{X:()=>f});const f=r=>r&&"number"==typeof r.length&&"function"!=typeof r},7953:(F,b,n)=>{n.d(b,{T:()=>r});var f=n(8071);function r(M){return Symbol.asyncIterator&&(0,f.T)(M?.[Symbol.asyncIterator])}},8071:(F,b,n)=>{function f(r){return"function"==typeof r}n.d(b,{T:()=>f})},5055:(F,b,n)=>{n.d(b,{l:()=>M});var f=n(3494),r=n(8071);function M(_){return(0,r.T)(_[f.s])}},5397:(F,b,n)=>{n.d(b,{x:()=>M});var f=n(4761),r=n(8071);function M(_){return(0,r.T)(_?.[f.l])}},9858:(F,b,n)=>{n.d(b,{y:()=>r});var f=n(8071);function r(M){return(0,f.T)(M?.then)}},5196:(F,b,n)=>{n.d(b,{C:()=>M,U:()=>_});var f=n(1635),r=n(8071);function M(g){return(0,f.AQ)(this,arguments,function*(){const T=g.getReader();try{for(;;){const{value:e,done:N}=yield(0,f.N3)(T.read());if(N)return yield(0,f.N3)(void 0);yield yield(0,f.N3)(e)}}finally{T.releaseLock()}})}function _(g){return(0,r.T)(g?.getReader)}},9470:(F,b,n)=>{n.d(b,{m:()=>r});var f=n(8071);function r(M){return M&&(0,f.T)(M.schedule)}},9974:(F,b,n)=>{n.d(b,{N:()=>M,S:()=>r});var f=n(8071);function r(_){return(0,f.T)(_?.lift)}function M(_){return g=>{if(r(g))return g.lift(function(P){try{return _(P,this)}catch(T){this.error(T)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(F,b,n)=>{function f(){}n.d(b,{l:()=>f})},1203:(F,b,n)=>{n.d(b,{F:()=>r,m:()=>M});var f=n(3669);function r(..._){return M(_)}function M(_){return 0===_.length?f.D:1===_.length?_[0]:function(P){return _.reduce((T,e)=>e(T),P)}}},5334:(F,b,n)=>{n.d(b,{m:()=>M});var f=n(1026),r=n(9270);function M(_){r.f.setTimeout(()=>{const{onUnhandledError:g}=f.$;if(!g)throw _;g(_)})}},591:(F,b,n)=>{function f(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}n.d(b,{L:()=>f})},345:(F,b,n)=>{n.d(b,{B8:()=>a,hE:()=>ue});var f=n(4482),r=n(4332);n(4230);class _ extends f.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class g extends _{static makeCurrent(){(0,f.\u0275setRootDomAdapter)(new g)}onAndCancel(s,t,o){return s.addEventListener(t,o),()=>{s.removeEventListener(t,o)}}dispatchEvent(s,t){s.dispatchEvent(t)}remove(s){s.remove()}createElement(s,t){return(t=t||this.getDefaultDocument()).createElement(s)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(s){return s.nodeType===Node.ELEMENT_NODE}isShadowRoot(s){return s instanceof DocumentFragment}getGlobalEventTarget(s,t){return"window"===t?window:"document"===t?s:"body"===t?s.body:null}getBaseHref(s){const t=function T(){return P=P||document.querySelector("base"),P?P.getAttribute("href"):null}();return null==t?null:function e(d){return new URL(d,document.baseURI).pathname}(t)}resetBaseElement(){P=null}getUserAgent(){return window.navigator.userAgent}getCookie(s){return(0,f.\u0275parseCookieValue)(document.cookie,s)}}let P=null,E=(()=>{class d{build(){return new XMLHttpRequest}static{this.\u0275fac=function(o){return new(o||d)}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac})}}return d})();const p=new r.InjectionToken("");let S=(()=>{class d{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(h=>{h.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,o,h){return this._findPluginFor(o).addEventListener(t,o,h)}getZone(){return this._zone}_findPluginFor(t){let o=this._eventNameToPlugin.get(t);if(o)return o;if(o=this._plugins.find(R=>R.supports(t)),!o)throw new r.\u0275RuntimeError(5101,!1);return this._eventNameToPlugin.set(t,o),o}static{this.\u0275fac=function(o){return new(o||d)(r.\u0275\u0275inject(p),r.\u0275\u0275inject(r.NgZone))}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac})}}return d})();class H{constructor(s){this._doc=s}}const I="ng-app-id";let V=(()=>{class d{constructor(t,o,h,R={}){this.doc=t,this.appId=o,this.nonce=h,this.platformId=R,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,f.isPlatformServer)(R),this.resetHostNodes()}addStyles(t){for(const o of t)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(t){for(const o of t)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(o=>o.remove()),t.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const o of this.getAllStyles())this.addStyleToHost(t,o)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const o of this.hostNodes)this.addStyleToHost(o,t)}onStyleRemoved(t){const o=this.styleRef;o.get(t)?.elements?.forEach(h=>h.remove()),o.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${I}="${this.appId}"]`);if(t?.length){const o=new Map;return t.forEach(h=>{null!=h.textContent&&o.set(h.textContent,h)}),o}return null}changeUsageCount(t,o){const h=this.styleRef;if(h.has(t)){const R=h.get(t);return R.usage+=o,R.usage}return h.set(t,{usage:o,elements:[]}),o}getStyleElement(t,o){const h=this.styleNodesInDOM,R=h?.get(o);if(R?.parentNode===t)return h.delete(o),R.removeAttribute(I),R;{const z=this.doc.createElement("style");return this.nonce&&z.setAttribute("nonce",this.nonce),z.textContent=o,this.platformIsServer&&z.setAttribute(I,this.appId),t.appendChild(z),z}}addStyleToHost(t,o){const h=this.getStyleElement(t,o),R=this.styleRef,z=R.get(o)?.elements;z?z.push(h):R.set(o,{elements:[h],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(o){return new(o||d)(r.\u0275\u0275inject(f.DOCUMENT),r.\u0275\u0275inject(r.APP_ID),r.\u0275\u0275inject(r.CSP_NONCE,8),r.\u0275\u0275inject(r.PLATFORM_ID))}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac})}}return d})();const Z={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},K=/%COMP%/g,$="%COMP%",ee=`_nghost-${$}`,ie=`_ngcontent-${$}`,O=new r.InjectionToken("",{providedIn:"root",factory:()=>!0});function x(d,s){return s.map(t=>t.replace(K,d))}let L=(()=>{class d{constructor(t,o,h,R,z,J,re,ce=null){this.eventManager=t,this.sharedStylesHost=o,this.appId=h,this.removeStylesOnCompDestroy=R,this.doc=z,this.platformId=J,this.ngZone=re,this.nonce=ce,this.rendererByCompId=new Map,this.platformIsServer=(0,f.isPlatformServer)(J),this.defaultRenderer=new W(t,z,re,this.platformIsServer)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===r.ViewEncapsulation.ShadowDom&&(o={...o,encapsulation:r.ViewEncapsulation.Emulated});const h=this.getOrCreateRenderer(t,o);return h instanceof Me?h.applyToHost(t):h instanceof _e&&h.applyStyles(),h}getOrCreateRenderer(t,o){const h=this.rendererByCompId;let R=h.get(o.id);if(!R){const z=this.doc,J=this.ngZone,re=this.eventManager,ce=this.sharedStylesHost,ye=this.removeStylesOnCompDestroy,Ee=this.platformIsServer;switch(o.encapsulation){case r.ViewEncapsulation.Emulated:R=new Me(re,ce,o,this.appId,ye,z,J,Ee);break;case r.ViewEncapsulation.ShadowDom:return new ge(re,ce,t,o,z,J,this.nonce,Ee);default:R=new _e(re,ce,o,ye,z,J,Ee)}h.set(o.id,R)}return R}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(o){return new(o||d)(r.\u0275\u0275inject(S),r.\u0275\u0275inject(V),r.\u0275\u0275inject(r.APP_ID),r.\u0275\u0275inject(O),r.\u0275\u0275inject(f.DOCUMENT),r.\u0275\u0275inject(r.PLATFORM_ID),r.\u0275\u0275inject(r.NgZone),r.\u0275\u0275inject(r.CSP_NONCE))}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac})}}return d})();class W{constructor(s,t,o,h){this.eventManager=s,this.doc=t,this.ngZone=o,this.platformIsServer=h,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(s,t){return t?this.doc.createElementNS(Z[t]||t,s):this.doc.createElement(s)}createComment(s){return this.doc.createComment(s)}createText(s){return this.doc.createTextNode(s)}appendChild(s,t){(pe(s)?s.content:s).appendChild(t)}insertBefore(s,t,o){s&&(pe(s)?s.content:s).insertBefore(t,o)}removeChild(s,t){t.remove()}selectRootElement(s,t){let o="string"==typeof s?this.doc.querySelector(s):s;if(!o)throw new r.\u0275RuntimeError(-5104,!1);return t||(o.textContent=""),o}parentNode(s){return s.parentNode}nextSibling(s){return s.nextSibling}setAttribute(s,t,o,h){if(h){t=h+":"+t;const R=Z[h];R?s.setAttributeNS(R,t,o):s.setAttribute(t,o)}else s.setAttribute(t,o)}removeAttribute(s,t,o){if(o){const h=Z[o];h?s.removeAttributeNS(h,t):s.removeAttribute(`${o}:${t}`)}else s.removeAttribute(t)}addClass(s,t){s.classList.add(t)}removeClass(s,t){s.classList.remove(t)}setStyle(s,t,o,h){h&(r.RendererStyleFlags2.DashCase|r.RendererStyleFlags2.Important)?s.style.setProperty(t,o,h&r.RendererStyleFlags2.Important?"important":""):s.style[t]=o}removeStyle(s,t,o){o&r.RendererStyleFlags2.DashCase?s.style.removeProperty(t):s.style[t]=""}setProperty(s,t,o){null!=s&&(s[t]=o)}setValue(s,t){s.nodeValue=t}listen(s,t,o){if("string"==typeof s&&!(s=(0,f.\u0275getDOM)().getGlobalEventTarget(this.doc,s)))throw new Error(`Unsupported event target ${s} for event ${t}`);return this.eventManager.addEventListener(s,t,this.decoratePreventDefault(o))}decoratePreventDefault(s){return t=>{if("__ngUnwrap__"===t)return s;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>s(t)):s(t))&&t.preventDefault()}}}function pe(d){return"TEMPLATE"===d.tagName&&void 0!==d.content}class ge extends W{constructor(s,t,o,h,R,z,J,re){super(s,R,z,re),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ce=x(h.id,h.styles);for(const ye of ce){const Ee=document.createElement("style");J&&Ee.setAttribute("nonce",J),Ee.textContent=ye,this.shadowRoot.appendChild(Ee)}}nodeOrShadowRoot(s){return s===this.hostEl?this.shadowRoot:s}appendChild(s,t){return super.appendChild(this.nodeOrShadowRoot(s),t)}insertBefore(s,t,o){return super.insertBefore(this.nodeOrShadowRoot(s),t,o)}removeChild(s,t){return super.removeChild(null,t)}parentNode(s){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(s)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _e extends W{constructor(s,t,o,h,R,z,J,re){super(s,R,z,J),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=h,this.styles=re?x(re,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Me extends _e{constructor(s,t,o,h,R,z,J,re){const ce=h+"-"+o.id;super(s,t,o,R,z,J,re,ce),this.contentAttr=function B(d){return ie.replace(K,d)}(ce),this.hostAttr=function G(d){return ee.replace(K,d)}(ce)}applyToHost(s){this.applyStyles(),this.setAttribute(s,this.hostAttr,"")}createElement(s,t){const o=super.createElement(s,t);return super.setAttribute(o,this.contentAttr,""),o}}let be=(()=>{class d extends H{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,h){return t.addEventListener(o,h,!1),()=>this.removeEventListener(t,o,h)}removeEventListener(t,o,h){return t.removeEventListener(o,h)}static{this.\u0275fac=function(o){return new(o||d)(r.\u0275\u0275inject(f.DOCUMENT))}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac})}}return d})();const de=["alt","control","meta","shift"],Ce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oe={alt:d=>d.altKey,control:d=>d.ctrlKey,meta:d=>d.metaKey,shift:d=>d.shiftKey};let i=(()=>{class d extends H{constructor(t){super(t)}supports(t){return null!=d.parseEventName(t)}addEventListener(t,o,h){const R=d.parseEventName(o),z=d.eventCallback(R.fullKey,h,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.\u0275getDOM)().onAndCancel(t,R.domEventName,z))}static parseEventName(t){const o=t.toLowerCase().split("."),h=o.shift();if(0===o.length||"keydown"!==h&&"keyup"!==h)return null;const R=d._normalizeKey(o.pop());let z="",J=o.indexOf("code");if(J>-1&&(o.splice(J,1),z="code."),de.forEach(ce=>{const ye=o.indexOf(ce);ye>-1&&(o.splice(ye,1),z+=ce+".")}),z+=R,0!=o.length||0===R.length)return null;const re={};return re.domEventName=h,re.fullKey=z,re}static matchEventFullKeyCode(t,o){let h=Ce[t.key]||t.key,R="";return o.indexOf("code.")>-1&&(h=t.code,R="code."),!(null==h||!h)&&(h=h.toLowerCase()," "===h?h="space":"."===h&&(h="dot"),de.forEach(z=>{z!==h&&(0,oe[z])(t)&&(R+=z+".")}),R+=h,R===o)}static eventCallback(t,o,h){return R=>{d.matchEventFullKeyCode(R,t)&&h.runGuarded(()=>o(R))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(o){return new(o||d)(r.\u0275\u0275inject(f.DOCUMENT))}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac})}}return d})();function a(d,s,t){return(0,r.\u0275internalCreateApplication)({rootComponent:d,platformRef:t?.platformRef,...c(s)})}function c(d){return{appProviders:[...he,...d?.providers??[]],platformProviders:ne}}const ne=[{provide:r.PLATFORM_ID,useValue:f.\u0275PLATFORM_BROWSER_ID},{provide:r.PLATFORM_INITIALIZER,useValue:function v(){g.makeCurrent()},multi:!0},{provide:f.DOCUMENT,useFactory:function k(){return(0,r.\u0275setDocument)(document),document},deps:[]}],he=[{provide:r.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:r.ErrorHandler,useFactory:function U(){return new r.ErrorHandler},deps:[]},{provide:p,useClass:be,multi:!0,deps:[f.DOCUMENT,r.NgZone,r.PLATFORM_ID]},{provide:p,useClass:i,multi:!0,deps:[f.DOCUMENT]},L,V,S,{provide:r.RendererFactory2,useExisting:L},{provide:f.XhrFactory,useClass:E,deps:[]},[]];let ue=(()=>{class d{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(o){return new(o||d)(r.\u0275\u0275inject(f.DOCUMENT))}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()},1635:(F,b,n)=>{function S(i,a,u,c){return new(u||(u=Promise))(function(v,U){function k(Q){try{j(c.next(Q))}catch(te){U(te)}}function ne(Q){try{j(c.throw(Q))}catch(te){U(te)}}function j(Q){Q.done?v(Q.value):function y(v){return v instanceof u?v:new u(function(U){U(v)})}(Q.value).then(k,ne)}j((c=c.apply(i,a||[])).next())})}function w(i){return this instanceof w?(this.v=i,this):new w(i)}function O(i,a,u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,c=u.apply(i,a||[]),v=[];return y=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),k("next"),k("throw"),k("return",function U(X){return function(se){return Promise.resolve(se).then(X,te)}}),y[Symbol.asyncIterator]=function(){return this},y;function k(X,se){c[X]&&(y[X]=function(le){return new Promise(function(ue,fe){v.push([X,le,ue,fe])>1||ne(X,le)})},se&&(y[X]=se(y[X])))}function ne(X,se){try{!function j(X){X.value instanceof w?Promise.resolve(X.value.v).then(Q,te):he(v[0][2],X)}(c[X](se))}catch(le){he(v[0][3],le)}}function Q(X){ne("next",X)}function te(X){ne("throw",X)}function he(X,se){X(se),v.shift(),v.length&&ne(v[0][0],v[0][1])}}function G(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,a=i[Symbol.asyncIterator];return a?a.call(i):(i=function Z(i){var a="function"==typeof Symbol&&Symbol.iterator,u=a&&i[a],c=0;if(u)return u.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&c>=i.length&&(i=void 0),{value:i&&i[c++],done:!i}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),u={},c("next"),c("throw"),c("return"),u[Symbol.asyncIterator]=function(){return this},u);function c(v){u[v]=i[v]&&function(U){return new Promise(function(k,ne){!function y(v,U,k,ne){Promise.resolve(ne).then(function(j){v({value:j,done:k})},U)}(k,ne,(U=i[v](U)).done,U.value)})}}}n.d(b,{AQ:()=>O,N3:()=>w,sH:()=>S,xN:()=>G}),"function"==typeof SuppressedError&&SuppressedError}}]);