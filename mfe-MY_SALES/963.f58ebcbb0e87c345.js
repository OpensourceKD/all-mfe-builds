(self.webpackChunkmfe_MY_SALES=self.webpackChunkmfe_MY_SALES||[]).push([[963],{9963:(M,E,e)=>{e.r(E),e.d(E,{AuthService:()=>c,CoreServicesComponent:()=>o,CoreServicesService:()=>d,DummyDataService:()=>T,EventBusService:()=>y,MfeLoaderService:()=>p,ProductCategory:()=>I,RoleService:()=>u,SalesDataService:()=>S,SalesStatus:()=>m,UserRole:()=>s});var a=e(4332);let d=(()=>{class n{constructor(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var h=e(467),i=e(3425),l=e(4230);let c=(()=>{class n{constructor(t){this.http=t,this.id="auth of pokemon",this.ISSUER_BASE_URL="https://topfix-wrczmn.us1.zitadel.cloud",this.CLIENT_ID="336777344075263315",this.REDIRECT_URI="https://opensourcekd.github.io/i17e/auth-callback",this.SCOPE="openid profile email",this.TOKEN_KEY="zitadel_token",this.USER_INFO_KEY="zitadel_user_info",this.userSubject=new i.BehaviorSubject(this.getUserInfoFromStorage()),this.user$=this.userSubject.asObservable()}login(t){this.redirectToZitadelLogin()}redirectToZitadelLogin(){const t=new URL(`${this.ISSUER_BASE_URL}/oauth/v2/authorize`),r=this.generateRandomState(),_=this.generateCodeVerifier();sessionStorage.setItem("oauth_state",r),sessionStorage.setItem("code_verifier",_),t.searchParams.append("client_id",this.CLIENT_ID),t.searchParams.append("redirect_uri",this.REDIRECT_URI),t.searchParams.append("response_type","code"),t.searchParams.append("scope",this.SCOPE),t.searchParams.append("state",r),window.location.href=t.toString()}handleCallback(t,r){var _=this;return(0,h.A)(function*(){const f=sessionStorage.getItem("oauth_state");if(r!==f)return console.error("[AuthService] State mismatch - possible CSRF attack"),!1;try{const D=yield _.exchangeCodeForToken(t);_.setToken(D.access_token);const g=_.decodeIdToken(D.id_token);return _.setUserInfo(g),sessionStorage.removeItem("oauth_state"),sessionStorage.removeItem("code_verifier"),console.log("[AuthService] Authentication successful"),!0}catch(D){return console.error("[AuthService] Error exchanging code for token:",D),!1}})()}exchangeCodeForToken(t){var r=this;return(0,h.A)(function*(){const _=`${r.ISSUER_BASE_URL}/oauth/v2/token`,f=new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:r.REDIRECT_URI,client_id:r.CLIENT_ID}),D=yield fetch(_,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:f.toString()});if(!D.ok)throw new Error(`Token exchange failed: ${D.statusText}`);return D.json()})()}decodeIdToken(t){try{const r=t.split(".")[1],_=JSON.parse(atob(r));return{sub:_.sub,name:_.name,email:_.email}}catch(r){return console.error("[AuthService] Error decoding ID token:",r),{sub:""}}}logout(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_INFO_KEY),this.userSubject.next(null),console.log("[AuthService] User logged out")}getToken(){return localStorage.getItem(this.TOKEN_KEY)}setToken(t){localStorage.setItem(this.TOKEN_KEY,t)}isAuthenticated(){return!!this.getToken()}getUser(){return this.userSubject.value}getUserInfoFromStorage(){const t=localStorage.getItem(this.USER_INFO_KEY);return t?JSON.parse(t):null}setUserInfo(t){localStorage.setItem(this.USER_INFO_KEY,JSON.stringify(t)),this.userSubject.next(t)}generateRandomState(){const t=new Uint8Array(32);return crypto.getRandomValues(t),Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}generateCodeVerifier(){const t=new Uint8Array(32);return crypto.getRandomValues(t),Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}static{this.\u0275fac=function(r){return new(r||n)(a.\u0275\u0275inject(l.HttpClient))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),o=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:n,selectors:[["org-core-services"]],standalone:!0,features:[a.\u0275\u0275StandaloneFeature],decls:2,vars:0,template:function(r,_){1&r&&(a.\u0275\u0275elementStart(0,"p"),a.\u0275\u0275text(1," core-services works! "),a.\u0275\u0275elementEnd())}})}}return n})();var s=function(n){return n.SUPER_ADMIN="super-admin",n.ORG_ADMIN="org-admin",n.TEAM_LEAD="team-lead",n.SALES_EXECUTIVE="sales-executive",n}(s||{});let u=(()=>{class n{constructor(){this.currentUserSubject=new i.BehaviorSubject(this.getDummyUser()),this.currentUser$=this.currentUserSubject.asObservable()}getCurrentUser(){return this.currentUserSubject.value}setCurrentUser(t){this.currentUserSubject.next(t)}hasRole(t){return this.getCurrentUser()?.role===t}hasAnyRole(t){const r=this.getCurrentUser();return!!r&&t.includes(r.role)}isAdmin(){return this.hasAnyRole([s.SUPER_ADMIN,s.ORG_ADMIN])}isTeamLeadOrHigher(){return this.hasAnyRole([s.SUPER_ADMIN,s.ORG_ADMIN,s.TEAM_LEAD])}getAllUsers(){return[{id:"user-1",name:"John Admin",email:"john.admin@company.com",role:s.SUPER_ADMIN},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",role:s.ORG_ADMIN},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",role:s.TEAM_LEAD,teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:s.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",role:s.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",role:s.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}]}getViewableUsers(){const t=this.getCurrentUser();if(!t)return[];const r=this.getAllUsers();return this.isTeamLeadOrHigher()?r.filter(_=>_.role===s.SALES_EXECUTIVE||_.id===t.id):r.filter(_=>_.id===t.id)}getDummyUser(){return{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:s.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var v=e(3103),m=function(n){return n.COMPLETED="completed",n.PENDING="pending",n.CANCELLED="cancelled",n}(m||{}),I=function(n){return n.ELECTRONICS="Electronics",n.SOFTWARE="Software",n.SERVICES="Services",n.HARDWARE="Hardware",n}(I||{});let S=(()=>{class n{constructor(){this.dummySalesData=this.generateDummyData()}getSalesHistory(t,r,_){let f=this.dummySalesData.filter(D=>D.salesExecutiveId===t);return r&&(f=f.filter(D=>D.date>=r)),_&&(f=f.filter(D=>D.date<=_)),(0,i.of)(f).pipe((0,v.c)(300))}getSalesSummary(t){const r=this.dummySalesData.filter(f=>f.salesExecutiveId===t),_={totalSales:r.filter(f=>f.status===m.COMPLETED).reduce((f,D)=>f+D.amount,0),totalCommission:r.filter(f=>f.status===m.COMPLETED).reduce((f,D)=>f+D.commission,0),completedCount:r.filter(f=>f.status===m.COMPLETED).length,pendingCount:r.filter(f=>f.status===m.PENDING).length,cancelledCount:r.filter(f=>f.status===m.CANCELLED).length};return(0,i.of)(_).pipe((0,v.c)(300))}getAllSales(){return(0,i.of)(this.dummySalesData).pipe((0,v.c)(300))}generateDummyData(){const t=[{name:"Enterprise Software License",category:I.SOFTWARE,basePrice:5e4},{name:"Cloud Storage Solution",category:I.SERVICES,basePrice:25e3},{name:"Server Hardware",category:I.HARDWARE,basePrice:35e3},{name:"IoT Device Package",category:I.ELECTRONICS,basePrice:15e3},{name:"Consulting Services",category:I.SERVICES,basePrice:2e4},{name:"Mobile App Development",category:I.SOFTWARE,basePrice:45e3},{name:"Security Suite",category:I.SOFTWARE,basePrice:3e4},{name:"Network Infrastructure",category:I.HARDWARE,basePrice:6e4}],r=["Acme Corporation","Tech Innovations Inc","Global Solutions Ltd","Digital Dynamics","Future Systems","Smart Technologies","Enterprise Solutions","Cloud Masters"],_=["North","South","East","West","Central"],f=[{id:"user-4",name:"Alice Sales"},{id:"user-5",name:"Bob Sales"},{id:"user-6",name:"Carol Sales"}],D=[m.COMPLETED,m.COMPLETED,m.COMPLETED,m.PENDING,m.CANCELLED],g=[];let R=1;for(let U=0;U<50;U++){const L=f[U%f.length],K=t[Math.floor(Math.random()*t.length)],N=r[Math.floor(Math.random()*r.length)],b=_[Math.floor(Math.random()*_.length)],x=D[Math.floor(Math.random()*D.length)],B=K.basePrice+(1e4*Math.random()-5e3),F=.05*B,W=new Date;W.setDate(W.getDate()-Math.floor(180*Math.random())),g.push({id:"sale-"+R++,salesExecutiveId:L.id,salesExecutiveName:L.name,productName:K.name,productCategory:K.category,amount:Math.round(B),commission:Math.round(F),status:x,date:W,clientName:N,region:b})}return g.sort((U,L)=>L.date.getTime()-U.date.getTime())}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var P=e(5964),C=e(6354);let y=(()=>{class n{constructor(){this.eventSubject=new i.Subject}emit(t,r){this.eventSubject.next({type:t,payload:r})}on(t){return t?this.eventSubject.asObservable().pipe((0,P.p)(r=>r.type===t)):this.eventSubject.asObservable()}onPayload(t){return this.eventSubject.asObservable().pipe((0,P.p)(r=>r.type===t),(0,C.T)(r=>r.payload))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var A=e(9437);let p=(()=>{class n{constructor(){this.loadedMfes=new Map}loadRemoteModule(t){return this.loadedMfes.has(t.remoteEntry)?(0,i.of)(this.loadedMfes.get(t.remoteEntry)):(0,i.from)(this.dynamicLoad(t)).pipe((0,C.T)(r=>(this.loadedMfes.set(t.remoteEntry,r),r)),(0,A.W)(r=>{throw console.error(`Failed to load MFE from ${t.remoteEntry}:`,r),r}))}isLoaded(t){return this.loadedMfes.has(t)}getLoadedModule(t){return this.loadedMfes.get(t)}preloadModules(t){const r=t.map(_=>this.loadRemoteModule(_).toPromise());return(0,i.from)(Promise.all(r))}clearCache(t){t?this.loadedMfes.delete(t):this.loadedMfes.clear()}dynamicLoad(t){return(0,h.A)(function*(){return Promise.resolve({config:t,loaded:!0,timestamp:new Date})})()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),T=(()=>{class n{constructor(){}generateData(t,r){return Array.from({length:t},(_,f)=>r(f))}getData(t,r=500){return(0,i.of)(t).pipe((0,v.c)(r))}generateUsers(t){const r=["John","Jane","Bob","Alice","Charlie","Diana","Eve","Frank"],_=["Smith","Johnson","Williams","Brown","Jones","Garcia","Miller","Davis"],f=["example.com","test.com","demo.com"];return this.generateData(t,D=>{const g=r[D%r.length],R=_[Math.floor(D/r.length)%_.length];return{id:`user-${D+1}`,firstName:g,lastName:R,fullName:`${g} ${R}`,email:`${g.toLowerCase()}.${R.toLowerCase()}@${f[D%f.length]}`,phone:`+1-555-${String(1e3+D).padStart(4,"0")}`,createdAt:new Date(Date.now()-24*D*60*60*1e3)}})}generateProducts(t){const r=["Electronics","Clothing","Food","Books","Toys"],_=["Premium","Deluxe","Standard","Basic","Pro"],f=["Widget","Gadget","Device","Tool","Item"];return this.generateData(t,D=>({id:`prod-${D+1}`,name:`${_[D%_.length]} ${f[Math.floor(D/_.length)%f.length]}`,category:r[D%r.length],price:Math.round(100*(10+990*Math.random()))/100,inStock:Math.random()>.2,rating:Math.round(10*(3+2*Math.random()))/10,createdAt:new Date(Date.now()-24*D*60*60*1e3)}))}generateTransactions(t){const r=["completed","pending","failed","cancelled"],_=["purchase","refund","transfer"];return this.generateData(t,f=>({id:`txn-${f+1}`,type:_[f%_.length],amount:Math.round(100*(10+1e3*Math.random()))/100,status:r[f%r.length],userId:"user-"+(f%10+1),timestamp:new Date(Date.now()-60*f*60*1e3),description:`Transaction #${f+1}`}))}randomString(t=10){return Array.from({length:t},()=>"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(62*Math.random())]).join("")}randomNumber(t=0,r=100){return Math.floor(Math.random()*(r-t+1))+t}randomDate(t=new Date(2020,0,1),r=new Date){const _=t.getTime(),f=r.getTime();return new Date(_+Math.random()*(f-_))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()},8399:(M,E,e)=>{e.d(E,{_:()=>d});var a=e(6129);class d{constructor(i,l=d.now){this.schedulerActionCtor=i,this.now=l}schedule(i,l=0,c){return new this.schedulerActionCtor(this,i).schedule(c,l)}}d.now=a.U.now},2688:(M,E,e)=>{e.d(E,{x:()=>i});var a=e(9131),d=e(9326),h=e(9724);function i(...l){return(0,a.K)()((0,h.H)(l,(0,d.lI)(l)))}},983:(M,E,e)=>{e.d(E,{I:()=>h,w:()=>d});var a=e(1985);const d=new a.c(l=>l.complete());function h(l){return l?function i(l){return new a.c(c=>l.schedule(()=>c.complete()))}(l):d}},9724:(M,E,e)=>{e.d(E,{H:()=>h});var a=e(5894),d=e(8750);function h(i,l){return l?(0,a.c)(i,l):(0,d.Tg)(i)}},1807:(M,E,e)=>{e.d(E,{O:()=>l});var a=e(1985),d=e(3236),h=e(9470),i=e(8211);function l(c=0,o,s=d.b){let u=-1;return null!=o&&((0,h.m)(o)?s=o:u=o),new a.c(v=>{let m=(0,i.v)(c)?+c-s.now():c;m<0&&(m=0);let I=0;return s.schedule(function(){v.closed||(v.next(I++),0<=u?this.schedule(void 0,u):v.complete())},m)})}},9437:(M,E,e)=>{e.d(E,{W:()=>i});var a=e(8750),d=e(4360),h=e(9974);function i(l){return(0,h.N)((c,o)=>{let v,s=null,u=!1;s=c.subscribe((0,d._)(o,void 0,void 0,m=>{v=(0,a.Tg)(l(m,i(l)(c))),s?(s.unsubscribe(),s=null,v.subscribe(o)):u=!0})),u&&(s.unsubscribe(),s=null,v.subscribe(o))})}},9131:(M,E,e)=>{e.d(E,{K:()=>d});var a=e(6365);function d(){return(0,a.U)(1)}},3103:(M,E,e)=>{e.d(E,{c:()=>i});var a=e(3236),d=e(3183),h=e(1807);function i(l,c=a.E){const o=(0,h.O)(l,c);return(0,d.o)(()=>o)}},3183:(M,E,e)=>{e.d(E,{o:()=>o});var a=e(2688),d=e(6697),h=e(3557),i=e(3703),l=e(3028),c=e(8750);function o(s,u){return u?v=>(0,a.x)(u.pipe((0,d.s)(1),(0,h.w)()),v.pipe(o(s))):(0,l.Z)((v,m)=>(0,c.Tg)(s(v,m)).pipe((0,d.s)(1),(0,i.u)(v)))}},5964:(M,E,e)=>{e.d(E,{p:()=>h});var a=e(9974),d=e(4360);function h(i,l){return(0,a.N)((c,o)=>{let s=0;c.subscribe((0,d._)(o,u=>i.call(l,u,s++)&&o.next(u)))})}},3557:(M,E,e)=>{e.d(E,{w:()=>i});var a=e(9974),d=e(4360),h=e(5343);function i(){return(0,a.N)((l,c)=>{l.subscribe((0,d._)(c,h.l))})}},6354:(M,E,e)=>{e.d(E,{T:()=>h});var a=e(9974),d=e(4360);function h(i,l){return(0,a.N)((c,o)=>{let s=0;c.subscribe((0,d._)(o,u=>{o.next(i.call(l,u,s++))}))})}},3703:(M,E,e)=>{e.d(E,{u:()=>d});var a=e(6354);function d(h){return(0,a.T)(()=>h)}},6365:(M,E,e)=>{e.d(E,{U:()=>h});var a=e(3028),d=e(3669);function h(i=1/0){return(0,a.Z)(d.D,i)}},5412:(M,E,e)=>{e.d(E,{h:()=>i});var a=e(8750),d=e(5225),h=e(4360);function i(l,c,o,s,u,v,m,I){const S=[];let P=0,C=0,y=!1;const A=()=>{y&&!S.length&&!P&&c.complete()},p=n=>P<s?T(n):S.push(n),T=n=>{v&&c.next(n),P++;let O=!1;(0,a.Tg)(o(n,C++)).subscribe((0,h._)(c,t=>{u?.(t),v?p(t):c.next(t)},()=>{O=!0},void 0,()=>{if(O)try{for(P--;S.length&&P<s;){const t=S.shift();m?(0,d.N)(c,m,()=>T(t)):T(t)}A()}catch(t){c.error(t)}}))};return l.subscribe((0,h._)(c,p,()=>{y=!0,A()})),()=>{I?.()}}},3028:(M,E,e)=>{e.d(E,{Z:()=>c});var a=e(6354),d=e(8750),h=e(9974),i=e(5412),l=e(8071);function c(o,s,u=1/0){return(0,l.T)(s)?c((v,m)=>(0,a.T)((I,S)=>s(v,I,m,S))((0,d.Tg)(o(v,m))),u):("number"==typeof s&&(u=s),(0,h.N)((v,m)=>(0,i.h)(v,m,o,u)))}},941:(M,E,e)=>{e.d(E,{Q:()=>i});var a=e(5225),d=e(9974),h=e(4360);function i(l,c=0){return(0,d.N)((o,s)=>{o.subscribe((0,h._)(s,u=>(0,a.N)(s,l,()=>s.next(u),c),()=>(0,a.N)(s,l,()=>s.complete(),c),u=>(0,a.N)(s,l,()=>s.error(u),c)))})}},6745:(M,E,e)=>{e.d(E,{_:()=>d});var a=e(9974);function d(h,i=0){return(0,a.N)((l,c)=>{c.add(h.schedule(()=>l.subscribe(c),i))})}},6697:(M,E,e)=>{e.d(E,{s:()=>i});var a=e(983),d=e(9974),h=e(4360);function i(l){return l<=0?()=>a.w:(0,d.N)((c,o)=>{let s=0;c.subscribe((0,h._)(o,u=>{++s<=l&&(o.next(u),l<=s&&o.complete())}))})}},7119:(M,E,e)=>{e.d(E,{S:()=>l});var a=e(1985),d=e(4761),h=e(8071),i=e(5225);function l(c,o){return new a.c(s=>{let u;return(0,i.N)(s,o,()=>{u=c[d.l](),(0,i.N)(s,o,()=>{let v,m;try{({value:v,done:m}=u.next())}catch(I){return void s.error(I)}m?s.complete():s.next(v)},0,!0)}),()=>(0,h.T)(u?.return)&&u.return()})}},5894:(M,E,e)=>{e.d(E,{c:()=>T});var a=e(8750),d=e(941),h=e(6745),c=e(1985),s=e(7119),u=e(5225);function v(n,O){if(!n)throw new Error("Iterable cannot be null");return new c.c(t=>{(0,u.N)(t,O,()=>{const r=n[Symbol.asyncIterator]();(0,u.N)(t,O,()=>{r.next().then(_=>{_.done?t.complete():t.next(_.value)})},0,!0)})})}var m=e(5055),I=e(9858),S=e(7441),P=e(5397),C=e(7953),y=e(591),A=e(5196);function T(n,O){if(null!=n){if((0,m.l)(n))return function i(n,O){return(0,a.Tg)(n).pipe((0,h._)(O),(0,d.Q)(O))}(n,O);if((0,S.X)(n))return function o(n,O){return new c.c(t=>{let r=0;return O.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,O);if((0,I.y)(n))return function l(n,O){return(0,a.Tg)(n).pipe((0,h._)(O),(0,d.Q)(O))}(n,O);if((0,C.T)(n))return v(n,O);if((0,P.x)(n))return(0,s.S)(n,O);if((0,A.U)(n))return function p(n,O){return v((0,A.C)(n),O)}(n,O)}throw(0,y.L)(n)}},6780:(M,E,e)=>{e.d(E,{R:()=>l});var a=e(3961);class d extends a.yU{constructor(o,s){super()}schedule(o,s=0){return this}}const h={setInterval(c,o,...s){const{delegate:u}=h;return u?.setInterval?u.setInterval(c,o,...s):setInterval(c,o,...s)},clearInterval(c){const{delegate:o}=h;return(o?.clearInterval||clearInterval)(c)},delegate:void 0};var i=e(7908);class l extends d{constructor(o,s){super(o,s),this.scheduler=o,this.work=s,this.pending=!1}schedule(o,s=0){var u;if(this.closed)return this;this.state=o;const v=this.id,m=this.scheduler;return null!=v&&(this.id=this.recycleAsyncId(m,v,s)),this.pending=!0,this.delay=s,this.id=null!==(u=this.id)&&void 0!==u?u:this.requestAsyncId(m,this.id,s),this}requestAsyncId(o,s,u=0){return h.setInterval(o.flush.bind(o,this),u)}recycleAsyncId(o,s,u=0){if(null!=u&&this.delay===u&&!1===this.pending)return s;null!=s&&h.clearInterval(s)}execute(o,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const u=this._execute(o,s);if(u)return u;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(o,s){let v,u=!1;try{this.work(o)}catch(m){u=!0,v=m||new Error("Scheduled action threw falsy error")}if(u)return this.unsubscribe(),v}unsubscribe(){if(!this.closed){const{id:o,scheduler:s}=this,{actions:u}=s;this.work=this.state=this.scheduler=null,this.pending=!1,(0,i.o)(u,this),null!=o&&(this.id=this.recycleAsyncId(s,o,null)),this.delay=null,super.unsubscribe()}}}},707:(M,E,e)=>{e.d(E,{q:()=>d});var a=e(8399);class d extends a._{constructor(i,l=a._.now){super(i,l),this.actions=[],this._active=!1}flush(i){const{actions:l}=this;if(this._active)return void l.push(i);let c;this._active=!0;do{if(c=i.execute(i.state,i.delay))break}while(i=l.shift());if(this._active=!1,c){for(;i=l.shift();)i.unsubscribe();throw c}}}},3236:(M,E,e)=>{e.d(E,{E:()=>h,b:()=>i});var a=e(6780);const h=new(e(707).q)(a.R),i=h},6129:(M,E,e)=>{e.d(E,{U:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},9326:(M,E,e)=>{e.d(E,{R0:()=>c,lI:()=>l,ms:()=>i});var a=e(8071),d=e(9470);function h(o){return o[o.length-1]}function i(o){return(0,a.T)(h(o))?o.pop():void 0}function l(o){return(0,d.m)(h(o))?o.pop():void 0}function c(o,s){return"number"==typeof h(o)?o.pop():s}},5225:(M,E,e)=>{function a(d,h,i,l=0,c=!1){const o=h.schedule(function(){i(),c?d.add(this.schedule(null,l)):this.unsubscribe()},l);if(d.add(o),!c)return o}e.d(E,{N:()=>a})},8211:(M,E,e)=>{function a(d){return d instanceof Date&&!isNaN(d)}e.d(E,{v:()=>a})},9470:(M,E,e)=>{e.d(E,{m:()=>d});var a=e(8071);function d(h){return h&&(0,a.T)(h.schedule)}},467:(M,E,e)=>{function a(h,i,l,c,o,s,u){try{var v=h[s](u),m=v.value}catch(I){return void l(I)}v.done?i(m):Promise.resolve(m).then(c,o)}function d(h){return function(){var i=this,l=arguments;return new Promise(function(c,o){var s=h.apply(i,l);function u(m){a(s,c,o,u,v,"next",m)}function v(m){a(s,c,o,u,v,"throw",m)}u(void 0)})}}e.d(E,{A:()=>d})}}]);