(self.webpackChunkmfe_MY_SALES=self.webpackChunkmfe_MY_SALES||[]).push([[207,588],{2588:(S,f,e)=>{e.r(f),e.d(f,{AuthService:()=>h,CoreServicesComponent:()=>_,CoreServicesService:()=>o,ProductCategory:()=>T,RoleService:()=>c,SalesDataService:()=>R,SalesStatus:()=>M,UserRole:()=>u});var r=e(4332);let o=(()=>{class m{constructor(){}static{this.\u0275fac=function(O){return new(O||m)}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();var d=e(467),s=e(3425),l=e(4230);let h=(()=>{class m{constructor(D){this.http=D,this.id="auth of pokemon",this.ISSUER_BASE_URL="https://topfix-wrczmn.us1.zitadel.cloud",this.CLIENT_ID="336777344075263315",this.REDIRECT_URI="https://opensourcekd.github.io/i17e/auth-callback",this.SCOPE="openid profile email",this.TOKEN_KEY="zitadel_token",this.USER_INFO_KEY="zitadel_user_info",this.userSubject=new s.BehaviorSubject(this.getUserInfoFromStorage()),this.user$=this.userSubject.asObservable()}login(D){this.redirectToZitadelLogin()}redirectToZitadelLogin(){const D=new URL(`${this.ISSUER_BASE_URL}/oauth/v2/authorize`),O=this.generateRandomState(),A=this.generateCodeVerifier();sessionStorage.setItem("oauth_state",O),sessionStorage.setItem("code_verifier",A),D.searchParams.append("client_id",this.CLIENT_ID),D.searchParams.append("redirect_uri",this.REDIRECT_URI),D.searchParams.append("response_type","code"),D.searchParams.append("scope",this.SCOPE),D.searchParams.append("state",O),window.location.href=D.toString()}handleCallback(D,O){var A=this;return(0,d.A)(function*(){const C=sessionStorage.getItem("oauth_state");if(O!==C)return console.error("[AuthService] State mismatch - possible CSRF attack"),!1;try{const I=yield A.exchangeCodeForToken(D);A.setToken(I.access_token);const p=A.decodeIdToken(I.id_token);return A.setUserInfo(p),sessionStorage.removeItem("oauth_state"),sessionStorage.removeItem("code_verifier"),console.log("[AuthService] Authentication successful"),!0}catch(I){return console.error("[AuthService] Error exchanging code for token:",I),!1}})()}exchangeCodeForToken(D){var O=this;return(0,d.A)(function*(){const A=`${O.ISSUER_BASE_URL}/oauth/v2/token`,C=new URLSearchParams({grant_type:"authorization_code",code:D,redirect_uri:O.REDIRECT_URI,client_id:O.CLIENT_ID}),I=yield fetch(A,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:C.toString()});if(!I.ok)throw new Error(`Token exchange failed: ${I.statusText}`);return I.json()})()}decodeIdToken(D){try{const O=D.split(".")[1],A=JSON.parse(atob(O));return{sub:A.sub,name:A.name,email:A.email}}catch(O){return console.error("[AuthService] Error decoding ID token:",O),{sub:""}}}logout(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_INFO_KEY),this.userSubject.next(null),console.log("[AuthService] User logged out")}getToken(){return localStorage.getItem(this.TOKEN_KEY)}setToken(D){localStorage.setItem(this.TOKEN_KEY,D)}isAuthenticated(){return!!this.getToken()}getUser(){return this.userSubject.value}getUserInfoFromStorage(){const D=localStorage.getItem(this.USER_INFO_KEY);return D?JSON.parse(D):null}setUserInfo(D){localStorage.setItem(this.USER_INFO_KEY,JSON.stringify(D)),this.userSubject.next(D)}generateRandomState(){const D=new Uint8Array(32);return crypto.getRandomValues(D),Array.from(D,O=>O.toString(16).padStart(2,"0")).join("")}generateCodeVerifier(){const D=new Uint8Array(32);return crypto.getRandomValues(D),Array.from(D,O=>O.toString(16).padStart(2,"0")).join("")}static{this.\u0275fac=function(O){return new(O||m)(r.\u0275\u0275inject(l.HttpClient))}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),_=(()=>{class m{static{this.\u0275fac=function(O){return new(O||m)}}static{this.\u0275cmp=r.\u0275\u0275defineComponent({type:m,selectors:[["org-core-services"]],standalone:!0,features:[r.\u0275\u0275StandaloneFeature],decls:2,vars:0,template:function(O,A){1&O&&(r.\u0275\u0275elementStart(0,"p"),r.\u0275\u0275text(1," core-services works! "),r.\u0275\u0275elementEnd())}})}}return m})();var u=function(m){return m.SUPER_ADMIN="super-admin",m.ORG_ADMIN="org-admin",m.TEAM_LEAD="team-lead",m.SALES_EXECUTIVE="sales-executive",m}(u||{});let c=(()=>{class m{constructor(){this.currentUserSubject=new s.BehaviorSubject(this.getDummyUser()),this.currentUser$=this.currentUserSubject.asObservable()}getCurrentUser(){return this.currentUserSubject.value}setCurrentUser(D){this.currentUserSubject.next(D)}hasRole(D){return this.getCurrentUser()?.role===D}hasAnyRole(D){const O=this.getCurrentUser();return!!O&&D.includes(O.role)}isAdmin(){return this.hasAnyRole([u.SUPER_ADMIN,u.ORG_ADMIN])}isTeamLeadOrHigher(){return this.hasAnyRole([u.SUPER_ADMIN,u.ORG_ADMIN,u.TEAM_LEAD])}getAllUsers(){return[{id:"user-1",name:"John Admin",email:"john.admin@company.com",role:u.SUPER_ADMIN},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",role:u.ORG_ADMIN},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",role:u.TEAM_LEAD,teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:u.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",role:u.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",role:u.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}]}getViewableUsers(){const D=this.getCurrentUser();if(!D)return[];const O=this.getAllUsers();return this.isTeamLeadOrHigher()?O.filter(A=>A.role===u.SALES_EXECUTIVE||A.id===D.id):O.filter(A=>A.id===D.id)}getDummyUser(){return{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:u.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}}static{this.\u0275fac=function(O){return new(O||m)}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();var P=e(3103),M=function(m){return m.COMPLETED="completed",m.PENDING="pending",m.CANCELLED="cancelled",m}(M||{}),T=function(m){return m.ELECTRONICS="Electronics",m.SOFTWARE="Software",m.SERVICES="Services",m.HARDWARE="Hardware",m}(T||{});let R=(()=>{class m{constructor(){this.dummySalesData=this.generateDummyData()}getSalesHistory(D,O,A){let C=this.dummySalesData.filter(I=>I.salesExecutiveId===D);return O&&(C=C.filter(I=>I.date>=O)),A&&(C=C.filter(I=>I.date<=A)),(0,s.of)(C).pipe((0,P.c)(300))}getSalesSummary(D){const O=this.dummySalesData.filter(C=>C.salesExecutiveId===D),A={totalSales:O.filter(C=>C.status===M.COMPLETED).reduce((C,I)=>C+I.amount,0),totalCommission:O.filter(C=>C.status===M.COMPLETED).reduce((C,I)=>C+I.commission,0),completedCount:O.filter(C=>C.status===M.COMPLETED).length,pendingCount:O.filter(C=>C.status===M.PENDING).length,cancelledCount:O.filter(C=>C.status===M.CANCELLED).length};return(0,s.of)(A).pipe((0,P.c)(300))}getAllSales(){return(0,s.of)(this.dummySalesData).pipe((0,P.c)(300))}generateDummyData(){const D=[{name:"Enterprise Software License",category:T.SOFTWARE,basePrice:5e4},{name:"Cloud Storage Solution",category:T.SERVICES,basePrice:25e3},{name:"Server Hardware",category:T.HARDWARE,basePrice:35e3},{name:"IoT Device Package",category:T.ELECTRONICS,basePrice:15e3},{name:"Consulting Services",category:T.SERVICES,basePrice:2e4},{name:"Mobile App Development",category:T.SOFTWARE,basePrice:45e3},{name:"Security Suite",category:T.SOFTWARE,basePrice:3e4},{name:"Network Infrastructure",category:T.HARDWARE,basePrice:6e4}],O=["Acme Corporation","Tech Innovations Inc","Global Solutions Ltd","Digital Dynamics","Future Systems","Smart Technologies","Enterprise Solutions","Cloud Masters"],A=["North","South","East","West","Central"],C=[{id:"user-4",name:"Alice Sales"},{id:"user-5",name:"Bob Sales"},{id:"user-6",name:"Carol Sales"}],I=[M.COMPLETED,M.COMPLETED,M.COMPLETED,M.PENDING,M.CANCELLED],p=[];let E=1;for(let b=0;b<50;b++){const K=C[b%C.length],N=D[Math.floor(Math.random()*D.length)],$=O[Math.floor(Math.random()*O.length)],V=A[Math.floor(Math.random()*A.length)],J=I[Math.floor(Math.random()*I.length)],Z=N.basePrice+(1e4*Math.random()-5e3),Q=.05*Z,z=new Date;z.setDate(z.getDate()-Math.floor(180*Math.random())),p.push({id:"sale-"+E++,salesExecutiveId:K.id,salesExecutiveName:K.name,productName:N.name,productCategory:N.category,amount:Math.round(Z),commission:Math.round(Q),status:J,date:z,clientName:$,region:V})}return p.sort((b,K)=>K.date.getTime()-b.date.getTime())}static{this.\u0275fac=function(O){return new(O||m)}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},1985:(S,f,e)=>{e.d(f,{c:()=>u});var r=e(7707),o=e(3961),d=e(3494),s=e(1203),l=e(1026),h=e(8071),_=e(9786);let u=(()=>{class T{constructor(m){m&&(this._subscribe=m)}lift(m){const L=new T;return L.source=this,L.operator=m,L}subscribe(m,L,D){const O=function M(T){return T&&T instanceof r.vU||function P(T){return T&&(0,h.T)(T.next)&&(0,h.T)(T.error)&&(0,h.T)(T.complete)}(T)&&(0,o.Uv)(T)}(m)?m:new r.Ms(m,L,D);return(0,_.Y)(()=>{const{operator:A,source:C}=this;O.add(A?A.call(O,C):C?this._subscribe(O):this._trySubscribe(O))}),O}_trySubscribe(m){try{return this._subscribe(m)}catch(L){m.error(L)}}forEach(m,L){return new(L=c(L))((D,O)=>{const A=new r.Ms({next:C=>{try{m(C)}catch(I){O(I),A.unsubscribe()}},error:O,complete:D});this.subscribe(A)})}_subscribe(m){var L;return null===(L=this.source)||void 0===L?void 0:L.subscribe(m)}[d.s](){return this}pipe(...m){return(0,s.m)(m)(this)}toPromise(m){return new(m=c(m))((L,D)=>{let O;this.subscribe(A=>O=A,A=>D(A),()=>L(O))})}}return T.create=R=>new T(R),T})();function c(T){var R;return null!==(R=T??l.$.Promise)&&void 0!==R?R:Promise}},8399:(S,f,e)=>{e.d(f,{_:()=>o});var r=e(6129);class o{constructor(s,l=o.now){this.schedulerActionCtor=s,this.now=l}schedule(s,l=0,h){return new this.schedulerActionCtor(this,s).schedule(h,l)}}o.now=r.U.now},7707:(S,f,e)=>{e.d(f,{Ms:()=>D,vU:()=>T});var r=e(8071),o=e(3961),d=e(1026),s=e(5334),l=e(5343);const h=c("C",void 0,void 0);function c(p,E,b){return{kind:p,value:E,error:b}}var P=e(9270),M=e(9786);class T extends o.yU{constructor(E){super(),this.isStopped=!1,E?(this.destination=E,(0,o.Uv)(E)&&E.add(this)):this.destination=I}static create(E,b,K){return new D(E,b,K)}next(E){this.isStopped?C(function u(p){return c("N",p,void 0)}(E),this):this._next(E)}error(E){this.isStopped?C(function _(p){return c("E",void 0,p)}(E),this):(this.isStopped=!0,this._error(E))}complete(){this.isStopped?C(h,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(E){this.destination.next(E)}_error(E){try{this.destination.error(E)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const R=Function.prototype.bind;function m(p,E){return R.call(p,E)}class L{constructor(E){this.partialObserver=E}next(E){const{partialObserver:b}=this;if(b.next)try{b.next(E)}catch(K){O(K)}}error(E){const{partialObserver:b}=this;if(b.error)try{b.error(E)}catch(K){O(K)}else O(E)}complete(){const{partialObserver:E}=this;if(E.complete)try{E.complete()}catch(b){O(b)}}}class D extends T{constructor(E,b,K){let N;if(super(),(0,r.T)(E)||!E)N={next:E??void 0,error:b??void 0,complete:K??void 0};else{let $;this&&d.$.useDeprecatedNextContext?($=Object.create(E),$.unsubscribe=()=>this.unsubscribe(),N={next:E.next&&m(E.next,$),error:E.error&&m(E.error,$),complete:E.complete&&m(E.complete,$)}):N=E}this.destination=new L(N)}}function O(p){d.$.useDeprecatedSynchronousErrorHandling?(0,M.l)(p):(0,s.m)(p)}function C(p,E){const{onStoppedNotification:b}=d.$;b&&P.f.setTimeout(()=>b(p,E))}const I={closed:!0,next:l.l,error:function A(p){throw p},complete:l.l}},3961:(S,f,e)=>{e.d(f,{Kn:()=>l,Uv:()=>h,yU:()=>s});var r=e(8071),o=e(4079),d=e(7908);class s{constructor(c){this.initialTeardown=c,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let c;if(!this.closed){this.closed=!0;const{_parentage:P}=this;if(P)if(this._parentage=null,Array.isArray(P))for(const R of P)R.remove(this);else P.remove(this);const{initialTeardown:M}=this;if((0,r.T)(M))try{M()}catch(R){c=R instanceof o.Z?R.errors:[R]}const{_finalizers:T}=this;if(T){this._finalizers=null;for(const R of T)try{_(R)}catch(m){c=c??[],m instanceof o.Z?c=[...c,...m.errors]:c.push(m)}}if(c)throw new o.Z(c)}}add(c){var P;if(c&&c!==this)if(this.closed)_(c);else{if(c instanceof s){if(c.closed||c._hasParent(this))return;c._addParent(this)}(this._finalizers=null!==(P=this._finalizers)&&void 0!==P?P:[]).push(c)}}_hasParent(c){const{_parentage:P}=this;return P===c||Array.isArray(P)&&P.includes(c)}_addParent(c){const{_parentage:P}=this;this._parentage=Array.isArray(P)?(P.push(c),P):P?[P,c]:c}_removeParent(c){const{_parentage:P}=this;P===c?this._parentage=null:Array.isArray(P)&&(0,d.o)(P,c)}remove(c){const{_finalizers:P}=this;P&&(0,d.o)(P,c),c instanceof s&&c._removeParent(this)}}s.EMPTY=(()=>{const u=new s;return u.closed=!0,u})();const l=s.EMPTY;function h(u){return u instanceof s||u&&"closed"in u&&(0,r.T)(u.remove)&&(0,r.T)(u.add)&&(0,r.T)(u.unsubscribe)}function _(u){(0,r.T)(u)?u():u.unsubscribe()}},1026:(S,f,e)=>{e.d(f,{$:()=>r});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2688:(S,f,e)=>{e.d(f,{x:()=>s});var r=e(9131),o=e(9326),d=e(9724);function s(...l){return(0,r.K)()((0,d.H)(l,(0,o.lI)(l)))}},983:(S,f,e)=>{e.d(f,{I:()=>d,w:()=>o});var r=e(1985);const o=new r.c(l=>l.complete());function d(l){return l?function s(l){return new r.c(h=>l.schedule(()=>h.complete()))}(l):o}},9724:(S,f,e)=>{e.d(f,{H:()=>d});var r=e(5894),o=e(8750);function d(s,l){return l?(0,r.c)(s,l):(0,o.Tg)(s)}},8750:(S,f,e)=>{e.d(f,{Tg:()=>R});var r=e(1635),o=e(7441),d=e(9858),s=e(1985),l=e(5055),h=e(7953),_=e(591),u=e(5397),c=e(5196),P=e(8071),M=e(5334),T=e(3494);function R(p){if(p instanceof s.c)return p;if(null!=p){if((0,l.l)(p))return function m(p){return new s.c(E=>{const b=p[T.s]();if((0,P.T)(b.subscribe))return b.subscribe(E);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if((0,o.X)(p))return function L(p){return new s.c(E=>{for(let b=0;b<p.length&&!E.closed;b++)E.next(p[b]);E.complete()})}(p);if((0,d.y)(p))return function D(p){return new s.c(E=>{p.then(b=>{E.closed||(E.next(b),E.complete())},b=>E.error(b)).then(null,M.m)})}(p);if((0,h.T)(p))return A(p);if((0,u.x)(p))return function O(p){return new s.c(E=>{for(const b of p)if(E.next(b),E.closed)return;E.complete()})}(p);if((0,c.U)(p))return function C(p){return A((0,c.C)(p))}(p)}throw(0,_.L)(p)}function A(p){return new s.c(E=>{(function I(p,E){var b,K,N,$;return(0,r.sH)(this,void 0,void 0,function*(){try{for(b=(0,r.xN)(p);!(K=yield b.next()).done;)if(E.next(K.value),E.closed)return}catch(V){N={error:V}}finally{try{K&&!K.done&&($=b.return)&&(yield $.call(b))}finally{if(N)throw N.error}}E.complete()})})(p,E).catch(b=>E.error(b))})}},1807:(S,f,e)=>{e.d(f,{O:()=>l});var r=e(1985),o=e(3236),d=e(9470),s=e(8211);function l(h=0,_,u=o.b){let c=-1;return null!=_&&((0,d.m)(_)?u=_:c=_),new r.c(P=>{let M=(0,s.v)(h)?+h-u.now():h;M<0&&(M=0);let T=0;return u.schedule(function(){P.closed||(P.next(T++),0<=c?this.schedule(void 0,c):P.complete())},M)})}},4360:(S,f,e)=>{e.d(f,{H:()=>d,_:()=>o});var r=e(7707);function o(s,l,h,_,u){return new d(s,l,h,_,u)}class d extends r.vU{constructor(l,h,_,u,c,P){super(l),this.onFinalize=c,this.shouldUnsubscribe=P,this._next=h?function(M){try{h(M)}catch(T){l.error(T)}}:super._next,this._error=u?function(M){try{u(M)}catch(T){l.error(T)}finally{this.unsubscribe()}}:super._error,this._complete=_?function(){try{_()}catch(M){l.error(M)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var l;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:h}=this;super.unsubscribe(),!h&&(null===(l=this.onFinalize)||void 0===l||l.call(this))}}}},9131:(S,f,e)=>{e.d(f,{K:()=>o});var r=e(6365);function o(){return(0,r.U)(1)}},3103:(S,f,e)=>{e.d(f,{c:()=>s});var r=e(3236),o=e(3183),d=e(1807);function s(l,h=r.E){const _=(0,d.O)(l,h);return(0,o.o)(()=>_)}},3183:(S,f,e)=>{e.d(f,{o:()=>_});var r=e(2688),o=e(6697),d=e(3557),s=e(3703),l=e(3028),h=e(8750);function _(u,c){return c?P=>(0,r.x)(c.pipe((0,o.s)(1),(0,d.w)()),P.pipe(_(u))):(0,l.Z)((P,M)=>(0,h.Tg)(u(P,M)).pipe((0,o.s)(1),(0,s.u)(P)))}},3557:(S,f,e)=>{e.d(f,{w:()=>s});var r=e(9974),o=e(4360),d=e(5343);function s(){return(0,r.N)((l,h)=>{l.subscribe((0,o._)(h,d.l))})}},6354:(S,f,e)=>{e.d(f,{T:()=>d});var r=e(9974),o=e(4360);function d(s,l){return(0,r.N)((h,_)=>{let u=0;h.subscribe((0,o._)(_,c=>{_.next(s.call(l,c,u++))}))})}},3703:(S,f,e)=>{e.d(f,{u:()=>o});var r=e(6354);function o(d){return(0,r.T)(()=>d)}},6365:(S,f,e)=>{e.d(f,{U:()=>d});var r=e(3028),o=e(3669);function d(s=1/0){return(0,r.Z)(o.D,s)}},5412:(S,f,e)=>{e.d(f,{h:()=>s});var r=e(8750),o=e(5225),d=e(4360);function s(l,h,_,u,c,P,M,T){const R=[];let m=0,L=0,D=!1;const O=()=>{D&&!R.length&&!m&&h.complete()},A=I=>m<u?C(I):R.push(I),C=I=>{P&&h.next(I),m++;let p=!1;(0,r.Tg)(_(I,L++)).subscribe((0,d._)(h,E=>{c?.(E),P?A(E):h.next(E)},()=>{p=!0},void 0,()=>{if(p)try{for(m--;R.length&&m<u;){const E=R.shift();M?(0,o.N)(h,M,()=>C(E)):C(E)}O()}catch(E){h.error(E)}}))};return l.subscribe((0,d._)(h,A,()=>{D=!0,O()})),()=>{T?.()}}},3028:(S,f,e)=>{e.d(f,{Z:()=>h});var r=e(6354),o=e(8750),d=e(9974),s=e(5412),l=e(8071);function h(_,u,c=1/0){return(0,l.T)(u)?h((P,M)=>(0,r.T)((T,R)=>u(P,T,M,R))((0,o.Tg)(_(P,M))),c):("number"==typeof u&&(c=u),(0,d.N)((P,M)=>(0,s.h)(P,M,_,c)))}},941:(S,f,e)=>{e.d(f,{Q:()=>s});var r=e(5225),o=e(9974),d=e(4360);function s(l,h=0){return(0,o.N)((_,u)=>{_.subscribe((0,d._)(u,c=>(0,r.N)(u,l,()=>u.next(c),h),()=>(0,r.N)(u,l,()=>u.complete(),h),c=>(0,r.N)(u,l,()=>u.error(c),h)))})}},6745:(S,f,e)=>{e.d(f,{_:()=>o});var r=e(9974);function o(d,s=0){return(0,r.N)((l,h)=>{h.add(d.schedule(()=>l.subscribe(h),s))})}},6697:(S,f,e)=>{e.d(f,{s:()=>s});var r=e(983),o=e(9974),d=e(4360);function s(l){return l<=0?()=>r.w:(0,o.N)((h,_)=>{let u=0;h.subscribe((0,d._)(_,c=>{++u<=l&&(_.next(c),l<=u&&_.complete())}))})}},7119:(S,f,e)=>{e.d(f,{S:()=>l});var r=e(1985),o=e(4761),d=e(8071),s=e(5225);function l(h,_){return new r.c(u=>{let c;return(0,s.N)(u,_,()=>{c=h[o.l](),(0,s.N)(u,_,()=>{let P,M;try{({value:P,done:M}=c.next())}catch(T){return void u.error(T)}M?u.complete():u.next(P)},0,!0)}),()=>(0,d.T)(c?.return)&&c.return()})}},5894:(S,f,e)=>{e.d(f,{c:()=>C});var r=e(8750),o=e(941),d=e(6745),h=e(1985),u=e(7119),c=e(5225);function P(I,p){if(!I)throw new Error("Iterable cannot be null");return new h.c(E=>{(0,c.N)(E,p,()=>{const b=I[Symbol.asyncIterator]();(0,c.N)(E,p,()=>{b.next().then(K=>{K.done?E.complete():E.next(K.value)})},0,!0)})})}var M=e(5055),T=e(9858),R=e(7441),m=e(5397),L=e(7953),D=e(591),O=e(5196);function C(I,p){if(null!=I){if((0,M.l)(I))return function s(I,p){return(0,r.Tg)(I).pipe((0,d._)(p),(0,o.Q)(p))}(I,p);if((0,R.X)(I))return function _(I,p){return new h.c(E=>{let b=0;return p.schedule(function(){b===I.length?E.complete():(E.next(I[b++]),E.closed||this.schedule())})})}(I,p);if((0,T.y)(I))return function l(I,p){return(0,r.Tg)(I).pipe((0,d._)(p),(0,o.Q)(p))}(I,p);if((0,L.T)(I))return P(I,p);if((0,m.x)(I))return(0,u.S)(I,p);if((0,O.U)(I))return function A(I,p){return P((0,O.C)(I),p)}(I,p)}throw(0,D.L)(I)}},6780:(S,f,e)=>{e.d(f,{R:()=>l});var r=e(3961);class o extends r.yU{constructor(_,u){super()}schedule(_,u=0){return this}}const d={setInterval(h,_,...u){const{delegate:c}=d;return c?.setInterval?c.setInterval(h,_,...u):setInterval(h,_,...u)},clearInterval(h){const{delegate:_}=d;return(_?.clearInterval||clearInterval)(h)},delegate:void 0};var s=e(7908);class l extends o{constructor(_,u){super(_,u),this.scheduler=_,this.work=u,this.pending=!1}schedule(_,u=0){var c;if(this.closed)return this;this.state=_;const P=this.id,M=this.scheduler;return null!=P&&(this.id=this.recycleAsyncId(M,P,u)),this.pending=!0,this.delay=u,this.id=null!==(c=this.id)&&void 0!==c?c:this.requestAsyncId(M,this.id,u),this}requestAsyncId(_,u,c=0){return d.setInterval(_.flush.bind(_,this),c)}recycleAsyncId(_,u,c=0){if(null!=c&&this.delay===c&&!1===this.pending)return u;null!=u&&d.clearInterval(u)}execute(_,u){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const c=this._execute(_,u);if(c)return c;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_,u){let P,c=!1;try{this.work(_)}catch(M){c=!0,P=M||new Error("Scheduled action threw falsy error")}if(c)return this.unsubscribe(),P}unsubscribe(){if(!this.closed){const{id:_,scheduler:u}=this,{actions:c}=u;this.work=this.state=this.scheduler=null,this.pending=!1,(0,s.o)(c,this),null!=_&&(this.id=this.recycleAsyncId(u,_,null)),this.delay=null,super.unsubscribe()}}}},707:(S,f,e)=>{e.d(f,{q:()=>o});var r=e(8399);class o extends r._{constructor(s,l=r._.now){super(s,l),this.actions=[],this._active=!1}flush(s){const{actions:l}=this;if(this._active)return void l.push(s);let h;this._active=!0;do{if(h=s.execute(s.state,s.delay))break}while(s=l.shift());if(this._active=!1,h){for(;s=l.shift();)s.unsubscribe();throw h}}}},3236:(S,f,e)=>{e.d(f,{E:()=>d,b:()=>s});var r=e(6780);const d=new(e(707).q)(r.R),s=d},6129:(S,f,e)=>{e.d(f,{U:()=>r});const r={now:()=>(r.delegate||Date).now(),delegate:void 0}},9270:(S,f,e)=>{e.d(f,{f:()=>r});const r={setTimeout(o,d,...s){const{delegate:l}=r;return l?.setTimeout?l.setTimeout(o,d,...s):setTimeout(o,d,...s)},clearTimeout(o){const{delegate:d}=r;return(d?.clearTimeout||clearTimeout)(o)},delegate:void 0}},4761:(S,f,e)=>{e.d(f,{l:()=>o});const o=function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(S,f,e)=>{e.d(f,{s:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},4079:(S,f,e)=>{e.d(f,{Z:()=>o});const o=(0,e(1853).L)(d=>function(l){d(this),this.message=l?`${l.length} errors occurred during unsubscription:\n${l.map((h,_)=>`${_+1}) ${h.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=l})},9326:(S,f,e)=>{e.d(f,{R0:()=>h,lI:()=>l,ms:()=>s});var r=e(8071),o=e(9470);function d(_){return _[_.length-1]}function s(_){return(0,r.T)(d(_))?_.pop():void 0}function l(_){return(0,o.m)(d(_))?_.pop():void 0}function h(_,u){return"number"==typeof d(_)?_.pop():u}},7908:(S,f,e)=>{function r(o,d){if(o){const s=o.indexOf(d);0<=s&&o.splice(s,1)}}e.d(f,{o:()=>r})},1853:(S,f,e)=>{function r(o){const s=o(l=>{Error.call(l),l.stack=(new Error).stack});return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s}e.d(f,{L:()=>r})},9786:(S,f,e)=>{e.d(f,{Y:()=>d,l:()=>s});var r=e(1026);let o=null;function d(l){if(r.$.useDeprecatedSynchronousErrorHandling){const h=!o;if(h&&(o={errorThrown:!1,error:null}),l(),h){const{errorThrown:_,error:u}=o;if(o=null,_)throw u}}else l()}function s(l){r.$.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=l)}},5225:(S,f,e)=>{function r(o,d,s,l=0,h=!1){const _=d.schedule(function(){s(),h?o.add(this.schedule(null,l)):this.unsubscribe()},l);if(o.add(_),!h)return _}e.d(f,{N:()=>r})},3669:(S,f,e)=>{function r(o){return o}e.d(f,{D:()=>r})},7441:(S,f,e)=>{e.d(f,{X:()=>r});const r=o=>o&&"number"==typeof o.length&&"function"!=typeof o},7953:(S,f,e)=>{e.d(f,{T:()=>o});var r=e(8071);function o(d){return Symbol.asyncIterator&&(0,r.T)(d?.[Symbol.asyncIterator])}},8211:(S,f,e)=>{function r(o){return o instanceof Date&&!isNaN(o)}e.d(f,{v:()=>r})},8071:(S,f,e)=>{function r(o){return"function"==typeof o}e.d(f,{T:()=>r})},5055:(S,f,e)=>{e.d(f,{l:()=>d});var r=e(3494),o=e(8071);function d(s){return(0,o.T)(s[r.s])}},5397:(S,f,e)=>{e.d(f,{x:()=>d});var r=e(4761),o=e(8071);function d(s){return(0,o.T)(s?.[r.l])}},9858:(S,f,e)=>{e.d(f,{y:()=>o});var r=e(8071);function o(d){return(0,r.T)(d?.then)}},5196:(S,f,e)=>{e.d(f,{C:()=>d,U:()=>s});var r=e(1635),o=e(8071);function d(l){return(0,r.AQ)(this,arguments,function*(){const _=l.getReader();try{for(;;){const{value:u,done:c}=yield(0,r.N3)(_.read());if(c)return yield(0,r.N3)(void 0);yield yield(0,r.N3)(u)}}finally{_.releaseLock()}})}function s(l){return(0,o.T)(l?.getReader)}},9470:(S,f,e)=>{e.d(f,{m:()=>o});var r=e(8071);function o(d){return d&&(0,r.T)(d.schedule)}},9974:(S,f,e)=>{e.d(f,{N:()=>d,S:()=>o});var r=e(8071);function o(s){return(0,r.T)(s?.lift)}function d(s){return l=>{if(o(l))return l.lift(function(h){try{return s(h,this)}catch(_){this.error(_)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(S,f,e)=>{function r(){}e.d(f,{l:()=>r})},1203:(S,f,e)=>{e.d(f,{F:()=>o,m:()=>d});var r=e(3669);function o(...s){return d(s)}function d(s){return 0===s.length?r.D:1===s.length?s[0]:function(h){return s.reduce((_,u)=>u(_),h)}}},5334:(S,f,e)=>{e.d(f,{m:()=>d});var r=e(1026),o=e(9270);function d(s){o.f.setTimeout(()=>{const{onUnhandledError:l}=r.$;if(!l)throw s;l(s)})}},591:(S,f,e)=>{function r(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}e.d(f,{L:()=>r})},467:(S,f,e)=>{function r(d,s,l,h,_,u,c){try{var P=d[u](c),M=P.value}catch(T){return void l(T)}P.done?s(M):Promise.resolve(M).then(h,_)}function o(d){return function(){var s=this,l=arguments;return new Promise(function(h,_){var u=d.apply(s,l);function c(M){r(u,h,_,c,P,"next",M)}function P(M){r(u,h,_,c,P,"throw",M)}c(void 0)})}}e.d(f,{A:()=>o})},1635:(S,f,e)=>{function T(t,n,i,a){return new(i||(i=Promise))(function(y,g){function w(B){try{U(a.next(B))}catch(x){g(x)}}function j(B){try{U(a.throw(B))}catch(x){g(x)}}function U(B){B.done?y(B.value):function v(y){return y instanceof i?y:new i(function(g){g(y)})}(B.value).then(w,j)}U((a=a.apply(t,n||[])).next())})}function p(t){return this instanceof p?(this.v=t,this):new p(t)}function E(t,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,a=i.apply(t,n||[]),y=[];return v=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),w("next"),w("throw"),w("return",function g(W){return function(F){return Promise.resolve(F).then(W,x)}}),v[Symbol.asyncIterator]=function(){return this},v;function w(W,F){a[W]&&(v[W]=function(H){return new Promise(function(Y,G){y.push([W,H,Y,G])>1||j(W,H)})},F&&(v[W]=F(v[W])))}function j(W,F){try{!function U(W){W.value instanceof p?Promise.resolve(W.value.v).then(B,x):X(y[0][2],W)}(a[W](F))}catch(H){X(y[0][3],H)}}function B(W){j("next",W)}function x(W){j("throw",W)}function X(W,F){W(F),y.shift(),y.length&&j(y[0][0],y[0][1])}}function K(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function D(t){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&t[n],a=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(y){i[y]=t[y]&&function(g){return new Promise(function(w,j){!function v(y,g,w,j){Promise.resolve(j).then(function(U){y({value:U,done:w})},g)}(w,j,(g=t[y](g)).done,g.value)})}}}e.d(f,{AQ:()=>E,N3:()=>p,sH:()=>T,xN:()=>K}),"function"==typeof SuppressedError&&SuppressedError}}]);