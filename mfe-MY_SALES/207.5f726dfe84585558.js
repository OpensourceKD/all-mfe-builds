(self.webpackChunkmfe_MY_SALES=self.webpackChunkmfe_MY_SALES||[]).push([[207,588],{2588:(S,f,e)=>{e.r(f),e.d(f,{AuthService:()=>E,CoreServicesComponent:()=>_,CoreServicesService:()=>o,ProductCategory:()=>R,RoleService:()=>P,SalesDataService:()=>g,SalesStatus:()=>T,UserRole:()=>d});var t=e(4332);let o=(()=>{class O{constructor(){}static{this.\u0275fac=function(M){return new(M||O)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})();var u=e(467),s=e(3425),l=e(4230);let E=(()=>{class O{constructor(p){this.http=p,this.id="auth of pokemon",this.ISSUER_BASE_URL="https://topfix-wrczmn.us1.zitadel.cloud",this.CLIENT_ID="336777344075263315",this.REDIRECT_URI="https://opensourcekd.github.io/pokemon/#/auth-callback",this.SCOPE="openid profile email",this.TOKEN_KEY="bearer_token",this.userSubject=new s.BehaviorSubject(null),this.user$=this.userSubject.asObservable()}login(p){p&&console.log(`[AuthService] Logged in: ${p}`),this.redirectToZitadelLogin()}redirectToZitadelLogin(){const p=new URL(`${this.ISSUER_BASE_URL}/oauth/v2/authorize`),M=this.generateRandomState(),U=this.generateCodeVerifier();sessionStorage.setItem("oauth_state",M),sessionStorage.setItem("code_verifier",U),p.searchParams.append("client_id",this.CLIENT_ID),p.searchParams.append("redirect_uri",this.REDIRECT_URI),p.searchParams.append("response_type","code"),p.searchParams.append("scope",this.SCOPE),p.searchParams.append("state",M),window.location.href=p.toString()}handleCallback(p,M){var U=this;return(0,u.A)(function*(){const D=sessionStorage.getItem("oauth_state");if(M!==D)return console.error("State mismatch - possible CSRF attack"),!1;try{const h=yield U.exchangeCodeForToken(p);return U.setToken(h.access_token),sessionStorage.removeItem("oauth_state"),sessionStorage.removeItem("code_verifier"),!0}catch(h){return console.error("Error exchanging code for token:",h),!1}})()}exchangeCodeForToken(p){var M=this;return(0,u.A)(function*(){const U=`${M.ISSUER_BASE_URL}/oauth/v2/token`,D=new URLSearchParams({grant_type:"authorization_code",code:p,redirect_uri:M.REDIRECT_URI,client_id:M.CLIENT_ID}),h=yield fetch(U,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:D.toString()});if(!h.ok)throw new Error(`Token exchange failed: ${h.statusText}`);return h.json()})()}logout(){this.removeToken(),this.userSubject.next(null)}getToken(){return sessionStorage.getItem(this.TOKEN_KEY)}setToken(p){sessionStorage.setItem(this.TOKEN_KEY,p)}removeToken(){sessionStorage.removeItem(this.TOKEN_KEY)}isAuthenticated(){return!!this.getToken()}getUser(){return this.userSubject.value}setUserInfo(p){this.userSubject.next(p)}generateRandomState(){const p=new Uint8Array(32);return crypto.getRandomValues(p),Array.from(p,M=>M.toString(16).padStart(2,"0")).join("")}generateCodeVerifier(){const p=new Uint8Array(32);return crypto.getRandomValues(p),Array.from(p,M=>M.toString(16).padStart(2,"0")).join("")}static{this.\u0275fac=function(M){return new(M||O)(t.\u0275\u0275inject(l.HttpClient))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})(),_=(()=>{class O{static{this.\u0275fac=function(M){return new(M||O)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:O,selectors:[["org-core-services"]],standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:2,vars:0,template:function(M,U){1&M&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1," core-services works! "),t.\u0275\u0275elementEnd())}})}}return O})();var d=function(O){return O.SUPER_ADMIN="super-admin",O.ORG_ADMIN="org-admin",O.TEAM_LEAD="team-lead",O.SALES_EXECUTIVE="sales-executive",O}(d||{});let c=!1;try{c=globalThis.__DATA_CONFIG__?.useMockData??!1}catch{}let P=(()=>{class O{constructor(p){this.currentUserSubject=new s.BehaviorSubject(null),this.currentUser$=this.currentUserSubject.asObservable(),this.allUsersSubject=new s.BehaviorSubject([]),this.allUsers$=this.allUsersSubject.asObservable(),this.dataService=p,!this.dataService&&c&&(console.warn("[RoleService] No DataService found. Using minimal dummy data for testing."),this.loadDummyDataForTesting())}setCurrentUser(p){this.currentUserSubject.next(p)}getCurrentUser(){return this.currentUserSubject.value}setAllUsers(p){this.allUsersSubject.next(p)}getAllUsers(){return this.allUsersSubject.value}hasRole(p){return this.getCurrentUser()?.role===p}hasAnyRole(p){const M=this.getCurrentUser();return!!M&&p.includes(M.role)}isAdmin(){return this.hasAnyRole([d.SUPER_ADMIN,d.ORG_ADMIN])}isTeamLeadOrHigher(){return this.hasAnyRole([d.SUPER_ADMIN,d.ORG_ADMIN,d.TEAM_LEAD])}getViewableUsers(){const p=this.getCurrentUser();if(!p)return[];const M=this.getAllUsers();return this.isTeamLeadOrHigher()?M.filter(U=>U.role===d.SALES_EXECUTIVE||U.id===p.id):M.filter(U=>U.id===p.id)}loadDummyDataForTesting(){const p=[{id:"user-1",name:"John Admin",email:"john.admin@company.com",role:d.SUPER_ADMIN},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",role:d.ORG_ADMIN},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",role:d.TEAM_LEAD,teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:d.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",role:d.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",role:d.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}];this.setAllUsers(p),this.setCurrentUser(p[3])}static{this.\u0275fac=function(M){return new(M||O)(t.\u0275\u0275inject("DataService",8))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})();var b=e(3103),T=function(O){return O.COMPLETED="completed",O.PENDING="pending",O.CANCELLED="cancelled",O}(T||{}),R=function(O){return O.ELECTRONICS="Electronics",O.SOFTWARE="Software",O.SERVICES="Services",O.HARDWARE="Hardware",O}(R||{});let g=(()=>{class O{constructor(p){this.dummySalesData=this.generateDummyData(),this.dataService=p}getSalesHistory(p,M,U){if(this.dataService)return this.dataService.getSalesHistory(p,M,U);let D=this.dummySalesData.filter(h=>h.salesExecutiveId===p);return M&&(D=D.filter(h=>h.date>=M)),U&&(D=D.filter(h=>h.date<=U)),(0,s.of)(D).pipe((0,b.c)(300))}getSalesSummary(p){if(this.dataService)return this.dataService.getSalesSummary(p);const M=this.dummySalesData.filter(D=>D.salesExecutiveId===p),U={totalSales:M.filter(D=>D.status===T.COMPLETED).reduce((D,h)=>D+h.amount,0),totalCommission:M.filter(D=>D.status===T.COMPLETED).reduce((D,h)=>D+h.commission,0),completedCount:M.filter(D=>D.status===T.COMPLETED).length,pendingCount:M.filter(D=>D.status===T.PENDING).length,cancelledCount:M.filter(D=>D.status===T.CANCELLED).length};return(0,s.of)(U).pipe((0,b.c)(300))}getAllSales(){return this.dataService?this.dataService.getAllSales():(0,s.of)(this.dummySalesData).pipe((0,b.c)(300))}generateDummyData(){const p=[{name:"Enterprise Software License",category:R.SOFTWARE,basePrice:5e4},{name:"Cloud Storage Solution",category:R.SERVICES,basePrice:25e3},{name:"Server Hardware",category:R.HARDWARE,basePrice:35e3},{name:"IoT Device Package",category:R.ELECTRONICS,basePrice:15e3},{name:"Consulting Services",category:R.SERVICES,basePrice:2e4},{name:"Mobile App Development",category:R.SOFTWARE,basePrice:45e3},{name:"Security Suite",category:R.SOFTWARE,basePrice:3e4},{name:"Network Infrastructure",category:R.HARDWARE,basePrice:6e4}],M=["Acme Corporation","Tech Innovations Inc","Global Solutions Ltd","Digital Dynamics","Future Systems","Smart Technologies","Enterprise Solutions","Cloud Masters"],U=["North","South","East","West","Central"],D=[{id:"user-4",name:"Alice Sales"},{id:"user-5",name:"Bob Sales"},{id:"user-6",name:"Carol Sales"}],h=[T.COMPLETED,T.COMPLETED,T.COMPLETED,T.PENDING,T.CANCELLED],m=[];let A=1;for(let L=0;L<50;L++){const j=D[L%D.length],F=p[Math.floor(Math.random()*p.length)],V=M[Math.floor(Math.random()*M.length)],Q=U[Math.floor(Math.random()*U.length)],J=h[Math.floor(Math.random()*h.length)],Z=F.basePrice+(1e4*Math.random()-5e3),k=.05*Z,z=new Date;z.setDate(z.getDate()-Math.floor(180*Math.random())),m.push({id:"sale-"+A++,salesExecutiveId:j.id,salesExecutiveName:j.name,productName:F.name,productCategory:F.category,amount:Math.round(Z),commission:Math.round(k),status:J,date:z,clientName:V,region:Q})}return m.sort((L,j)=>j.date.getTime()-L.date.getTime())}static{this.\u0275fac=function(M){return new(M||O)(t.\u0275\u0275inject("DataService",8))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},1985:(S,f,e)=>{e.d(f,{c:()=>d});var t=e(7707),o=e(3961),u=e(3494),s=e(1203),l=e(1026),E=e(8071),_=e(9786);let d=(()=>{class T{constructor(g){g&&(this._subscribe=g)}lift(g){const O=new T;return O.source=this,O.operator=g,O}subscribe(g,O,B){const p=function b(T){return T&&T instanceof t.vU||function P(T){return T&&(0,E.T)(T.next)&&(0,E.T)(T.error)&&(0,E.T)(T.complete)}(T)&&(0,o.Uv)(T)}(g)?g:new t.Ms(g,O,B);return(0,_.Y)(()=>{const{operator:M,source:U}=this;p.add(M?M.call(p,U):U?this._subscribe(p):this._trySubscribe(p))}),p}_trySubscribe(g){try{return this._subscribe(g)}catch(O){g.error(O)}}forEach(g,O){return new(O=c(O))((B,p)=>{const M=new t.Ms({next:U=>{try{g(U)}catch(D){p(D),M.unsubscribe()}},error:p,complete:B});this.subscribe(M)})}_subscribe(g){var O;return null===(O=this.source)||void 0===O?void 0:O.subscribe(g)}[u.s](){return this}pipe(...g){return(0,s.m)(g)(this)}toPromise(g){return new(g=c(g))((O,B)=>{let p;this.subscribe(M=>p=M,M=>B(M),()=>O(p))})}}return T.create=R=>new T(R),T})();function c(T){var R;return null!==(R=T??l.$.Promise)&&void 0!==R?R:Promise}},8399:(S,f,e)=>{e.d(f,{_:()=>o});var t=e(6129);class o{constructor(s,l=o.now){this.schedulerActionCtor=s,this.now=l}schedule(s,l=0,E){return new this.schedulerActionCtor(this,s).schedule(E,l)}}o.now=t.U.now},7707:(S,f,e)=>{e.d(f,{Ms:()=>B,vU:()=>T});var t=e(8071),o=e(3961),u=e(1026),s=e(5334),l=e(5343);const E=c("C",void 0,void 0);function c(h,m,A){return{kind:h,value:m,error:A}}var P=e(9270),b=e(9786);class T extends o.yU{constructor(m){super(),this.isStopped=!1,m?(this.destination=m,(0,o.Uv)(m)&&m.add(this)):this.destination=D}static create(m,A,L){return new B(m,A,L)}next(m){this.isStopped?U(function d(h){return c("N",h,void 0)}(m),this):this._next(m)}error(m){this.isStopped?U(function _(h){return c("E",void 0,h)}(m),this):(this.isStopped=!0,this._error(m))}complete(){this.isStopped?U(E,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(m){this.destination.next(m)}_error(m){try{this.destination.error(m)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const R=Function.prototype.bind;function g(h,m){return R.call(h,m)}class O{constructor(m){this.partialObserver=m}next(m){const{partialObserver:A}=this;if(A.next)try{A.next(m)}catch(L){p(L)}}error(m){const{partialObserver:A}=this;if(A.error)try{A.error(m)}catch(L){p(L)}else p(m)}complete(){const{partialObserver:m}=this;if(m.complete)try{m.complete()}catch(A){p(A)}}}class B extends T{constructor(m,A,L){let j;if(super(),(0,t.T)(m)||!m)j={next:m??void 0,error:A??void 0,complete:L??void 0};else{let F;this&&u.$.useDeprecatedNextContext?(F=Object.create(m),F.unsubscribe=()=>this.unsubscribe(),j={next:m.next&&g(m.next,F),error:m.error&&g(m.error,F),complete:m.complete&&g(m.complete,F)}):j=m}this.destination=new O(j)}}function p(h){u.$.useDeprecatedSynchronousErrorHandling?(0,b.l)(h):(0,s.m)(h)}function U(h,m){const{onStoppedNotification:A}=u.$;A&&P.f.setTimeout(()=>A(h,m))}const D={closed:!0,next:l.l,error:function M(h){throw h},complete:l.l}},3961:(S,f,e)=>{e.d(f,{Kn:()=>l,Uv:()=>E,yU:()=>s});var t=e(8071),o=e(4079),u=e(7908);class s{constructor(c){this.initialTeardown=c,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let c;if(!this.closed){this.closed=!0;const{_parentage:P}=this;if(P)if(this._parentage=null,Array.isArray(P))for(const R of P)R.remove(this);else P.remove(this);const{initialTeardown:b}=this;if((0,t.T)(b))try{b()}catch(R){c=R instanceof o.Z?R.errors:[R]}const{_finalizers:T}=this;if(T){this._finalizers=null;for(const R of T)try{_(R)}catch(g){c=c??[],g instanceof o.Z?c=[...c,...g.errors]:c.push(g)}}if(c)throw new o.Z(c)}}add(c){var P;if(c&&c!==this)if(this.closed)_(c);else{if(c instanceof s){if(c.closed||c._hasParent(this))return;c._addParent(this)}(this._finalizers=null!==(P=this._finalizers)&&void 0!==P?P:[]).push(c)}}_hasParent(c){const{_parentage:P}=this;return P===c||Array.isArray(P)&&P.includes(c)}_addParent(c){const{_parentage:P}=this;this._parentage=Array.isArray(P)?(P.push(c),P):P?[P,c]:c}_removeParent(c){const{_parentage:P}=this;P===c?this._parentage=null:Array.isArray(P)&&(0,u.o)(P,c)}remove(c){const{_finalizers:P}=this;P&&(0,u.o)(P,c),c instanceof s&&c._removeParent(this)}}s.EMPTY=(()=>{const d=new s;return d.closed=!0,d})();const l=s.EMPTY;function E(d){return d instanceof s||d&&"closed"in d&&(0,t.T)(d.remove)&&(0,t.T)(d.add)&&(0,t.T)(d.unsubscribe)}function _(d){(0,t.T)(d)?d():d.unsubscribe()}},1026:(S,f,e)=>{e.d(f,{$:()=>t});const t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2688:(S,f,e)=>{e.d(f,{x:()=>s});var t=e(9131),o=e(9326),u=e(9724);function s(...l){return(0,t.K)()((0,u.H)(l,(0,o.lI)(l)))}},983:(S,f,e)=>{e.d(f,{I:()=>u,w:()=>o});var t=e(1985);const o=new t.c(l=>l.complete());function u(l){return l?function s(l){return new t.c(E=>l.schedule(()=>E.complete()))}(l):o}},9724:(S,f,e)=>{e.d(f,{H:()=>u});var t=e(5894),o=e(8750);function u(s,l){return l?(0,t.c)(s,l):(0,o.Tg)(s)}},8750:(S,f,e)=>{e.d(f,{Tg:()=>R});var t=e(1635),o=e(7441),u=e(9858),s=e(1985),l=e(5055),E=e(7953),_=e(591),d=e(5397),c=e(5196),P=e(8071),b=e(5334),T=e(3494);function R(h){if(h instanceof s.c)return h;if(null!=h){if((0,l.l)(h))return function g(h){return new s.c(m=>{const A=h[T.s]();if((0,P.T)(A.subscribe))return A.subscribe(m);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(h);if((0,o.X)(h))return function O(h){return new s.c(m=>{for(let A=0;A<h.length&&!m.closed;A++)m.next(h[A]);m.complete()})}(h);if((0,u.y)(h))return function B(h){return new s.c(m=>{h.then(A=>{m.closed||(m.next(A),m.complete())},A=>m.error(A)).then(null,b.m)})}(h);if((0,E.T)(h))return M(h);if((0,d.x)(h))return function p(h){return new s.c(m=>{for(const A of h)if(m.next(A),m.closed)return;m.complete()})}(h);if((0,c.U)(h))return function U(h){return M((0,c.C)(h))}(h)}throw(0,_.L)(h)}function M(h){return new s.c(m=>{(function D(h,m){var A,L,j,F;return(0,t.sH)(this,void 0,void 0,function*(){try{for(A=(0,t.xN)(h);!(L=yield A.next()).done;)if(m.next(L.value),m.closed)return}catch(V){j={error:V}}finally{try{L&&!L.done&&(F=A.return)&&(yield F.call(A))}finally{if(j)throw j.error}}m.complete()})})(h,m).catch(A=>m.error(A))})}},1807:(S,f,e)=>{e.d(f,{O:()=>l});var t=e(1985),o=e(3236),u=e(9470),s=e(8211);function l(E=0,_,d=o.b){let c=-1;return null!=_&&((0,u.m)(_)?d=_:c=_),new t.c(P=>{let b=(0,s.v)(E)?+E-d.now():E;b<0&&(b=0);let T=0;return d.schedule(function(){P.closed||(P.next(T++),0<=c?this.schedule(void 0,c):P.complete())},b)})}},4360:(S,f,e)=>{e.d(f,{H:()=>u,_:()=>o});var t=e(7707);function o(s,l,E,_,d){return new u(s,l,E,_,d)}class u extends t.vU{constructor(l,E,_,d,c,P){super(l),this.onFinalize=c,this.shouldUnsubscribe=P,this._next=E?function(b){try{E(b)}catch(T){l.error(T)}}:super._next,this._error=d?function(b){try{d(b)}catch(T){l.error(T)}finally{this.unsubscribe()}}:super._error,this._complete=_?function(){try{_()}catch(b){l.error(b)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var l;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:E}=this;super.unsubscribe(),!E&&(null===(l=this.onFinalize)||void 0===l||l.call(this))}}}},9131:(S,f,e)=>{e.d(f,{K:()=>o});var t=e(6365);function o(){return(0,t.U)(1)}},3103:(S,f,e)=>{e.d(f,{c:()=>s});var t=e(3236),o=e(3183),u=e(1807);function s(l,E=t.E){const _=(0,u.O)(l,E);return(0,o.o)(()=>_)}},3183:(S,f,e)=>{e.d(f,{o:()=>_});var t=e(2688),o=e(6697),u=e(3557),s=e(3703),l=e(3028),E=e(8750);function _(d,c){return c?P=>(0,t.x)(c.pipe((0,o.s)(1),(0,u.w)()),P.pipe(_(d))):(0,l.Z)((P,b)=>(0,E.Tg)(d(P,b)).pipe((0,o.s)(1),(0,s.u)(P)))}},3557:(S,f,e)=>{e.d(f,{w:()=>s});var t=e(9974),o=e(4360),u=e(5343);function s(){return(0,t.N)((l,E)=>{l.subscribe((0,o._)(E,u.l))})}},6354:(S,f,e)=>{e.d(f,{T:()=>u});var t=e(9974),o=e(4360);function u(s,l){return(0,t.N)((E,_)=>{let d=0;E.subscribe((0,o._)(_,c=>{_.next(s.call(l,c,d++))}))})}},3703:(S,f,e)=>{e.d(f,{u:()=>o});var t=e(6354);function o(u){return(0,t.T)(()=>u)}},6365:(S,f,e)=>{e.d(f,{U:()=>u});var t=e(3028),o=e(3669);function u(s=1/0){return(0,t.Z)(o.D,s)}},5412:(S,f,e)=>{e.d(f,{h:()=>s});var t=e(8750),o=e(5225),u=e(4360);function s(l,E,_,d,c,P,b,T){const R=[];let g=0,O=0,B=!1;const p=()=>{B&&!R.length&&!g&&E.complete()},M=D=>g<d?U(D):R.push(D),U=D=>{P&&E.next(D),g++;let h=!1;(0,t.Tg)(_(D,O++)).subscribe((0,u._)(E,m=>{c?.(m),P?M(m):E.next(m)},()=>{h=!0},void 0,()=>{if(h)try{for(g--;R.length&&g<d;){const m=R.shift();b?(0,o.N)(E,b,()=>U(m)):U(m)}p()}catch(m){E.error(m)}}))};return l.subscribe((0,u._)(E,M,()=>{B=!0,p()})),()=>{T?.()}}},3028:(S,f,e)=>{e.d(f,{Z:()=>E});var t=e(6354),o=e(8750),u=e(9974),s=e(5412),l=e(8071);function E(_,d,c=1/0){return(0,l.T)(d)?E((P,b)=>(0,t.T)((T,R)=>d(P,T,b,R))((0,o.Tg)(_(P,b))),c):("number"==typeof d&&(c=d),(0,u.N)((P,b)=>(0,s.h)(P,b,_,c)))}},941:(S,f,e)=>{e.d(f,{Q:()=>s});var t=e(5225),o=e(9974),u=e(4360);function s(l,E=0){return(0,o.N)((_,d)=>{_.subscribe((0,u._)(d,c=>(0,t.N)(d,l,()=>d.next(c),E),()=>(0,t.N)(d,l,()=>d.complete(),E),c=>(0,t.N)(d,l,()=>d.error(c),E)))})}},6745:(S,f,e)=>{e.d(f,{_:()=>o});var t=e(9974);function o(u,s=0){return(0,t.N)((l,E)=>{E.add(u.schedule(()=>l.subscribe(E),s))})}},6697:(S,f,e)=>{e.d(f,{s:()=>s});var t=e(983),o=e(9974),u=e(4360);function s(l){return l<=0?()=>t.w:(0,o.N)((E,_)=>{let d=0;E.subscribe((0,u._)(_,c=>{++d<=l&&(_.next(c),l<=d&&_.complete())}))})}},7119:(S,f,e)=>{e.d(f,{S:()=>l});var t=e(1985),o=e(4761),u=e(8071),s=e(5225);function l(E,_){return new t.c(d=>{let c;return(0,s.N)(d,_,()=>{c=E[o.l](),(0,s.N)(d,_,()=>{let P,b;try{({value:P,done:b}=c.next())}catch(T){return void d.error(T)}b?d.complete():d.next(P)},0,!0)}),()=>(0,u.T)(c?.return)&&c.return()})}},5894:(S,f,e)=>{e.d(f,{c:()=>U});var t=e(8750),o=e(941),u=e(6745),E=e(1985),d=e(7119),c=e(5225);function P(D,h){if(!D)throw new Error("Iterable cannot be null");return new E.c(m=>{(0,c.N)(m,h,()=>{const A=D[Symbol.asyncIterator]();(0,c.N)(m,h,()=>{A.next().then(L=>{L.done?m.complete():m.next(L.value)})},0,!0)})})}var b=e(5055),T=e(9858),R=e(7441),g=e(5397),O=e(7953),B=e(591),p=e(5196);function U(D,h){if(null!=D){if((0,b.l)(D))return function s(D,h){return(0,t.Tg)(D).pipe((0,u._)(h),(0,o.Q)(h))}(D,h);if((0,R.X)(D))return function _(D,h){return new E.c(m=>{let A=0;return h.schedule(function(){A===D.length?m.complete():(m.next(D[A++]),m.closed||this.schedule())})})}(D,h);if((0,T.y)(D))return function l(D,h){return(0,t.Tg)(D).pipe((0,u._)(h),(0,o.Q)(h))}(D,h);if((0,O.T)(D))return P(D,h);if((0,g.x)(D))return(0,d.S)(D,h);if((0,p.U)(D))return function M(D,h){return P((0,p.C)(D),h)}(D,h)}throw(0,B.L)(D)}},6780:(S,f,e)=>{e.d(f,{R:()=>l});var t=e(3961);class o extends t.yU{constructor(_,d){super()}schedule(_,d=0){return this}}const u={setInterval(E,_,...d){const{delegate:c}=u;return c?.setInterval?c.setInterval(E,_,...d):setInterval(E,_,...d)},clearInterval(E){const{delegate:_}=u;return(_?.clearInterval||clearInterval)(E)},delegate:void 0};var s=e(7908);class l extends o{constructor(_,d){super(_,d),this.scheduler=_,this.work=d,this.pending=!1}schedule(_,d=0){var c;if(this.closed)return this;this.state=_;const P=this.id,b=this.scheduler;return null!=P&&(this.id=this.recycleAsyncId(b,P,d)),this.pending=!0,this.delay=d,this.id=null!==(c=this.id)&&void 0!==c?c:this.requestAsyncId(b,this.id,d),this}requestAsyncId(_,d,c=0){return u.setInterval(_.flush.bind(_,this),c)}recycleAsyncId(_,d,c=0){if(null!=c&&this.delay===c&&!1===this.pending)return d;null!=d&&u.clearInterval(d)}execute(_,d){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const c=this._execute(_,d);if(c)return c;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_,d){let P,c=!1;try{this.work(_)}catch(b){c=!0,P=b||new Error("Scheduled action threw falsy error")}if(c)return this.unsubscribe(),P}unsubscribe(){if(!this.closed){const{id:_,scheduler:d}=this,{actions:c}=d;this.work=this.state=this.scheduler=null,this.pending=!1,(0,s.o)(c,this),null!=_&&(this.id=this.recycleAsyncId(d,_,null)),this.delay=null,super.unsubscribe()}}}},707:(S,f,e)=>{e.d(f,{q:()=>o});var t=e(8399);class o extends t._{constructor(s,l=t._.now){super(s,l),this.actions=[],this._active=!1}flush(s){const{actions:l}=this;if(this._active)return void l.push(s);let E;this._active=!0;do{if(E=s.execute(s.state,s.delay))break}while(s=l.shift());if(this._active=!1,E){for(;s=l.shift();)s.unsubscribe();throw E}}}},3236:(S,f,e)=>{e.d(f,{E:()=>u,b:()=>s});var t=e(6780);const u=new(e(707).q)(t.R),s=u},6129:(S,f,e)=>{e.d(f,{U:()=>t});const t={now:()=>(t.delegate||Date).now(),delegate:void 0}},9270:(S,f,e)=>{e.d(f,{f:()=>t});const t={setTimeout(o,u,...s){const{delegate:l}=t;return l?.setTimeout?l.setTimeout(o,u,...s):setTimeout(o,u,...s)},clearTimeout(o){const{delegate:u}=t;return(u?.clearTimeout||clearTimeout)(o)},delegate:void 0}},4761:(S,f,e)=>{e.d(f,{l:()=>o});const o=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(S,f,e)=>{e.d(f,{s:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},4079:(S,f,e)=>{e.d(f,{Z:()=>o});const o=(0,e(1853).L)(u=>function(l){u(this),this.message=l?`${l.length} errors occurred during unsubscription:\n${l.map((E,_)=>`${_+1}) ${E.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=l})},9326:(S,f,e)=>{e.d(f,{R0:()=>E,lI:()=>l,ms:()=>s});var t=e(8071),o=e(9470);function u(_){return _[_.length-1]}function s(_){return(0,t.T)(u(_))?_.pop():void 0}function l(_){return(0,o.m)(u(_))?_.pop():void 0}function E(_,d){return"number"==typeof u(_)?_.pop():d}},7908:(S,f,e)=>{function t(o,u){if(o){const s=o.indexOf(u);0<=s&&o.splice(s,1)}}e.d(f,{o:()=>t})},1853:(S,f,e)=>{function t(o){const s=o(l=>{Error.call(l),l.stack=(new Error).stack});return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s}e.d(f,{L:()=>t})},9786:(S,f,e)=>{e.d(f,{Y:()=>u,l:()=>s});var t=e(1026);let o=null;function u(l){if(t.$.useDeprecatedSynchronousErrorHandling){const E=!o;if(E&&(o={errorThrown:!1,error:null}),l(),E){const{errorThrown:_,error:d}=o;if(o=null,_)throw d}}else l()}function s(l){t.$.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=l)}},5225:(S,f,e)=>{function t(o,u,s,l=0,E=!1){const _=u.schedule(function(){s(),E?o.add(this.schedule(null,l)):this.unsubscribe()},l);if(o.add(_),!E)return _}e.d(f,{N:()=>t})},3669:(S,f,e)=>{function t(o){return o}e.d(f,{D:()=>t})},7441:(S,f,e)=>{e.d(f,{X:()=>t});const t=o=>o&&"number"==typeof o.length&&"function"!=typeof o},7953:(S,f,e)=>{e.d(f,{T:()=>o});var t=e(8071);function o(u){return Symbol.asyncIterator&&(0,t.T)(u?.[Symbol.asyncIterator])}},8211:(S,f,e)=>{function t(o){return o instanceof Date&&!isNaN(o)}e.d(f,{v:()=>t})},8071:(S,f,e)=>{function t(o){return"function"==typeof o}e.d(f,{T:()=>t})},5055:(S,f,e)=>{e.d(f,{l:()=>u});var t=e(3494),o=e(8071);function u(s){return(0,o.T)(s[t.s])}},5397:(S,f,e)=>{e.d(f,{x:()=>u});var t=e(4761),o=e(8071);function u(s){return(0,o.T)(s?.[t.l])}},9858:(S,f,e)=>{e.d(f,{y:()=>o});var t=e(8071);function o(u){return(0,t.T)(u?.then)}},5196:(S,f,e)=>{e.d(f,{C:()=>u,U:()=>s});var t=e(1635),o=e(8071);function u(l){return(0,t.AQ)(this,arguments,function*(){const _=l.getReader();try{for(;;){const{value:d,done:c}=yield(0,t.N3)(_.read());if(c)return yield(0,t.N3)(void 0);yield yield(0,t.N3)(d)}}finally{_.releaseLock()}})}function s(l){return(0,o.T)(l?.getReader)}},9470:(S,f,e)=>{e.d(f,{m:()=>o});var t=e(8071);function o(u){return u&&(0,t.T)(u.schedule)}},9974:(S,f,e)=>{e.d(f,{N:()=>u,S:()=>o});var t=e(8071);function o(s){return(0,t.T)(s?.lift)}function u(s){return l=>{if(o(l))return l.lift(function(E){try{return s(E,this)}catch(_){this.error(_)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(S,f,e)=>{function t(){}e.d(f,{l:()=>t})},1203:(S,f,e)=>{e.d(f,{F:()=>o,m:()=>u});var t=e(3669);function o(...s){return u(s)}function u(s){return 0===s.length?t.D:1===s.length?s[0]:function(E){return s.reduce((_,d)=>d(_),E)}}},5334:(S,f,e)=>{e.d(f,{m:()=>u});var t=e(1026),o=e(9270);function u(s){o.f.setTimeout(()=>{const{onUnhandledError:l}=t.$;if(!l)throw s;l(s)})}},591:(S,f,e)=>{function t(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}e.d(f,{L:()=>t})},467:(S,f,e)=>{function t(u,s,l,E,_,d,c){try{var P=u[d](c),b=P.value}catch(T){return void l(T)}P.done?s(b):Promise.resolve(b).then(E,_)}function o(u){return function(){var s=this,l=arguments;return new Promise(function(E,_){var d=u.apply(s,l);function c(b){t(d,E,_,c,P,"next",b)}function P(b){t(d,E,_,c,P,"throw",b)}c(void 0)})}}e.d(f,{A:()=>o})},1635:(S,f,e)=>{function T(r,n,i,a){return new(i||(i=Promise))(function(v,I){function w(W){try{C(a.next(W))}catch(x){I(x)}}function N(W){try{C(a.throw(W))}catch(x){I(x)}}function C(W){W.done?v(W.value):function y(v){return v instanceof i?v:new i(function(I){I(v)})}(W.value).then(w,N)}C((a=a.apply(r,n||[])).next())})}function h(r){return this instanceof h?(this.v=r,this):new h(r)}function m(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var y,a=i.apply(r,n||[]),v=[];return y=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),w("next"),w("throw"),w("return",function I(K){return function($){return Promise.resolve($).then(K,x)}}),y[Symbol.asyncIterator]=function(){return this},y;function w(K,$){a[K]&&(y[K]=function(H){return new Promise(function(G,Y){v.push([K,H,G,Y])>1||N(K,H)})},$&&(y[K]=$(y[K])))}function N(K,$){try{!function C(K){K.value instanceof h?Promise.resolve(K.value.v).then(W,x):X(v[0][2],K)}(a[K]($))}catch(H){X(v[0][3],H)}}function W(K){N("next",K)}function x(K){N("throw",K)}function X(K,$){K($),v.shift(),v.length&&N(v[0][0],v[0][1])}}function L(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r[Symbol.asyncIterator];return n?n.call(r):(r=function B(r){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&r[n],a=0;if(i)return i.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&a>=r.length&&(r=void 0),{value:r&&r[a++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(v){i[v]=r[v]&&function(I){return new Promise(function(w,N){!function y(v,I,w,N){Promise.resolve(N).then(function(C){v({value:C,done:w})},I)}(w,N,(I=r[v](I)).done,I.value)})}}}e.d(f,{AQ:()=>m,N3:()=>h,sH:()=>T,xN:()=>L}),"function"==typeof SuppressedError&&SuppressedError}}]);