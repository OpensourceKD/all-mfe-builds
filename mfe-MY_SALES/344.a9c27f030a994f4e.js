(self.webpackChunkmfe_MY_SALES=self.webpackChunkmfe_MY_SALES||[]).push([[344,963],{9963:(S,h,e)=>{e.r(h),e.d(h,{AuthService:()=>v,CoreServicesComponent:()=>E,CoreServicesService:()=>i,DummyDataService:()=>j,EventBusService:()=>B,MfeLoaderService:()=>W,ProductCategory:()=>b,RoleService:()=>f,SalesDataService:()=>R,SalesStatus:()=>M,UserRole:()=>u});var r=e(4332);let i=(()=>{class m{constructor(){}static{this.\u0275fac=function(s){return new(s||m)}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();var _=e(467),o=e(3425),d=e(4230);let v=(()=>{class m{constructor(t){this.http=t,this.id="auth of pokemon",this.ISSUER_BASE_URL="https://topfix-wrczmn.us1.zitadel.cloud",this.CLIENT_ID="336777344075263315",this.REDIRECT_URI="https://opensourcekd.github.io/i17e/auth-callback",this.SCOPE="openid profile email",this.TOKEN_KEY="zitadel_token",this.USER_INFO_KEY="zitadel_user_info",this.userSubject=new o.BehaviorSubject(this.getUserInfoFromStorage()),this.user$=this.userSubject.asObservable()}login(t){this.redirectToZitadelLogin()}redirectToZitadelLogin(){const t=new URL(`${this.ISSUER_BASE_URL}/oauth/v2/authorize`),s=this.generateRandomState(),D=this.generateCodeVerifier();sessionStorage.setItem("oauth_state",s),sessionStorage.setItem("code_verifier",D),t.searchParams.append("client_id",this.CLIENT_ID),t.searchParams.append("redirect_uri",this.REDIRECT_URI),t.searchParams.append("response_type","code"),t.searchParams.append("scope",this.SCOPE),t.searchParams.append("state",s),window.location.href=t.toString()}handleCallback(t,s){var D=this;return(0,_.A)(function*(){const I=sessionStorage.getItem("oauth_state");if(s!==I)return console.error("[AuthService] State mismatch - possible CSRF attack"),!1;try{const A=yield D.exchangeCodeForToken(t);D.setToken(A.access_token);const N=D.decodeIdToken(A.id_token);return D.setUserInfo(N),sessionStorage.removeItem("oauth_state"),sessionStorage.removeItem("code_verifier"),console.log("[AuthService] Authentication successful"),!0}catch(A){return console.error("[AuthService] Error exchanging code for token:",A),!1}})()}exchangeCodeForToken(t){var s=this;return(0,_.A)(function*(){const D=`${s.ISSUER_BASE_URL}/oauth/v2/token`,I=new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:s.REDIRECT_URI,client_id:s.CLIENT_ID}),A=yield fetch(D,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:I.toString()});if(!A.ok)throw new Error(`Token exchange failed: ${A.statusText}`);return A.json()})()}decodeIdToken(t){try{const s=t.split(".")[1],D=JSON.parse(atob(s));return{sub:D.sub,name:D.name,email:D.email}}catch(s){return console.error("[AuthService] Error decoding ID token:",s),{sub:""}}}logout(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_INFO_KEY),this.userSubject.next(null),console.log("[AuthService] User logged out")}getToken(){return localStorage.getItem(this.TOKEN_KEY)}setToken(t){localStorage.setItem(this.TOKEN_KEY,t)}isAuthenticated(){return!!this.getToken()}getUser(){return this.userSubject.value}getUserInfoFromStorage(){const t=localStorage.getItem(this.USER_INFO_KEY);return t?JSON.parse(t):null}setUserInfo(t){localStorage.setItem(this.USER_INFO_KEY,JSON.stringify(t)),this.userSubject.next(t)}generateRandomState(){const t=new Uint8Array(32);return crypto.getRandomValues(t),Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}generateCodeVerifier(){const t=new Uint8Array(32);return crypto.getRandomValues(t),Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}static{this.\u0275fac=function(s){return new(s||m)(r.\u0275\u0275inject(d.HttpClient))}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),E=(()=>{class m{static{this.\u0275fac=function(s){return new(s||m)}}static{this.\u0275cmp=r.\u0275\u0275defineComponent({type:m,selectors:[["org-core-services"]],standalone:!0,features:[r.\u0275\u0275StandaloneFeature],decls:2,vars:0,template:function(s,D){1&s&&(r.\u0275\u0275elementStart(0,"p"),r.\u0275\u0275text(1," core-services works! "),r.\u0275\u0275elementEnd())}})}}return m})();var u=function(m){return m.SUPER_ADMIN="super-admin",m.ORG_ADMIN="org-admin",m.TEAM_LEAD="team-lead",m.SALES_EXECUTIVE="sales-executive",m}(u||{});let f=(()=>{class m{constructor(){this.currentUserSubject=new o.BehaviorSubject(this.getDummyUser()),this.currentUser$=this.currentUserSubject.asObservable()}getCurrentUser(){return this.currentUserSubject.value}setCurrentUser(t){this.currentUserSubject.next(t)}hasRole(t){return this.getCurrentUser()?.role===t}hasAnyRole(t){const s=this.getCurrentUser();return!!s&&t.includes(s.role)}isAdmin(){return this.hasAnyRole([u.SUPER_ADMIN,u.ORG_ADMIN])}isTeamLeadOrHigher(){return this.hasAnyRole([u.SUPER_ADMIN,u.ORG_ADMIN,u.TEAM_LEAD])}getAllUsers(){return[{id:"user-1",name:"John Admin",email:"john.admin@company.com",role:u.SUPER_ADMIN},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",role:u.ORG_ADMIN},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",role:u.TEAM_LEAD,teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:u.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",role:u.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",role:u.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}]}getViewableUsers(){const t=this.getCurrentUser();if(!t)return[];const s=this.getAllUsers();return this.isTeamLeadOrHigher()?s.filter(D=>D.role===u.SALES_EXECUTIVE||D.id===t.id):s.filter(D=>D.id===t.id)}getDummyUser(){return{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:u.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}}static{this.\u0275fac=function(s){return new(s||m)}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();var O=e(3103),M=function(m){return m.COMPLETED="completed",m.PENDING="pending",m.CANCELLED="cancelled",m}(M||{}),b=function(m){return m.ELECTRONICS="Electronics",m.SOFTWARE="Software",m.SERVICES="Services",m.HARDWARE="Hardware",m}(b||{});let R=(()=>{class m{constructor(){this.dummySalesData=this.generateDummyData()}getSalesHistory(t,s,D){let I=this.dummySalesData.filter(A=>A.salesExecutiveId===t);return s&&(I=I.filter(A=>A.date>=s)),D&&(I=I.filter(A=>A.date<=D)),(0,o.of)(I).pipe((0,O.c)(300))}getSalesSummary(t){const s=this.dummySalesData.filter(I=>I.salesExecutiveId===t),D={totalSales:s.filter(I=>I.status===M.COMPLETED).reduce((I,A)=>I+A.amount,0),totalCommission:s.filter(I=>I.status===M.COMPLETED).reduce((I,A)=>I+A.commission,0),completedCount:s.filter(I=>I.status===M.COMPLETED).length,pendingCount:s.filter(I=>I.status===M.PENDING).length,cancelledCount:s.filter(I=>I.status===M.CANCELLED).length};return(0,o.of)(D).pipe((0,O.c)(300))}getAllSales(){return(0,o.of)(this.dummySalesData).pipe((0,O.c)(300))}generateDummyData(){const t=[{name:"Enterprise Software License",category:b.SOFTWARE,basePrice:5e4},{name:"Cloud Storage Solution",category:b.SERVICES,basePrice:25e3},{name:"Server Hardware",category:b.HARDWARE,basePrice:35e3},{name:"IoT Device Package",category:b.ELECTRONICS,basePrice:15e3},{name:"Consulting Services",category:b.SERVICES,basePrice:2e4},{name:"Mobile App Development",category:b.SOFTWARE,basePrice:45e3},{name:"Security Suite",category:b.SOFTWARE,basePrice:3e4},{name:"Network Infrastructure",category:b.HARDWARE,basePrice:6e4}],s=["Acme Corporation","Tech Innovations Inc","Global Solutions Ltd","Digital Dynamics","Future Systems","Smart Technologies","Enterprise Solutions","Cloud Masters"],D=["North","South","East","West","Central"],I=[{id:"user-4",name:"Alice Sales"},{id:"user-5",name:"Bob Sales"},{id:"user-6",name:"Carol Sales"}],A=[M.COMPLETED,M.COMPLETED,M.COMPLETED,M.PENDING,M.CANCELLED],N=[];let G=1;for(let z=0;z<50;z++){const J=I[z%I.length],Z=t[Math.floor(Math.random()*t.length)],ee=s[Math.floor(Math.random()*s.length)],te=D[Math.floor(Math.random()*D.length)],re=A[Math.floor(Math.random()*A.length)],k=Z.basePrice+(1e4*Math.random()-5e3),ne=.05*k,q=new Date;q.setDate(q.getDate()-Math.floor(180*Math.random())),N.push({id:"sale-"+G++,salesExecutiveId:J.id,salesExecutiveName:J.name,productName:Z.name,productCategory:Z.category,amount:Math.round(k),commission:Math.round(ne),status:re,date:q,clientName:ee,region:te})}return N.sort((z,J)=>J.date.getTime()-z.date.getTime())}static{this.\u0275fac=function(s){return new(s||m)}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();var g=e(5964),U=e(6354);let B=(()=>{class m{constructor(){this.eventSubject=new o.Subject}emit(t,s){this.eventSubject.next({type:t,payload:s})}on(t){return t?this.eventSubject.asObservable().pipe((0,g.p)(s=>s.type===t)):this.eventSubject.asObservable()}onPayload(t){return this.eventSubject.asObservable().pipe((0,g.p)(s=>s.type===t),(0,U.T)(s=>s.payload))}static{this.\u0275fac=function(s){return new(s||m)}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})();var L=e(9437);let W=(()=>{class m{constructor(){this.loadedMfes=new Map}loadRemoteModule(t){return this.loadedMfes.has(t.remoteEntry)?(0,o.of)(this.loadedMfes.get(t.remoteEntry)):(0,o.from)(this.dynamicLoad(t)).pipe((0,U.T)(s=>(this.loadedMfes.set(t.remoteEntry,s),s)),(0,L.W)(s=>{throw console.error(`Failed to load MFE from ${t.remoteEntry}:`,s),s}))}isLoaded(t){return this.loadedMfes.has(t)}getLoadedModule(t){return this.loadedMfes.get(t)}preloadModules(t){const s=t.map(D=>this.loadRemoteModule(D).toPromise());return(0,o.from)(Promise.all(s))}clearCache(t){t?this.loadedMfes.delete(t):this.loadedMfes.clear()}dynamicLoad(t){return(0,_.A)(function*(){return Promise.resolve({config:t,loaded:!0,timestamp:new Date})})()}static{this.\u0275fac=function(s){return new(s||m)}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),j=(()=>{class m{constructor(){}generateData(t,s){return Array.from({length:t},(D,I)=>s(I))}getData(t,s=500){return(0,o.of)(t).pipe((0,O.c)(s))}generateUsers(t){const s=["John","Jane","Bob","Alice","Charlie","Diana","Eve","Frank"],D=["Smith","Johnson","Williams","Brown","Jones","Garcia","Miller","Davis"],I=["example.com","test.com","demo.com"];return this.generateData(t,A=>{const N=s[A%s.length],G=D[Math.floor(A/s.length)%D.length];return{id:`user-${A+1}`,firstName:N,lastName:G,fullName:`${N} ${G}`,email:`${N.toLowerCase()}.${G.toLowerCase()}@${I[A%I.length]}`,phone:`+1-555-${String(1e3+A).padStart(4,"0")}`,createdAt:new Date(Date.now()-24*A*60*60*1e3)}})}generateProducts(t){const s=["Electronics","Clothing","Food","Books","Toys"],D=["Premium","Deluxe","Standard","Basic","Pro"],I=["Widget","Gadget","Device","Tool","Item"];return this.generateData(t,A=>({id:`prod-${A+1}`,name:`${D[A%D.length]} ${I[Math.floor(A/D.length)%I.length]}`,category:s[A%s.length],price:Math.round(100*(10+990*Math.random()))/100,inStock:Math.random()>.2,rating:Math.round(10*(3+2*Math.random()))/10,createdAt:new Date(Date.now()-24*A*60*60*1e3)}))}generateTransactions(t){const s=["completed","pending","failed","cancelled"],D=["purchase","refund","transfer"];return this.generateData(t,I=>({id:`txn-${I+1}`,type:D[I%D.length],amount:Math.round(100*(10+1e3*Math.random()))/100,status:s[I%s.length],userId:"user-"+(I%10+1),timestamp:new Date(Date.now()-60*I*60*1e3),description:`Transaction #${I+1}`}))}randomString(t=10){return Array.from({length:t},()=>"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(62*Math.random())]).join("")}randomNumber(t=0,s=100){return Math.floor(Math.random()*(s-t+1))+t}randomDate(t=new Date(2020,0,1),s=new Date){const D=t.getTime(),I=s.getTime();return new Date(D+Math.random()*(I-D))}static{this.\u0275fac=function(s){return new(s||m)}}static{this.\u0275prov=r.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},1985:(S,h,e)=>{e.d(h,{c:()=>u});var r=e(7707),i=e(3961),_=e(3494),o=e(1203),d=e(1026),v=e(8071),E=e(9786);let u=(()=>{class b{constructor(g){g&&(this._subscribe=g)}lift(g){const U=new b;return U.source=this,U.operator=g,U}subscribe(g,U,B){const L=function M(b){return b&&b instanceof r.vU||function O(b){return b&&(0,v.T)(b.next)&&(0,v.T)(b.error)&&(0,v.T)(b.complete)}(b)&&(0,i.Uv)(b)}(g)?g:new r.Ms(g,U,B);return(0,E.Y)(()=>{const{operator:W,source:j}=this;L.add(W?W.call(L,j):j?this._subscribe(L):this._trySubscribe(L))}),L}_trySubscribe(g){try{return this._subscribe(g)}catch(U){g.error(U)}}forEach(g,U){return new(U=f(U))((B,L)=>{const W=new r.Ms({next:j=>{try{g(j)}catch(m){L(m),W.unsubscribe()}},error:L,complete:B});this.subscribe(W)})}_subscribe(g){var U;return null===(U=this.source)||void 0===U?void 0:U.subscribe(g)}[_.s](){return this}pipe(...g){return(0,o.m)(g)(this)}toPromise(g){return new(g=f(g))((U,B)=>{let L;this.subscribe(W=>L=W,W=>B(W),()=>U(L))})}}return b.create=R=>new b(R),b})();function f(b){var R;return null!==(R=b??d.$.Promise)&&void 0!==R?R:Promise}},8399:(S,h,e)=>{e.d(h,{_:()=>i});var r=e(6129);class i{constructor(o,d=i.now){this.schedulerActionCtor=o,this.now=d}schedule(o,d=0,v){return new this.schedulerActionCtor(this,o).schedule(v,d)}}i.now=r.U.now},7707:(S,h,e)=>{e.d(h,{Ms:()=>B,vU:()=>b});var r=e(8071),i=e(3961),_=e(1026),o=e(5334),d=e(5343);const v=f("C",void 0,void 0);function f(P,t,s){return{kind:P,value:t,error:s}}var O=e(9270),M=e(9786);class b extends i.yU{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,(0,i.Uv)(t)&&t.add(this)):this.destination=m}static create(t,s,D){return new B(t,s,D)}next(t){this.isStopped?j(function u(P){return f("N",P,void 0)}(t),this):this._next(t)}error(t){this.isStopped?j(function E(P){return f("E",void 0,P)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?j(v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const R=Function.prototype.bind;function g(P,t){return R.call(P,t)}class U{constructor(t){this.partialObserver=t}next(t){const{partialObserver:s}=this;if(s.next)try{s.next(t)}catch(D){L(D)}}error(t){const{partialObserver:s}=this;if(s.error)try{s.error(t)}catch(D){L(D)}else L(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(s){L(s)}}}class B extends b{constructor(t,s,D){let I;if(super(),(0,r.T)(t)||!t)I={next:t??void 0,error:s??void 0,complete:D??void 0};else{let A;this&&_.$.useDeprecatedNextContext?(A=Object.create(t),A.unsubscribe=()=>this.unsubscribe(),I={next:t.next&&g(t.next,A),error:t.error&&g(t.error,A),complete:t.complete&&g(t.complete,A)}):I=t}this.destination=new U(I)}}function L(P){_.$.useDeprecatedSynchronousErrorHandling?(0,M.l)(P):(0,o.m)(P)}function j(P,t){const{onStoppedNotification:s}=_.$;s&&O.f.setTimeout(()=>s(P,t))}const m={closed:!0,next:d.l,error:function W(P){throw P},complete:d.l}},3961:(S,h,e)=>{e.d(h,{Kn:()=>d,Uv:()=>v,yU:()=>o});var r=e(8071),i=e(4079),_=e(7908);class o{constructor(f){this.initialTeardown=f,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let f;if(!this.closed){this.closed=!0;const{_parentage:O}=this;if(O)if(this._parentage=null,Array.isArray(O))for(const R of O)R.remove(this);else O.remove(this);const{initialTeardown:M}=this;if((0,r.T)(M))try{M()}catch(R){f=R instanceof i.Z?R.errors:[R]}const{_finalizers:b}=this;if(b){this._finalizers=null;for(const R of b)try{E(R)}catch(g){f=f??[],g instanceof i.Z?f=[...f,...g.errors]:f.push(g)}}if(f)throw new i.Z(f)}}add(f){var O;if(f&&f!==this)if(this.closed)E(f);else{if(f instanceof o){if(f.closed||f._hasParent(this))return;f._addParent(this)}(this._finalizers=null!==(O=this._finalizers)&&void 0!==O?O:[]).push(f)}}_hasParent(f){const{_parentage:O}=this;return O===f||Array.isArray(O)&&O.includes(f)}_addParent(f){const{_parentage:O}=this;this._parentage=Array.isArray(O)?(O.push(f),O):O?[O,f]:f}_removeParent(f){const{_parentage:O}=this;O===f?this._parentage=null:Array.isArray(O)&&(0,_.o)(O,f)}remove(f){const{_finalizers:O}=this;O&&(0,_.o)(O,f),f instanceof o&&f._removeParent(this)}}o.EMPTY=(()=>{const u=new o;return u.closed=!0,u})();const d=o.EMPTY;function v(u){return u instanceof o||u&&"closed"in u&&(0,r.T)(u.remove)&&(0,r.T)(u.add)&&(0,r.T)(u.unsubscribe)}function E(u){(0,r.T)(u)?u():u.unsubscribe()}},1026:(S,h,e)=>{e.d(h,{$:()=>r});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},2688:(S,h,e)=>{e.d(h,{x:()=>o});var r=e(9131),i=e(9326),_=e(9724);function o(...d){return(0,r.K)()((0,_.H)(d,(0,i.lI)(d)))}},983:(S,h,e)=>{e.d(h,{I:()=>_,w:()=>i});var r=e(1985);const i=new r.c(d=>d.complete());function _(d){return d?function o(d){return new r.c(v=>d.schedule(()=>v.complete()))}(d):i}},9724:(S,h,e)=>{e.d(h,{H:()=>_});var r=e(5894),i=e(8750);function _(o,d){return d?(0,r.c)(o,d):(0,i.Tg)(o)}},8750:(S,h,e)=>{e.d(h,{Tg:()=>R});var r=e(1635),i=e(7441),_=e(9858),o=e(1985),d=e(5055),v=e(7953),E=e(591),u=e(5397),f=e(5196),O=e(8071),M=e(5334),b=e(3494);function R(P){if(P instanceof o.c)return P;if(null!=P){if((0,d.l)(P))return function g(P){return new o.c(t=>{const s=P[b.s]();if((0,O.T)(s.subscribe))return s.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(P);if((0,i.X)(P))return function U(P){return new o.c(t=>{for(let s=0;s<P.length&&!t.closed;s++)t.next(P[s]);t.complete()})}(P);if((0,_.y)(P))return function B(P){return new o.c(t=>{P.then(s=>{t.closed||(t.next(s),t.complete())},s=>t.error(s)).then(null,M.m)})}(P);if((0,v.T)(P))return W(P);if((0,u.x)(P))return function L(P){return new o.c(t=>{for(const s of P)if(t.next(s),t.closed)return;t.complete()})}(P);if((0,f.U)(P))return function j(P){return W((0,f.C)(P))}(P)}throw(0,E.L)(P)}function W(P){return new o.c(t=>{(function m(P,t){var s,D,I,A;return(0,r.sH)(this,void 0,void 0,function*(){try{for(s=(0,r.xN)(P);!(D=yield s.next()).done;)if(t.next(D.value),t.closed)return}catch(N){I={error:N}}finally{try{D&&!D.done&&(A=s.return)&&(yield A.call(s))}finally{if(I)throw I.error}}t.complete()})})(P,t).catch(s=>t.error(s))})}},1807:(S,h,e)=>{e.d(h,{O:()=>d});var r=e(1985),i=e(3236),_=e(9470),o=e(8211);function d(v=0,E,u=i.b){let f=-1;return null!=E&&((0,_.m)(E)?u=E:f=E),new r.c(O=>{let M=(0,o.v)(v)?+v-u.now():v;M<0&&(M=0);let b=0;return u.schedule(function(){O.closed||(O.next(b++),0<=f?this.schedule(void 0,f):O.complete())},M)})}},4360:(S,h,e)=>{e.d(h,{H:()=>_,_:()=>i});var r=e(7707);function i(o,d,v,E,u){return new _(o,d,v,E,u)}class _ extends r.vU{constructor(d,v,E,u,f,O){super(d),this.onFinalize=f,this.shouldUnsubscribe=O,this._next=v?function(M){try{v(M)}catch(b){d.error(b)}}:super._next,this._error=u?function(M){try{u(M)}catch(b){d.error(b)}finally{this.unsubscribe()}}:super._error,this._complete=E?function(){try{E()}catch(M){d.error(M)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var d;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:v}=this;super.unsubscribe(),!v&&(null===(d=this.onFinalize)||void 0===d||d.call(this))}}}},9437:(S,h,e)=>{e.d(h,{W:()=>o});var r=e(8750),i=e(4360),_=e(9974);function o(d){return(0,_.N)((v,E)=>{let O,u=null,f=!1;u=v.subscribe((0,i._)(E,void 0,void 0,M=>{O=(0,r.Tg)(d(M,o(d)(v))),u?(u.unsubscribe(),u=null,O.subscribe(E)):f=!0})),f&&(u.unsubscribe(),u=null,O.subscribe(E))})}},9131:(S,h,e)=>{e.d(h,{K:()=>i});var r=e(6365);function i(){return(0,r.U)(1)}},3103:(S,h,e)=>{e.d(h,{c:()=>o});var r=e(3236),i=e(3183),_=e(1807);function o(d,v=r.E){const E=(0,_.O)(d,v);return(0,i.o)(()=>E)}},3183:(S,h,e)=>{e.d(h,{o:()=>E});var r=e(2688),i=e(6697),_=e(3557),o=e(3703),d=e(3028),v=e(8750);function E(u,f){return f?O=>(0,r.x)(f.pipe((0,i.s)(1),(0,_.w)()),O.pipe(E(u))):(0,d.Z)((O,M)=>(0,v.Tg)(u(O,M)).pipe((0,i.s)(1),(0,o.u)(O)))}},5964:(S,h,e)=>{e.d(h,{p:()=>_});var r=e(9974),i=e(4360);function _(o,d){return(0,r.N)((v,E)=>{let u=0;v.subscribe((0,i._)(E,f=>o.call(d,f,u++)&&E.next(f)))})}},3557:(S,h,e)=>{e.d(h,{w:()=>o});var r=e(9974),i=e(4360),_=e(5343);function o(){return(0,r.N)((d,v)=>{d.subscribe((0,i._)(v,_.l))})}},6354:(S,h,e)=>{e.d(h,{T:()=>_});var r=e(9974),i=e(4360);function _(o,d){return(0,r.N)((v,E)=>{let u=0;v.subscribe((0,i._)(E,f=>{E.next(o.call(d,f,u++))}))})}},3703:(S,h,e)=>{e.d(h,{u:()=>i});var r=e(6354);function i(_){return(0,r.T)(()=>_)}},6365:(S,h,e)=>{e.d(h,{U:()=>_});var r=e(3028),i=e(3669);function _(o=1/0){return(0,r.Z)(i.D,o)}},5412:(S,h,e)=>{e.d(h,{h:()=>o});var r=e(8750),i=e(5225),_=e(4360);function o(d,v,E,u,f,O,M,b){const R=[];let g=0,U=0,B=!1;const L=()=>{B&&!R.length&&!g&&v.complete()},W=m=>g<u?j(m):R.push(m),j=m=>{O&&v.next(m),g++;let P=!1;(0,r.Tg)(E(m,U++)).subscribe((0,_._)(v,t=>{f?.(t),O?W(t):v.next(t)},()=>{P=!0},void 0,()=>{if(P)try{for(g--;R.length&&g<u;){const t=R.shift();M?(0,i.N)(v,M,()=>j(t)):j(t)}L()}catch(t){v.error(t)}}))};return d.subscribe((0,_._)(v,W,()=>{B=!0,L()})),()=>{b?.()}}},3028:(S,h,e)=>{e.d(h,{Z:()=>v});var r=e(6354),i=e(8750),_=e(9974),o=e(5412),d=e(8071);function v(E,u,f=1/0){return(0,d.T)(u)?v((O,M)=>(0,r.T)((b,R)=>u(O,b,M,R))((0,i.Tg)(E(O,M))),f):("number"==typeof u&&(f=u),(0,_.N)((O,M)=>(0,o.h)(O,M,E,f)))}},941:(S,h,e)=>{e.d(h,{Q:()=>o});var r=e(5225),i=e(9974),_=e(4360);function o(d,v=0){return(0,i.N)((E,u)=>{E.subscribe((0,_._)(u,f=>(0,r.N)(u,d,()=>u.next(f),v),()=>(0,r.N)(u,d,()=>u.complete(),v),f=>(0,r.N)(u,d,()=>u.error(f),v)))})}},6745:(S,h,e)=>{e.d(h,{_:()=>i});var r=e(9974);function i(_,o=0){return(0,r.N)((d,v)=>{v.add(_.schedule(()=>d.subscribe(v),o))})}},6697:(S,h,e)=>{e.d(h,{s:()=>o});var r=e(983),i=e(9974),_=e(4360);function o(d){return d<=0?()=>r.w:(0,i.N)((v,E)=>{let u=0;v.subscribe((0,_._)(E,f=>{++u<=d&&(E.next(f),d<=u&&E.complete())}))})}},7119:(S,h,e)=>{e.d(h,{S:()=>d});var r=e(1985),i=e(4761),_=e(8071),o=e(5225);function d(v,E){return new r.c(u=>{let f;return(0,o.N)(u,E,()=>{f=v[i.l](),(0,o.N)(u,E,()=>{let O,M;try{({value:O,done:M}=f.next())}catch(b){return void u.error(b)}M?u.complete():u.next(O)},0,!0)}),()=>(0,_.T)(f?.return)&&f.return()})}},5894:(S,h,e)=>{e.d(h,{c:()=>j});var r=e(8750),i=e(941),_=e(6745),v=e(1985),u=e(7119),f=e(5225);function O(m,P){if(!m)throw new Error("Iterable cannot be null");return new v.c(t=>{(0,f.N)(t,P,()=>{const s=m[Symbol.asyncIterator]();(0,f.N)(t,P,()=>{s.next().then(D=>{D.done?t.complete():t.next(D.value)})},0,!0)})})}var M=e(5055),b=e(9858),R=e(7441),g=e(5397),U=e(7953),B=e(591),L=e(5196);function j(m,P){if(null!=m){if((0,M.l)(m))return function o(m,P){return(0,r.Tg)(m).pipe((0,_._)(P),(0,i.Q)(P))}(m,P);if((0,R.X)(m))return function E(m,P){return new v.c(t=>{let s=0;return P.schedule(function(){s===m.length?t.complete():(t.next(m[s++]),t.closed||this.schedule())})})}(m,P);if((0,b.y)(m))return function d(m,P){return(0,r.Tg)(m).pipe((0,_._)(P),(0,i.Q)(P))}(m,P);if((0,U.T)(m))return O(m,P);if((0,g.x)(m))return(0,u.S)(m,P);if((0,L.U)(m))return function W(m,P){return O((0,L.C)(m),P)}(m,P)}throw(0,B.L)(m)}},6780:(S,h,e)=>{e.d(h,{R:()=>d});var r=e(3961);class i extends r.yU{constructor(E,u){super()}schedule(E,u=0){return this}}const _={setInterval(v,E,...u){const{delegate:f}=_;return f?.setInterval?f.setInterval(v,E,...u):setInterval(v,E,...u)},clearInterval(v){const{delegate:E}=_;return(E?.clearInterval||clearInterval)(v)},delegate:void 0};var o=e(7908);class d extends i{constructor(E,u){super(E,u),this.scheduler=E,this.work=u,this.pending=!1}schedule(E,u=0){var f;if(this.closed)return this;this.state=E;const O=this.id,M=this.scheduler;return null!=O&&(this.id=this.recycleAsyncId(M,O,u)),this.pending=!0,this.delay=u,this.id=null!==(f=this.id)&&void 0!==f?f:this.requestAsyncId(M,this.id,u),this}requestAsyncId(E,u,f=0){return _.setInterval(E.flush.bind(E,this),f)}recycleAsyncId(E,u,f=0){if(null!=f&&this.delay===f&&!1===this.pending)return u;null!=u&&_.clearInterval(u)}execute(E,u){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const f=this._execute(E,u);if(f)return f;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(E,u){let O,f=!1;try{this.work(E)}catch(M){f=!0,O=M||new Error("Scheduled action threw falsy error")}if(f)return this.unsubscribe(),O}unsubscribe(){if(!this.closed){const{id:E,scheduler:u}=this,{actions:f}=u;this.work=this.state=this.scheduler=null,this.pending=!1,(0,o.o)(f,this),null!=E&&(this.id=this.recycleAsyncId(u,E,null)),this.delay=null,super.unsubscribe()}}}},707:(S,h,e)=>{e.d(h,{q:()=>i});var r=e(8399);class i extends r._{constructor(o,d=r._.now){super(o,d),this.actions=[],this._active=!1}flush(o){const{actions:d}=this;if(this._active)return void d.push(o);let v;this._active=!0;do{if(v=o.execute(o.state,o.delay))break}while(o=d.shift());if(this._active=!1,v){for(;o=d.shift();)o.unsubscribe();throw v}}}},3236:(S,h,e)=>{e.d(h,{E:()=>_,b:()=>o});var r=e(6780);const _=new(e(707).q)(r.R),o=_},6129:(S,h,e)=>{e.d(h,{U:()=>r});const r={now:()=>(r.delegate||Date).now(),delegate:void 0}},9270:(S,h,e)=>{e.d(h,{f:()=>r});const r={setTimeout(i,_,...o){const{delegate:d}=r;return d?.setTimeout?d.setTimeout(i,_,...o):setTimeout(i,_,...o)},clearTimeout(i){const{delegate:_}=r;return(_?.clearTimeout||clearTimeout)(i)},delegate:void 0}},4761:(S,h,e)=>{e.d(h,{l:()=>i});const i=function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(S,h,e)=>{e.d(h,{s:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},4079:(S,h,e)=>{e.d(h,{Z:()=>i});const i=(0,e(1853).L)(_=>function(d){_(this),this.message=d?`${d.length} errors occurred during unsubscription:\n${d.map((v,E)=>`${E+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=d})},9326:(S,h,e)=>{e.d(h,{R0:()=>v,lI:()=>d,ms:()=>o});var r=e(8071),i=e(9470);function _(E){return E[E.length-1]}function o(E){return(0,r.T)(_(E))?E.pop():void 0}function d(E){return(0,i.m)(_(E))?E.pop():void 0}function v(E,u){return"number"==typeof _(E)?E.pop():u}},7908:(S,h,e)=>{function r(i,_){if(i){const o=i.indexOf(_);0<=o&&i.splice(o,1)}}e.d(h,{o:()=>r})},1853:(S,h,e)=>{function r(i){const o=i(d=>{Error.call(d),d.stack=(new Error).stack});return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o}e.d(h,{L:()=>r})},9786:(S,h,e)=>{e.d(h,{Y:()=>_,l:()=>o});var r=e(1026);let i=null;function _(d){if(r.$.useDeprecatedSynchronousErrorHandling){const v=!i;if(v&&(i={errorThrown:!1,error:null}),d(),v){const{errorThrown:E,error:u}=i;if(i=null,E)throw u}}else d()}function o(d){r.$.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=d)}},5225:(S,h,e)=>{function r(i,_,o,d=0,v=!1){const E=_.schedule(function(){o(),v?i.add(this.schedule(null,d)):this.unsubscribe()},d);if(i.add(E),!v)return E}e.d(h,{N:()=>r})},3669:(S,h,e)=>{function r(i){return i}e.d(h,{D:()=>r})},7441:(S,h,e)=>{e.d(h,{X:()=>r});const r=i=>i&&"number"==typeof i.length&&"function"!=typeof i},7953:(S,h,e)=>{e.d(h,{T:()=>i});var r=e(8071);function i(_){return Symbol.asyncIterator&&(0,r.T)(_?.[Symbol.asyncIterator])}},8211:(S,h,e)=>{function r(i){return i instanceof Date&&!isNaN(i)}e.d(h,{v:()=>r})},8071:(S,h,e)=>{function r(i){return"function"==typeof i}e.d(h,{T:()=>r})},5055:(S,h,e)=>{e.d(h,{l:()=>_});var r=e(3494),i=e(8071);function _(o){return(0,i.T)(o[r.s])}},5397:(S,h,e)=>{e.d(h,{x:()=>_});var r=e(4761),i=e(8071);function _(o){return(0,i.T)(o?.[r.l])}},9858:(S,h,e)=>{e.d(h,{y:()=>i});var r=e(8071);function i(_){return(0,r.T)(_?.then)}},5196:(S,h,e)=>{e.d(h,{C:()=>_,U:()=>o});var r=e(1635),i=e(8071);function _(d){return(0,r.AQ)(this,arguments,function*(){const E=d.getReader();try{for(;;){const{value:u,done:f}=yield(0,r.N3)(E.read());if(f)return yield(0,r.N3)(void 0);yield yield(0,r.N3)(u)}}finally{E.releaseLock()}})}function o(d){return(0,i.T)(d?.getReader)}},9470:(S,h,e)=>{e.d(h,{m:()=>i});var r=e(8071);function i(_){return _&&(0,r.T)(_.schedule)}},9974:(S,h,e)=>{e.d(h,{N:()=>_,S:()=>i});var r=e(8071);function i(o){return(0,r.T)(o?.lift)}function _(o){return d=>{if(i(d))return d.lift(function(v){try{return o(v,this)}catch(E){this.error(E)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(S,h,e)=>{function r(){}e.d(h,{l:()=>r})},1203:(S,h,e)=>{e.d(h,{F:()=>i,m:()=>_});var r=e(3669);function i(...o){return _(o)}function _(o){return 0===o.length?r.D:1===o.length?o[0]:function(v){return o.reduce((E,u)=>u(E),v)}}},5334:(S,h,e)=>{e.d(h,{m:()=>_});var r=e(1026),i=e(9270);function _(o){i.f.setTimeout(()=>{const{onUnhandledError:d}=r.$;if(!d)throw o;d(o)})}},591:(S,h,e)=>{function r(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}e.d(h,{L:()=>r})},467:(S,h,e)=>{function r(_,o,d,v,E,u,f){try{var O=_[u](f),M=O.value}catch(b){return void d(b)}O.done?o(M):Promise.resolve(M).then(v,E)}function i(_){return function(){var o=this,d=arguments;return new Promise(function(v,E){var u=_.apply(o,d);function f(M){r(u,v,E,f,O,"next",M)}function O(M){r(u,v,E,f,O,"throw",M)}f(void 0)})}}e.d(h,{A:()=>i})},1635:(S,h,e)=>{function b(n,a,l,c){return new(l||(l=Promise))(function(y,T){function w(x){try{C(c.next(x))}catch(F){T(F)}}function $(x){try{C(c.throw(x))}catch(F){T(F)}}function C(x){x.done?y(x.value):function p(y){return y instanceof l?y:new l(function(T){T(y)})}(x.value).then(w,$)}C((c=c.apply(n,a||[])).next())})}function P(n){return this instanceof P?(this.v=n,this):new P(n)}function t(n,a,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var p,c=l.apply(n,a||[]),y=[];return p=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),w("next"),w("throw"),w("return",function T(K){return function(H){return Promise.resolve(H).then(K,F)}}),p[Symbol.asyncIterator]=function(){return this},p;function w(K,H){c[K]&&(p[K]=function(V){return new Promise(function(Y,X){y.push([K,V,Y,X])>1||$(K,V)})},H&&(p[K]=H(p[K])))}function $(K,H){try{!function C(K){K.value instanceof P?Promise.resolve(K.value.v).then(x,F):Q(y[0][2],K)}(c[K](H))}catch(V){Q(y[0][3],V)}}function x(K){$("next",K)}function F(K){$("throw",K)}function Q(K,H){K(H),y.shift(),y.length&&$(y[0][0],y[0][1])}}function D(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,a=n[Symbol.asyncIterator];return a?a.call(n):(n=function B(n){var a="function"==typeof Symbol&&Symbol.iterator,l=a&&n[a],c=0;if(l)return l.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&c>=n.length&&(n=void 0),{value:n&&n[c++],done:!n}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l);function c(y){l[y]=n[y]&&function(T){return new Promise(function(w,$){!function p(y,T,w,$){Promise.resolve($).then(function(C){y({value:C,done:w})},T)}(w,$,(T=n[y](T)).done,T.value)})}}}e.d(h,{AQ:()=>t,N3:()=>P,sH:()=>b,xN:()=>D}),"function"==typeof SuppressedError&&SuppressedError}}]);